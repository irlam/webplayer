{"version":3,"sources":["other/axios.js","other/user_info.js","other/local-db.js","other/auth.js","components/NavBar.js","components/MainMenu/MainMenu.js","components/AccountInfo.js","actions/h24.js","components/Popup/Popup.js","components/Login.js","components/LateralBar/LateralBar.js","components/Live/ChannelEpgBar.js","other/vod-series-name-optimizer.js","other/tmdb.js","other/group-by.js","other/load-playlist.js","other/epg-database.js","components/Live/Fullscreen.js","components/Player/Buttons/Button.js","components/Player/Buttons/VolumeButton.js","components/Player/Buttons/PiPButton.js","other/generate-url.js","other/Player-github/style.js","components/Player/Player.js","components/Live/PulsingDot.js","components/Live/Epg.js","components/Live/EpgListing.js","components/Live/ChannelEpg.js","components/Live/Channel.js","actions/playingChannel.js","components/Live/Channels.js","actions/set-Playlist.js","actions/set-Group.js","components/Live/MainLive.js","components/Group/Groups.js","components/Search/Search.js","components/Epg-Fullscreen/Day.js","components/Epg-Fullscreen/EpgFullListing.js","other/Player-github/player-github.js","components/Epg-Fullscreen/NavBar.js","actions/epgPopup.js","components/Epg-Fullscreen/Programme.js","components/Epg-Fullscreen/Programme-fake.js","components/Epg-Fullscreen/ProgrammeListing.js","components/Epg-Fullscreen/EpgChannel.js","components/Epg-Fullscreen/TimeBar/TimeBarIndicator.js","components/Epg-Fullscreen/TimeBar/TimeLine.js","components/Epg-Fullscreen/TimeBar/TimeBar.js","components/Epg-Fullscreen/TimeBar/TimeLongLine.js","components/Epg-Fullscreen/Popup.js","components/Vod/BackgroundPlayer.js","components/Vod/PopupHover.js","components/Vod/RowItem.js","components/Vod/NextArrow.js","components/Vod/GroupRow.js","components/Series/Episode.js","components/Series/Seasons.js","actions/set-Playlist-Episodes.js","components/Vod/MoreInfo.js","components/Series/PlayerSeries.js","components/Vod/PlayerVod.js","components/Vod/MainVod.js","App.js","actions/timer60.js","actions/timer5.js","serviceWorker.js","reducer/playingChannel.js","reducer/playlist-episodes.js","reducer/groups.js","reducer/playlist.js","reducer/timer60s.js","reducer/timer5s.js","reducer/epgPopup.js","reducer/h24.js","reducer/index.js","index.js","other/convert-rem.js","other/convert-day-name.js","other/last-opened-mode.js","other/focused-element.js"],"names":["dns","proxyRequired","window","cors","isIptveditor","get","url","a","Axios","catch","err","post","params","local","useProxy","uri","location","origin","match","qs","stringify","key","encodeURIComponent","headers","timeout","response","setDns","data","protocol","includes","replace","isDebug","process","length","Cookies","set","expires","getIsIptveditor","userInfo","getInfo","logout","remove","history","live","movie","series","favorite","reorderDB","fav","slice","sort","b","date","saveDB","localStorage","setItem","username","JSON","getDb","type","el","find","x","parseInt","id","Date","value","db","now","i","findIndex","unshift","filter","authContext","createContext","ProvideAuth","children","auth","useState","setAuth","signin","password","successFallback","failFallback","axios","trim","then","result","serverInfo","user_info","iptveditor","host","status","exp_date","toGMTString","server_info","expiry","max_connections","message","init","server_protocol","port","txt","getItem","parse","initDb","title","body","console","log","authLogin","fallback","signout","action","isAuth","useProvideAuth","Provider","useAuth","useContext","PrivateRoute","rest","render","to","pathname","state","from","Nav","styled","nav","ContainerButton","div","CategoryButton","Link","EPGButton","SearchButton","NavButton","NavBar","fullScreen","useSelector","useLocation","playingMode","useParams","className","style","display","src","alt","height","split","search","Container","Box","MainMenu","setStyle","useHistory","useEffect","setTimeout","document","querySelector","focus","redirect","page","push","tabIndex","onKeyDown","event","active","activeElement","keyCode","nextSibling","previousSibling","remoteController","onClick","Li","li","Button","button","ButtonLogout","Checkbox","input","AccountInfo","info","dispatch","useDispatch","h24","getElementById","padding","class","paddingLeft","defaultChecked","onChange","payload","setH24","for","autoFocus","goBack","Message","Header","Body","Footer","ErrorButton","SafeButton","Popup","description","icon","onclick","error","unsecure","opacity","transform","background","transition","onCloseEvent","dangerouslySetInnerHTML","__html","gradientAnimation","keyframes","floatAnimation","glowPulse","form","LogoContainer","Input","InputGroup","Login","setUsername","setPassword","showPopup","setShowPopup","blur","setBlur","m3u8warning","m3u8","setM3u8","inputRef","useRef","login","e","preventDefault","tagName","click","onSubmit","playername","ref","spellCheck","placeholder","name","target","current","LateralBar","navbar","setNavbar","ProgressEpg","ProgressBar","ChannelEpgBar","start","stop","isPlaying","timer","timer5","progress","progressEpgStyle","visibility","paddingTop","ProgressBarStyle","backgroundColor","border","width","role","optimizeName","secondsToHms","d","Number","h","Math","floor","m","s","createMovieInfo","image","tmdbId","releaseDate","coverBig","youtubeTrailer","director","actors","cast","plot","age","country","genre","backdropPath","durationSecs","duration","rating10","runtime","createEpisode","season","episode_number","duration_sec","airdate","crew","rating","overview","getVodTmdbData","existingTmdb","language","navigator","userLanguage","tmdb","toLowerCase","encodeURI","results","success","imageVod","poster_path","images","backdrops","file_path","vote_average","videos","trailer","release_date","credits","map","join","job","production_countries","genres","backdrop_path","getSeriesTmdbData","streams","episodes","seasons","Array","Set","cover","created_by","first_air_date","last_air_date","toString","rating_5based","Type","youtube_trailer","episode_run_time","duration_secEp","durationEp","forEach","eps","ch","episode","ep","titleEp","airdateEp","crewEp","ratingEp","imageEp","epData","air_date","still_path","direct_source","clearEpisodeName","seriesName","Object","keys","episode_num","groupBy","list","reduce","item","loadGroup","mode","getAddress","res","loadPlaylist","group","category_id","isNaN","downloadEpgDataFromCategories","loadEpg","epg_id","limit","getFullYear","getMonth","getDate","getTime","loadEpgArray","epg_ids","programmes","add","shift","groups","number","j","sliced","c","pgs","p","toReturn","getVodInfo","vod_id","cover_big","getSeriesInfo","series_id","only_info","isArray","epgMap","Map","downloadEpgData","chId","epgId","available","isAvailable","getEpg","epg_listings","has","days","obj","convertEpgListing","dataset","mergeDay","day","channels","epgIds","epg_channel_id","toDownload","isAvailableArray","ids","arr","setHours","end","sh","getSingleEpgNow","getEpgNow","convertTimestamp","start_timestamp","stop_timestamp","time","entries","concat","index","self","t","dateFormat","require","EpgChName","EpgInfoBox","Title","h2","Description","h4","MainDiv","StopTime","label","Logo","FullscreenMag","externalShow","cTitle","cDesc","cDuration","EpgChNameRef","EpgInfoBoxRef","mainRef","playingChannel","playingCh","Epg","Shift","stream_id","h24Format","epgNow","setEpgNow","bottom","top","newEpg","fetchData","stream_icon","loading","align","ButtonObj","PopupText","span","enabled","iconOn","iconOff","textOn","textOff","aria-live","VolumeButton","volume","onChangeInput","min","max","step","PiPButton","xmlns","fill","viewBox","generateUrl","extension","user","pass","catchupUrlGenerator","ip","timeConverter","splitted","year","month","hour","getHours","getMinutes","sec","getSeconds","toUpOpacity","props","fontFamily","hideVideo","fullPlayer","css","Controlls","show","primaryColor","progressVideo","VideoPreLoading","colorTitle","colorSubTitle","colorIcon","showError","colorButtonError","backgroundColorButtonError","backgroundColorHoverButtonError","colorHoverButtonError","StandyByInfo","secundaryColor","Loading","color","VolumeControll","percentVolume","ItemControllBar","IconPlayBackRate","ItemPlaybackRate","ItemNext","ItemListReproduction","ItemListQuality","PlayerDiv","ContainerButtons","Spin","Player","disabled","play","setPlay","setVolume","pip","setPip","fullscreen","setFullscreen","hoverStyle","setHoverStyle","cursor","showCursor","setShowCursor","setUrl","isLoading","setIsLoading","setError","elem","requestFullscreen","webkitRequestFullscreen","msRequestFullscreen","showOverlayTimer","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","showOverlay","convertTsToM3u8","timeshift","clearTimeout","onDoubleClick","onMouseEnter","onMouseLeave","onMouseMove","playing","controls","onProgress","onPlay","onError","onBufferEnd","onBuffer","Fullscreen","desc","dir","Circle","PulsingDot","CircleStyle","EpgTitle","EpgDescription","EpgList","EpgRow","first","EpgSummary","EpgListing","timer60","epgListing","setEpgListing","epg","HeaderChannel","BodyChannel","TitleEpg","Favorite","ChannelEpg","Name","setFavorite","DB","stopPropagation","ChannelNumber","ChannelContainer","Channel","Image","selected","selectEvent","virtualScrollStyle","undefined","backgroundImage","setPlayingChannel","channel","ChannelsList","ul","useQuery","URLSearchParams","Channels","playlist","searchText","channelsPlaylist","setChannelsPlaylist","listRef","focusChannel","searched","convertVhToPixels","convertRemToPixels","itemCount","itemSize","overflowY","maxHeight","useIsScrolling","num","setPlaylist","setGroupList","Main","ChannelTitle","h5","MainLive","blurBackground","setBlurBackground","category","pointerEvents","chs","resetMemory","gps","category_name","setGroup","fun","Groups","searchValue","setSearchValue","groupsTemp","groupsList","setGroups","selectGroup","gp","text","href","getGroup","ClearButton","Search","query","startingEffect","setStartingEffect","clear","evt","alert","DayLi","selectedDay","alignItems","lineHeight","borderRadius","overflow","textTransform","isScrolling","intervalProgress","generateUrlFromDate","Day","isSelected","DaysList","dateToReadable","dateToName","setEpgPopup","BodyData","Time","Progress","isActive","Programme","dayTime","liveTime","catchup","activeLength","setActiveLenght","lengthStyle","Spacing","minWidth","data-start","data-stop","ProgrammeFake","ProgrammeListing","today","moveFocus","catchupDate","fakeEpgGenerator","ChannelLogo","EpgChannel","leftScroll","setDate","setMinutes","setSeconds","setMilliseconds","tomorrow","left","Line","TimeBarIndicator","ArrowContainer","Arrow","TimeLineDiv","TimeLine","scrollBtn","hours","margin","counter","marginRight","right","paddingRight","TimeBar","TimeLongLine","useMemo","setLength","DateDiv","Info","epgPopup","setCh","setInterval","focusElement","getFocus","ChannelsContainer","EpgChannelsContainer","ClosePopup","EpgFullListing","scrollRef","scrollToItem","scroll","toSelect","centerLogo","abs","scrollLeft","querySelectorAll","close","setFocus","next","parentElement","nextElementSibling","toFocus","onScroll","val","behavior","overflowX","marginTop","tv_archive_duration","BackgroundImage","VideoContainer","Overlay","Row","img","Desc","ButtonMain","ButtonSecond","Shadow","BackgroundPlayer","isSeries","setName","ImageSrc","setImageSrc","setDescription","youtubeId","setYoutubeId","setBackdropPath","frameBorder","ImgHovered","Buttons","LinkBtn","ABtn","PopupHover","stream_url","Rating","setRating","Genres","setGenres","full","empty","half","quotient","remainder","ImgContainer","Bar","noCoverStyle","justifyContent","RowItem","last","container_extension","noCover","setNoCover","streamStat","setStreamStat","popup","setPopup","popupStyle","setPopupStyle","data-id","position","textDecoration","tot","I","NextArrow","H3","GroupRow","PlayButton","TitleContainer","DownloadIcon","Episode","playEpisode","percentage","Select","select","Seasons","seasonData","setSeasons","selectedSeason","setSelectedSeason","y","url2","stat","movie_image","duration_secs","RatingDiv","DescriptionDiv","TitleInfo","TitleData","ButtonFavorite","CloseBtn","MoreInfo","stream","expandDescription","setExpandDescription","Actor","setActor","Year","setYear","releasedate","gSTB","ReactNetflixPlayer","subTitle","titleMedia","extraInfoMedia","backButton","onCanPlay","onTimeUpdate","onEnded","onErrorVideo","onNextClick","onClickItemListReproduction","startPosition","playlistTitle","dataNext","reprodutionList","qualities","onChangeQuality","playbackRateEnable","overlayEnabled","autoControllCloseEnabled","syncDuration","videoComponent","timerRef","timerBuffer","playerElement","listReproduction","progressBar","progressText","videoReady","setVideoReady","setPlaying","setProgress","setDuration","setEnd","controlBackEnd","setControlBackEnd","setFullScreen","muted","setMuted","waitingBuffer","setWaitingBuffer","showControls","setShowControls","showInfo","setShowInfo","playbackRate","setPlaybackRate","started","setStarted","showControlVolume","setShowControlVolume","showQuality","setShowQuality","showDataNext","setShowDataNext","showPlaybackRate","setShowPlaybackRate","showReproductionList","setShowReproductionList","setActualBuffer","paused","pause","nextSeconds","seconds","currentTime","previousSeconds","startVideo","setMuttedAction","setVolumeAction","setStateFullScreen","webkitIsFullScreen","mozFullScreen","msFullscreenElement","fullscreenElement","hoverScreen","clearInterval","innerText","getKeyBoardInteration","element","getElementsByClassName","offsetTop","offsetHeight","scrollTop","scrollToSelected","pictureInPictureElement","requestPictureInPicture","exitPictureInPicture","goPip","addEventListener","mozRequestFullScreen","prefix","nome","choseBuffer","lenghtBuffer","buffered","endBuffer","atualTime","startCheck","endCheck","onPause","onPlaying","speed","FiCheck","percent","PlayerSeries","tvseries","streamsTemp","playlistEpisodes","setStream","setStreams","FullPlayer","autoPlay","Style","back","PlayerVod","OnEnded","GroupRowContainer","MainVod","streamList","setStreamList","setPlaylistState","allItems","setAllItems","loadedCategory","setLoadedCategory","categories","randomMovie","setRandomMovie","refresh","setRefresh","showBlur","searchRandomMovie","cat","reset","f","getGroupRowPlaylist","getOtherCategoryName","path","columnCount","columnWidth","rowCount","ceil","rowHeight","columnIndex","rowIndex","marginLeft","paddingBottom","tempPlaylist","random","App","https","hash","exact","Boolean","hostname","playingChannelReducer","playlistEpisodeReducer","groupsReducer","playlistReducer","timer60Reducer","timer5Reducer","epgPopupReducer","h24Reducer","allReducer","combineReducers","myStore","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","StrictMode","store","serviceWorker","ready","registration","unregister","exports","rem","parseFloat","getComputedStyle","documentElement","fontSize","parts","q","indexOf","getDay","oldMode","previousGroup","focused"],"mappings":"0dAIIA,EAAM,KACNC,EAAgBC,OAAOC,KACvBC,EAAe,KAIZ,SAAeC,EAAtB,kC,4CAAO,WAAmBC,GAAnB,yBAAAC,EAAA,4FAAkC,EAAlC,kBACIC,IAAMH,IAAIC,GAAKG,OAAM,SAAAC,GAAG,OAAIA,MADhC,4C,sBAIA,SAAeC,EAAtB,kC,4CAAO,WAAoBL,GAApB,mCAAAC,EAAA,yDAAyBK,EAAzB,+BAAkC,GAAIC,EAAtC,uBAA6CC,EAA7C,uBACEd,EADF,yCAEQ,MAFR,UAICe,EAAMT,GAEI,IAAVO,GAAmBX,OAAOc,SAASC,OAAOC,MAAM,6BANjD,yCAOQV,IAAMG,KAAKI,EAAKI,IAAGC,UAAUR,IAASH,OAAM,SAAAC,GAAG,OAAIA,MAP3D,OAUH,IAAqB,IAAjBN,EAEA,IAAWiB,KADXN,GAAO,IACWH,EACdG,GAAOM,EAAM,IAAMC,mBAAmBV,EAAOS,IAAQ,IAb1D,OAkBCN,GADgC,KAA/Bd,GAAiBa,KAAuC,IAAjBV,EAClC,kBAAoBkB,mBAAmBtB,IACR,KAA/BC,GAAiBa,KAAuC,IAAjBV,EACvC,kBAAoBkB,mBAAmBtB,EAAMe,IAC7B,IAAjBX,EACCJ,EAAMe,EACLf,EAvBR,mBAyBqB,IAAjBI,GAA2BH,GAAiBa,EAE/CN,IAAMH,IAAIU,EAAK,CACXQ,QAAS,CACL,aAAc,uIAElBC,QAAS,OACVf,OAAM,SAAAC,GACL,OAAqB,IAAlBT,GAA4Ba,GAAaJ,EAAIe,SAEzCf,EADIC,EAAKL,EAAKM,EAAQC,GAAO,MARxCL,IAAMG,KAAKI,EAAKI,IAAGC,UAAUR,KA1B9B,6C,sBAyCA,SAASc,EAAOC,GACdA,IAE4B,WAA7BzB,OAAOc,SAASY,UAAyBD,EAAKE,SAAS,SACvDF,EAAOA,EAAKG,QAAQ,QAAS,QACK,WAA7B5B,OAAOc,SAASY,UAA0BD,EAAKE,SAAS,WAC7DF,EAAOA,EAAKG,QAAQ,OAAQ,UAEhC1B,IAAiBuB,EAAKT,MAAM,yEAEL,IAAnBhB,OAAO6B,QACPJ,EAAOzB,OAAOF,KACQ,IAAjBI,GAA4C,IAAnBF,OAAO6B,QACrCJ,EAAI,UAAMK,8BAAN,aAE0B,MAA1BL,EAAKA,EAAKM,OAAS,KACnBN,GAAQ,KAGhB3B,EAAM2B,EACNO,IAAQC,IAAI,MAAOR,EAAM,CAAES,QAAS,OAOjC,SAASC,IACZ,OAAOjC,EA3EXsB,EAAOxB,OAAOF,KCLd,IAAMsC,EAAW,GAEV,SAASC,IACZ,OAAOD,EAkBJ,SAASE,IACZN,IAAQO,OAAO,OACfP,IAAQO,OAAO,YACfP,IAAQO,OAAO,YACfvC,OAAOc,SAAW,IC1BtB,IAAI0B,EAAU,CAACC,KAAK,GAAIC,MAAM,GAAIC,OAAO,IACrCC,EAAW,CAACH,KAAK,GAAIC,MAAM,GAAIC,OAAO,IA4CpCE,EAAY,SAACC,IACL,IAARA,GACFN,EAAQC,KAAOD,EAAQC,KAAKM,MAAM,EAAG,IAAIC,MAAK,SAAC3C,EAAG4C,GAAJ,OAAUA,EAAEC,KAAO7C,EAAE6C,QACnEV,EAAQE,MAAQF,EAAQE,MAAMK,MAAM,EAAG,IAAIC,MAAK,SAAC3C,EAAG4C,GAAJ,OAAUA,EAAEC,KAAO7C,EAAE6C,QACrEV,EAAQG,OAASH,EAAQG,OAAOI,MAAM,EAAG,IAAIC,MAAK,SAAC3C,EAAG4C,GAAJ,OAAUA,EAAEC,KAAO7C,EAAE6C,UAEvEN,EAASH,KAAOG,EAASH,KAAKM,MAAM,EAAG,IACvCH,EAASF,MAAQE,EAASF,MAAMK,MAAM,EAAG,IACzCH,EAASD,OAASC,EAASD,OAAOI,MAAM,EAAG,MAIzCI,EAAS,SAACL,GACd9C,OAAOoD,aAAaC,UAAiB,IAARP,EAAe,WAAa,aAAeT,IAAUiB,SAAUC,KAAKrC,WAAkB,IAAR4B,EAAeN,EAAUI,KAGhIY,EAAQ,SAAAV,GAAG,OAAY,IAARA,EAAeN,EAAUI,GAE/B,EApDC,SAACa,EAAMtC,EAAK2B,GAC1B,IACMY,EADKF,EAAMV,GACHW,GAAME,MAAK,SAAAC,GAAC,OAAEC,SAASD,EAAEE,MAAQD,SAAS1C,MACxD,OAAIuC,EAEGA,IAAc,IAARZ,EAAN,2BAAyBY,GAAzB,IAA6BR,KAAM,IAAIa,KAAKL,EAAGR,QAASQ,EADtD,MAgDI,EAtCH,SAACD,EAAKtC,EAAI6C,EAAOlB,GAC3B,IAAMmB,EAAKT,EAAMV,IAET,IAARA,IAAiBkB,EAAK,2BAAOA,GAAP,IAAcd,KAAMa,KAAKG,SAE/C,IAAMC,EAAIF,EAAGR,GAAMW,WAAU,SAAAR,GAAC,OAAEA,EAAEE,KAAO3C,MAClC,IAAPgD,EAAWF,EAAGR,GAAMU,GAAKH,EAAQC,EAAGR,GAAMY,QAAQL,GAElDnB,EAAUC,GACVK,EAAOL,IA6BM,EA1BH,SAACW,EAAMtC,EAAK2B,IACX,IAARA,EACDN,EAAQiB,GAAQjB,EAAQiB,GAAMa,QAAO,SAAAV,GAAC,OAAGC,SAASD,EAAEE,MAAQD,SAAS1C,MAClEyB,EAASa,GAAQb,EAASa,GAAMa,QAAO,SAAAV,GAAC,OAAGC,SAASD,EAAEE,MAAQD,SAAS1C,MAE5EgC,EAAOL,I,OCrCHyB,EAAcC,0BAEb,SAASC,EAAT,GAAoC,IAAbC,EAAY,EAAZA,SACtBC,EAQD,WACL,MAAwBC,mBAAS,GAAjC,mBAAOD,EAAP,KAAaE,EAAb,KAEMC,EAAS,SAAChF,EAAKwD,EAAUyB,EAAUC,EAAiBC,GACrDnF,GACDoF,EAAapF,GAEfoF,EAAW,iBAAiB,CAC1B5B,SAAUA,EAAS6B,OACnBJ,SAAUA,EAASI,SAClBC,MAAK,SAAAC,GFnBL,IAAiB5D,EAAM6D,EEoBrBD,IACEA,EAAO5D,KACR4D,EAASA,EAAO5D,KACV4D,EAAO9D,UAAY8D,EAAO9D,SAASE,OACzC4D,EAASA,EAAO9D,SAASE,OAE1B4D,GAAUA,EAAOE,WACfF,EAAOG,YACRN,EAAA,UAAgBpD,8BAAhB,cAC2B,IAA1BuD,EAAOE,UAAUZ,KAClBM,EAAa,mBAAmB,+CAAiDjF,OAAOc,SAAS2E,KAAK9D,SAAS,kBAAoB,sFAAwF,KACrN0D,EAAOE,UAAUZ,OACQ,WAA5BU,EAAOE,UAAUG,OAClBT,EAAa,kBAAD,6BAAyC,IAAIlB,KAAKF,SAASwB,EAAOE,UAAUI,SAAS,QAAQC,iBAEzGf,EAAQ,GFnCIpD,EEoCJ4D,EAAOE,UFpCGD,EEoCQD,EAAOQ,YFnCzCzD,EAAS0D,OAAS,IAAI/B,KAAKF,SAASpC,EAAKkE,SAAS,QAClDvD,EAASkB,SAAW7B,EAAK6B,SACzBlB,EAAS2C,SAAWtD,EAAKsD,SACzB3C,EAAS2D,gBAAkBtE,EAAKsE,gBAChC3D,EAAS4D,QAAUvE,EAAKuE,QAExB1F,EAAW,WAAW,CAAC2F,KAAK,EAAG3C,SAAUlB,EAASkB,SAAUyB,SAAU3C,EAAS2C,SAC3EjF,IAAI,GAAD,OAAKwF,EAAWY,gBAAhB,cAAqCZ,EAAWlF,IAAhD,YAAuDkF,EAAWa,QACvE,GAEFnE,IAAQC,IAAI,WAAWR,EAAK6B,SAAS,CAAEpB,QAAS,MAChDF,IAAQC,IAAI,WAAWR,EAAKsD,SAAS,CAAE7C,QAAS,MChB9B,WACpB,IAAIkE,EAAMhD,aAAaiD,QAAQ,WAAahE,IAAUiB,UACtD8C,EAAO5D,EAAUe,KAAK+C,MAAMF,GAAQjD,EAAO,IAE3CiD,EAAMhD,aAAaiD,QAAQ,YAAchE,IAAUiB,WAC5CV,EAAWW,KAAK+C,MAAMF,GAAQjD,EAAO,GCoClCoD,GACAvB,GAAoBA,OAIjBK,EAAOmB,MACdvB,GAAiBA,EAAaI,EAAOmB,MAAMnB,EAAOoB,MAElDxB,GAAiBA,EAAa,eAAe,6DAE9C1E,OAAM,SAAAC,GACPkG,QAAQC,IAAInG,GACTA,GAAOA,EAAIe,UAAYf,EAAIe,SAASE,MAAQjB,EAAIe,SAASE,KAAK8D,WAAkD,IAArC/E,EAAIe,SAASE,KAAK8D,UAAUZ,KACxGM,GAAiBA,EAAa,mBAAmB,+CAAiDjF,OAAOc,SAAS2E,KAAK9D,SAAS,kBAAoB,sFAAwF,KACzOsD,GAAiBA,EAAa,eAAe,8DAIhD2B,EAAY,SAACC,GAEjB,IAAM/G,EAA4B,IAAtBE,OAAOF,IAAIiC,QAAiBC,IAAQ7B,IAAI,OAC9CmD,EAAWtB,IAAQ7B,IAAI,YACvB4E,EAAW/C,IAAQ7B,IAAI,YAE1BmD,GAAYyB,GACbD,EAAOhF,EAAIwD,EAASyB,EAAS8B,IAYjC,MAAO,CACL/B,SACAgC,QAXc,SAACC,GACflC,EAAQ,MACRkC,GAAWA,KAUXC,OAPa,WACb,QAASrC,GAOTiC,aA7EWK,GACb,OAAO,cAAC1C,EAAY2C,SAAb,CAAsBlD,MAAOW,EAA7B,SAAoCD,IAGtC,IAAMyC,EAAU,WACrB,OAAOC,qBAAW7C,IA6Eb,SAAS8C,EAAT,GAA8C,IAAtB3C,EAAqB,EAArBA,SAAa4C,EAAQ,4BAC9C3C,EAAOwC,IACX,OACE,cAAC,IAAD,2BACMG,GADN,IAEEC,OAAQ,gBAAGzG,EAAH,EAAGA,SAAH,OACN6D,EAAKqC,SACHtC,EAEA,cAAC,IAAD,CACE8C,GAAI,CACFC,SAAU,UACVC,MAAO,CAAEC,KAAM7G,U,2HCjGvB8G,GAAMC,KAAOC,IAAV,mHAMHC,GAAkBF,KAAOG,IAAV,qVAqBfC,GAAiBJ,aAAOK,IAAPL,CAAH,4aAsBdM,GAAYN,aAAOK,IAAPL,CAAH,oaAsBTO,GAAeP,aAAOK,IAAPL,CAAH,qaAsBZQ,GAAYR,aAAOK,IAAPL,CAAH,saAyDAS,GAnCA,WACX,IAAMC,EAAaC,cAAY,SAAAd,GAAK,OAAIA,EAAMa,cACxCzH,EAAW2H,cACb9D,EAAOwC,IAEHuB,EAAgBC,cAAhBD,YAER,OACI,eAACd,GAAD,CAAKgB,UAAU,SAASC,MAAO,CAACC,QAAUP,EAAa,OAAS,IAAhE,UACI,qBAAKK,UAAU,kBAAf,SACI,cAAC,IAAD,CAAMA,UAAU,eAAepB,GAAG,IAAlC,SACI,qBAAKuB,IAAI,oBAAoBC,IAAI,GAAGC,OAAO,QAAQL,UAAU,iCAGrE,cAACb,GAAD,UACKpD,EAAKqC,WAAalG,EAAS2G,SAAS9F,SAAS,SAC9C,qCACKb,EAAS2G,SAAS9F,SAAS,SAAY,cAACwG,GAAD,CAAWX,GAAE,UAAK1G,EAAS2G,SAASyB,MAAM,KAAK,GAAlC,YAAb,SAA6D,mBAAGN,UAAW,gBAEnH,cAACR,GAAD,CAAcZ,GAAI,CACdC,SAAQ,UAAM3G,EAAS2G,SAASyB,MAAM,KAAK,GAAnC,WACRC,OAAQnJ,OAAOc,SAASqI,QAF5B,SAGG,mBAAGP,UAAW,oBAEjB,cAACX,GAAD,CAAgBT,GAAI,CAChBC,SAAS,IAAD,OAAMiB,EAAN,cACRS,OAAQnJ,OAAOc,SAASqI,QAF5B,SAGG,mBAAGP,UAAW,wBACjB,cAACP,GAAD,CAAWb,GAAE,QAAb,SAAwB,mBAAGoB,UAAU,iCCjJnDQ,I,OAAYvB,KAAOG,IAAV,0HASTqB,GAAMxB,KAAOG,IAAV,69BAiFMsB,GApDE,WAChB,MAA0B1E,qBAA1B,mBAAOiE,EAAP,KAAcU,EAAd,KACM/G,EAAUgH,cAEhBC,qBAAU,WACTC,YAAW,WACVH,EAAS,cACTI,SAASC,cAAc,oBAAuBD,SAASC,cAAc,mBAAmBC,UACvF,MACE,IAEL,IAAMC,EAAW,SAACC,GACjBR,IACAG,YAAW,WACVlH,EAAQwH,KAAKD,KACN,MAqBN,OACI,cAACX,GAAD,CAAWR,UAAWC,EAAtB,SACI,cAACQ,GAAD,CAAKT,UAAU,MAAf,SACF,qBAAKA,UAAU,eAAf,SACC,qBAAIqB,SAAU,EAAGrB,UAAU,YAAYsB,UAR/B,SAACC,IAdM,SAACA,GACnB,IAAMC,EAAST,SAASU,cACF,KAAlBF,EAAMG,SAAkBF,EAAOG,YACjCH,EAAOG,YAAYV,QACQ,KAAlBM,EAAMG,SAAkBF,EAAOI,iBACxCJ,EAAOI,gBAAgBX,QAUzBY,CAAiBN,IAOd,UACL,oBAAIF,UAAW,EAAGrB,UAAU,iBAAiB8B,QAAS,kBAAMZ,EAAS,oBAArE,SAAyF,wBAAQlB,UAAU,eAAlB,6BACnF,oBAAIqB,UAAW,EAAGrB,UAAU,iBAAiB8B,QAAS,kBAAMZ,EAAS,YAArE,SAAiF,wBAAQlB,UAAU,eAAlB,sBACjF,oBAAIqB,UAAW,EAAGrB,UAAU,iBAAiB8B,QAAS,kBAAMZ,EAAS,aAArE,SAAkF,wBAAQlB,UAAU,eAAlB,yBAClF,oBAAIqB,UAAW,EAAGrB,UAAU,iBAAiB8B,QAAS,kBAAMZ,EAAS,WAArE,SAAgF,wBAAQlB,UAAU,eAAlB,sCC/EtFQ,GAAYvB,KAAOG,IAAV,2HASTqB,GAAMxB,KAAOG,IAAV,+9BA6BH2C,GAAK9C,KAAO+C,GAAV,qLAaFC,GAAShD,KAAOiD,OAAV,iWAmBNC,GAAelD,KAAOiD,OAAV,yXAkBZE,GAAWnD,KAAOoD,MAAV,8EAgECC,GAxDK,WAChB,MAA0BtG,qBAA1B,mBAAOiE,EAAP,KAAcU,EAAd,KACM4B,EAAO9I,IACVG,EAAUgH,cACP4B,EAAWC,eACXC,EAAM9C,cAAY,SAAAd,GAAK,OAAIA,EAAM4D,OAEvC7B,qBAAU,WACZC,YAAW,WACVH,EAAS,cACAI,SAAS4B,eAAe,aAAa1B,UAC7C,MACE,IAUF,OACI,cAAC,GAAD,CAAWjB,UAAWC,EAAtB,SACI,cAAC,GAAD,CAAKD,UAAU,MAAf,SACF,qBAAKA,UAAU,eAAf,SACC,qBAAIqB,SAAU,EAAGrB,UAAU,YAAYC,MAAO,CAAC2C,QAAS,SAAxD,UACL,eAACb,GAAD,CAAIV,UAAW,EAAGrB,UAAU,iBAA5B,uBAAuD,wBAAQA,UAAU,eAAlB,SAAkCuC,EAAK7H,cACxF,eAACqH,GAAD,CAAIV,UAAW,EAAGrB,UAAU,iBAA5B,uBAAuD,wBAAQA,UAAU,eAAlB,SAAkCuC,EAAKpG,cAC9F,eAAC4F,GAAD,CAAIV,UAAW,EAAGrB,UAAU,iBAA5B,8BAA8D,wBAAQA,UAAU,eAAlB,SAAkCuC,EAAKpF,qBACrG,eAAC4E,GAAD,CAAIV,UAAW,EAAGrB,UAAU,iBAA5B,wBAAwD,wBAAQA,UAAU,eAAlB,SAAkCuC,EAAKrF,OAAOF,mBACtG,cAAC+E,GAAD,CAAIV,UAAW,EAAGrB,UAAU,iBAA5B,SAA8CuC,EAAKnF,UACvC,cAAC2E,GAAD,CAAIV,UAAW,EAAGrB,UAAU,iBAA5B,SACI,sBAAK6C,MAAM,aAAa5C,MAAO,CAAC6C,YAAa,QAA7C,UACE,cAACV,GAAD,CAAUS,MAAM,mBAAmBhI,KAAK,WAAWkI,eAAsB,UAANL,EAAeM,SAAU,kBAAIR,EC1IxG,SAACE,GACnB,MAAM,CACF7H,KAAM,UACNoI,QAASP,EAAM,QAAU,YDuIsGQ,CAAa,UAANR,KAAiBxH,GAAG,QACpI,uBAAO2H,MAAM,mBAAmBM,IAAI,MAAMlD,MAAO,CAAC6C,YAAa,UAA/D,iCAKN,sBAAKD,MAAM,MAAX,UACI,qBAAKA,MAAM,QAAX,SACI,cAACd,GAAD,CAAIqB,WAAS,EAAC/B,UAAW,EAAGrB,UAAU,iBAAiB9E,GAAG,YAAY4G,QAAS,kBA1B7GnB,SACMG,YAAW,WACblH,EAAQyJ,WACJ,MAuBsB,SAA6F,cAAC,GAAD,CAAQrD,UAAU,eAAlB,6BAEjG,qBAAK6C,MAAM,QAAX,SACI,cAACd,GAAD,CAAIV,UAAW,EAAGrB,UAAU,iBAAiB8B,QAASpI,EAAtD,SAA8D,cAACyI,GAAD,CAAcnC,UAAU,eAAxB,qCElJxFQ,GAAYvB,KAAOG,IAAV,2GAOTkE,GAAUrE,KAAOG,IAAV,+OAUPmE,GAAStE,KAAOG,IAAV,02BA2CNoE,GAAOvE,KAAOG,IAAV,iSAoBJqE,GAASxE,KAAOG,IAAV,2RAYNsE,GAAczE,KAAOiD,OAAV,uZAmBXyB,GAAa1E,KAAOiD,OAAV,2WA4ED0B,GAzDD,SAAC,GAAiE,EAAhE/I,KAAiE,IAA5D+C,EAA2D,EAA3DA,MAAMiG,EAAqD,EAArDA,YAAYC,EAAyC,EAAzCA,KAAMC,EAAmC,EAAnCA,QAAmC,IAA1BC,aAA0B,SAAdC,EAAc,EAAdA,SAC9D,EAA0BjI,mBAAS,CAC/BkI,QAAS,EACTC,UAAW,aACXC,YAAsB,IAAVJ,EAAiB,kDAAoD,sDAHrF,mBAAO/D,EAAP,KAAcU,EAAd,KAMAE,qBAAU,WACNF,EAAS,CACLuD,QAAS,EACTC,UAAW,gBACXE,WAAY,iCACZD,YAAsB,IAAVJ,EAAiB,kDAAoD,wDAEvF,IAEF,IAAMM,EAAe,WACjB3D,EAAS,CACLuD,QAAS,EACTC,UAAW,aACXE,WAAY,iCACZD,YAAsB,IAAVJ,EAAiB,kDAAoD,sDAGrFlD,YAAW,WACPiD,GAAYA,MACd,MAGN,OACI,cAAC,GAAD,UACI,eAACT,GAAD,CAAUrD,MAAOA,EAAjB,UACI,eAACsD,GAAD,WACI,uBACA,wBAAQzB,QAASwC,EAAjB,SAA+B,6CAEnC,eAACd,GAAD,WACI,mBAAGxD,UAAW8D,EAAO,WACrB,6BAAKlG,KACS,IAAbqG,EACA,mBAAGM,wBAAyB,CAACC,OAAOX,KAEpC,4BAAIA,OAGT,cAACJ,GAAD,WACe,IAAVO,EACA,cAACN,GAAD,CAAaN,WAAS,EAACpD,UAAU,MAAM8B,QAASwC,EAAhD,wBAEA,cAACX,GAAD,CAAYP,WAAS,EAACpD,UAAU,MAAM8B,QAASwC,EAA/C,gCCnKfG,GAAoBC,aAAH,yMAajBC,GAAiBD,aAAH,qJAUdE,GAAYF,aAAH,sLASTlE,GAAYvB,KAAOG,IAAV,2mCAQGqF,GAiBGE,GAYAA,IAIflE,GAAMxB,KAAO4F,KAAV,2iCAUQF,IAkCXG,GAAgB7F,KAAOG,IAAV,ufAGFwF,IAqBXG,GAAQ9F,KAAOoD,MAAV,otBA4BLJ,GAAShD,KAAOiD,OAAV,wzBAgCN8C,GAAa/F,KAAOG,IAAV,2DAgID6F,GA5HD,SAAC,GAAW,IAAVzN,EAAS,EAATA,IAEZ,EAAsBwE,mBAAS,IAA/B,mBAAO9E,EAAP,KAAY0B,EAAZ,KACA,EAAgCoD,mBAAS,IAAzC,mBAAOtB,EAAP,KAAiBwK,EAAjB,KACA,EAAgClJ,mBAAS,IAAzC,mBAAOG,EAAP,KAAiBgJ,EAAjB,KACA,EAAkCnJ,oBAAS,GAA3C,mBAAOoJ,EAAP,KAAkBC,EAAlB,KACA,EAAwBrJ,qBAAxB,mBAAOsJ,EAAP,KAAaC,EAAb,KACA,EAAwBvJ,oBAAgC,IAAvB5E,OAAOoO,cAA0BpM,IAAQ7B,IAAI,cAA9E,mBAAOkO,EAAP,KAAaC,EAAb,KAEM9L,EAAUgH,cACV7E,EAAOwC,IAEbsC,qBAAU,WACH9E,EAAKqC,SACJxE,EAAQwH,KAAK5J,GAAK,KACjBuE,EAAKiC,WAAU,kBAAIpE,EAAQwH,KAAK5J,GAAK,UAC5C,CAACuE,EAAKnC,IAERiH,qBAAU,WACE0E,EAARE,EAAgB,CAAC/J,OAAO,gBAA2B,MACrD,CAAC+J,IAEH,IAAME,EAAWC,iBAAO,GAgBlBC,EAAQ,SAACC,GACXA,EAAEC,iBACFR,EAAQ,CAAC7J,OAAO,gBAChBK,EAAKG,OAAOhF,EAAIwD,EAASyB,GACrB,kBAAM/E,OAAOc,SAAS,OAEtB,SAAC0F,EAAMiG,GACHwB,EAAa,CAACzH,MAAOA,EAAMiG,YAAYA,QAWnD,OACI,qCACA,cAAC,GAAD,CAAW5D,MAAOqF,EAAlB,SACI,eAAC,GAAD,CAAKhE,UAnCY,SAACC,GACtB,IAAIC,EAAST,SAASU,cACA,KAAlBF,EAAMG,SAAkBF,EAAQG,aACA,UAA7BH,EAAOG,YAAYqE,UAClBxE,EAASA,EAAOG,aACpBH,EAAOG,YAAYV,SACM,KAAlBM,EAAMG,SAAkBF,EAAOI,iBACD,UAAlCJ,EAAQI,gBAAgBoE,UACvBxE,EAASA,EAAOI,iBACpBJ,EAAOI,gBAAiBX,SACC,KAAlBM,EAAMG,SACbF,EAAOyE,SAwB2BC,SAAUL,EAA5C,UACI,cAACf,GAAD,UACI,qBAAK3E,IAAI,qBAAqBC,IAAKhJ,OAAO+O,eAG9C,qEAEG/O,OAAOF,KACN,eAAC8N,GAAD,WACI,iDACA,cAACD,GAAD,CACIqB,IAAKT,EACL3F,UAAU,eACVnF,KAAK,OACLwL,YAAY,EACZC,YAAY,uBACZC,KAAK,MACLnD,WAAS,EACTJ,SAAU,SAAC8C,GAAD,OAAMlN,EAAOkN,EAAEU,OAAQpL,QACjCA,MAAOlE,OAKnB,eAAC8N,GAAD,WACI,6CACA,cAACD,GAAD,CACIqB,IAAKhP,OAAOF,IAAMyO,EAAW,KAC7B3F,UAAU,eACVnF,KAAK,OACLwL,YAAY,EACZC,YAAY,sBACZC,KAAK,WACLnD,YAAchM,OAAOF,IACrB8L,SAAU,SAAC8C,GAAD,OAAMZ,EAAYY,EAAEU,OAAOpL,QACrCA,MAAOV,OAIf,eAACsK,GAAD,WACI,6CACA,cAACD,GAAD,CACI/E,UAAU,eACVnF,KAAK,WACLwL,YAAY,EACZC,YAAY,mDACZC,KAAK,WACLvD,SAAU,SAAC8C,GAAD,OAAMX,EAAYW,EAAEU,OAAOpL,QACrCA,MAAOe,OAIf,cAAC,GAAD,CAAQtB,KAAK,SAASO,MAAM,IAAI0G,QAAS+D,EAAO7F,UAAU,MAA1D,0BAKPoF,GAAa,cAAC,GAAD,CAAOnB,UAAU,EAAMrG,MAAOwH,EAAUxH,MAAOiG,YAAauB,EAAUvB,YAAaC,KAAM,oBAAqBC,QAlE7G,WACfwB,EAAQ,CAAC7J,OAAO,YAChB2J,GAAa,GACbM,EAASc,QAAQxF,WAgEhBwE,GACG,cAAC,GAAD,CAAOxB,UAAU,EAAMD,OAAO,EAAOpG,MAAO,cAAeiG,YAAa,oQAAqQC,KAAM,qBAAsBC,QAAS,WAAM3K,IAAQC,IAAI,YAAY,EAAE,CAAEC,QAAS,MAAQoM,GAAUD,UChN5aiB,I,OAjII,WACf,MAA2B1K,oBAAS,GAApC,mBAAO2K,EAAP,KAAcC,EAAd,KAGM1O,EAAW2H,cACXjG,EAAUgH,cAOhB,OALAC,qBAAU,WACN+F,EAAU1O,EAAS2G,SAAS9F,SAAS,WACvC,CAACb,EAAS2G,WAIR,mCAgBA,qBAAKmB,UAAS,wCAAmC2G,EAAS,UAAY,IAAtE,SACC,qBAAK3G,UAAS,sCAAiC2G,EAAS,UAAY,IAApE,SACC,sBAAK3G,UAAS,wCAAmC2G,EAAS,UAAY,IAAtE,UAEC,wBAAQ3G,UAAU,oCAAoC8B,QAAS,kBAAIlI,EAAQyJ,UAA3E,SAAqF,mBAAGrD,UAAU,mBAElG,qBAAKA,UAAU,eAAeG,IAAI,oBAAoBC,IAAI,gBAE1D,qBAAIJ,UAAU,eAAd,UACS,6BACI,yBAAQA,UAAU,gBAAgB8B,QAAS,YAAM5J,EAAS2G,SAAS9F,SAAS,SAAYa,EAAQZ,QAAQ,WAAxG,UACA,mBAAGgH,UAAU,mBADb,qBAIH9H,EAAS2G,SAAS9F,SAAS,SAC5B,6BACR,+BACgB,6BACI,yBAAQiH,UAAU,gBAAgB8B,QAAS,kBAAIlI,EAAQZ,QAAQd,EAAS2G,SAAS7F,QAAQ,OAAOd,EAAS2G,SAAS7F,QAAQ,OAAO,aAAjI,UACA,mBAAGgH,UAAU,uBADb,cAKJ,6BACI,yBAAQA,UAAU,gBAAgB8B,QAAS,kBAAIlI,EAAQZ,QAAQd,EAAS2G,SAAS7F,QAAQ,OAAO,aAAhG,UACA,mBAAGgH,UAAU,mBADb,gBAKJ,6BACI,yBAAQA,UAAU,gBAAgB8B,QAAS,kBAAIlI,EAAQZ,QAAQ,oBAA/D,UACA,mBAAGgH,UAAU,2BADb,4BASZ,6BACI,yBAAQA,UAAU,gBAAgB8B,QAAS,YAAM5J,EAAS2G,SAAS9F,SAAS,UAAaa,EAAQZ,QAAQ,YAAzG,UACA,mBAAGgH,UAAU,qBADb,cAIH9H,EAAS2G,SAAS9F,SAAS,UAC5B,6BACR,+BACgB,6BACI,yBAAQiH,UAAU,gBAAgB8B,QAAS,kBAAIlI,EAAQZ,QAAQd,EAAS2G,SAAS7F,QAAQ,OAAO,YAAhG,UACA,mBAAGgH,UAAU,uBADb,cAKJ,6BACI,yBAAQA,UAAU,gBAAgB8B,QAAS,kBAAIlI,EAAQZ,QAAQ,qBAA/D,UACA,mBAAGgH,UAAU,2BADb,4BASZ,6BACI,yBAAQA,UAAU,gBAAgB8B,QAAS,kBAAK5J,EAAS2G,SAAS9F,SAAS,WAAaa,EAAQZ,QAAQ,aAAxG,UACA,mBAAGgH,UAAU,sBADb,iBAKH9H,EAAS2G,SAAS9F,SAAS,WAC5B,6BACR,+BACgB,6BACI,yBAAQiH,UAAU,gBAAgB8B,QAAS,kBAAIlI,EAAQZ,QAAQd,EAAS2G,SAAS7F,QAAQ,OAAO,YAAhG,UACA,mBAAGgH,UAAU,uBADb,cAKJ,6BACI,yBAAQA,UAAU,gBAAgB8B,QAAS,kBAAIlI,EAAQZ,QAAQd,EAAS2G,SAAS7F,QAAQ,OAAO,uBAAhG,UACA,mBAAGgH,UAAU,2BADb,4BAOZ,6BACI,yBAAQA,UAAU,gBAAgB8B,QAAS,kBAAIlI,EAAQZ,QAAQ,WAA/D,UACA,mBAAGgH,UAAU,yBADb,kC,oBCpHlB6G,GAAc5H,KAAOG,IAAV,gIAQX0H,GAAc7H,KAAOG,IAAV,uRA4CF2H,GA9BO,SAAC,GAA6B,IAA5BC,EAA2B,EAA3BA,MAAMC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,UAC1BC,EAAQvH,cAAY,SAAAd,GAAK,OAAIA,EAAMsI,UAEnCC,EAAWzB,iBAAO,GAClB0B,EAAoBN,EAGtB,GAH8B,CAC9BO,WAAY,SACZC,WAAY,SAGVC,EAAmBP,EAAY,CACjCQ,gBAAiB,OACjBC,OAAQ,qBACR,CACAD,gBAAiB,WAUrB,OARAD,EAAiBG,MAASZ,GAAUG,EAAMH,IAAQC,EAAKD,GAAQ,IAAM,IAAM,EAE3EnG,qBAAU,WACHmG,EACCK,EAASZ,UAAYY,EAASZ,QAAQxG,MAAM2H,OAAUT,EAAMH,IAAQC,EAAKD,GAAQ,IAAM,KACtFK,EAASZ,UAAYY,EAASZ,QAAQxG,MAAM2H,MAAQ,KAC1D,CAACV,EAAUC,EAAMH,EAAMC,IAGtB,cAACJ,GAAD,CAAa5G,MAAOqH,EAApB,SACI,cAACR,GAAD,CAAae,KAAK,cAAczB,IAAKiB,EAAUpH,MAAOwH,EAAkBzH,UAAW,mB,SCpDxF,SAAS8H,GAAavB,GAI1B,OADAA,GADAA,GADAA,EAAOA,EAAKvN,QAAQ,KAAM,IAAIA,QAAQ,kIAAmI,KAAKA,QAAQ,gBAAiB,KAC3LA,QAAQ,MAAO,MACfA,QAAQ,KAAM,MACduD,OAGR,SAASwL,GAAaC,GAC1BA,EAAIC,OAAOD,GACX,IAAIE,EAAIC,KAAKC,MAAMJ,EAAI,MACnBK,EAAIF,KAAKC,MAAMJ,EAAI,KAAO,IAC1BM,EAAIH,KAAKC,MAAMJ,EAAI,KAAO,IAC9B,MAAM,GAAN,OAAUE,EAAV,YAAeG,EAAI,GAAJ,WAAaA,GAAMA,EAAlC,YAAuCC,EAAI,GAAJ,WAAaA,GAAMA,GAGtD,SAASC,GAAgBhC,EAAMiC,GAAuR,IAAhRC,EAA+Q,wDAArQ,EAAGC,EAAkQ,uDAApP,GAAIC,EAAgP,uDAArO,GAAIC,EAAiO,uDAAhN,GAAIC,EAA4M,uDAAjM,GAAIC,EAA6L,uDAApL,GAAIC,EAAgL,uDAAzK,GAAIlF,EAAqK,uDAAvJ,GAAImF,EAAmJ,0DAA5I,GAAIC,EAAwI,0DAAlI,GAAIC,EAA8H,0DAApH,GAAIC,EAAgH,0DAAxG,GAAIC,EAAoG,0DAArF,GAAIC,EAAiF,0DAAlE,EAAGC,EAA+D,0DAApD,GAAIC,EAAgD,0DAArC,EAAGzM,EAAkC,0DAAzB,WAAY0M,EAAa,0DAAH,EACtT,MAAO,CACJ,KAAQ,CACL,KAAQjD,EACR,QAAWkC,EACX,UAAaE,EACb,YAAeH,EACf,YAAeE,EACf,gBAAmBE,EACnB,SAAYC,EACZ,OAAUC,EACV,KAAQC,EACR,YAAelF,EACf,KAAQmF,EACR,IAAOC,EACP,QAAWC,EACX,MAASC,EACT,cAAiB,CACdC,GAEH,cAAiBC,EACjB,SAAYC,EACZ,OAAUC,EACV,OAAUzM,EACV,QAAW0M,IAKb,SAASC,GAAcjS,EAAK0D,EAAIwO,EAAQC,GAA2H,IAA3GC,EAA0G,uDAA3F,EAAGN,EAAwF,uDAA7E,GAAI1L,EAAyE,uDAAjE,GAAIiM,EAA6D,uDAAnD,GAAIC,EAA+C,uDAAxC,GAAIC,EAAoC,uDAA3B,IAAKvB,EAAsB,0DAAd,GAAIwB,EAAU,yCACtK,MAAO,CACJ,YAAeL,EACf,MAAmB,KAAV/L,EAAA,kBAA0B+L,GAAmB/L,EACtD,oBAAuB,MACvB,IAAOpG,EACP,GAAM0D,EACN,SAAY8O,EACZ,KAAQ,CACL,SAAYH,EACZ,KAAQC,EACR,OAAU7O,SAAS8O,GACnB,GAAM7O,EACN,YAAesN,EACf,cAAiBoB,EACjB,SAAYN,GAEf,OAAUI,GC1DT,SAAeO,GAAtB,qC,8CAAO,WAA8B1D,EAAM2D,GAApC,2DAAAzS,EAAA,yDACG0S,EAAWC,UAAUD,UAAYC,UAAUC,aACjD9D,EAAOuB,GAAavB,GAEhBnP,OAAOkT,KAJR,yCAKM/B,GAAgBhC,IALtB,eAQQ2D,EARR,qCAQ8B5N,EAAA,mDAAsD6N,EAAQ,oBAAgBA,EAASI,cAAzB,KAA0C,IAAxG,mBAAsHnT,OAAOkT,KAA7H,kBAA2IE,UAAUjE,IACrL,CAAE9N,QAAS,CAAE,aAAc,wIAA4Id,OAAM,SAAAC,GAAO,OAAO,QATzL,6BAQC0S,EARD,OAWAJ,GAAiBI,GAAQA,EAAKzR,MAAQyR,EAAKzR,KAAK4R,QAAQtR,OAAO,GAX/D,wBAYIsP,EAASyB,GAAgBI,EAAKzR,KAAL,QAAqB,GAArB,GAZ7B,UAaayD,EAAA,6CAAgDmM,GAAhD,OAAyD0B,EAAQ,oBAAgBA,EAASI,cAAzB,KAA0C,IAA3G,mBAAyHnT,OAAOkT,KAAhI,6CACb,CAAE7R,QAAS,CAAE,aAAc,wIAA4Id,OAAM,SAAAC,GAAO,OAAO,QAd3L,aAaA0S,EAbA,UAgBWA,EAAKzR,MAASyR,EAAKzR,KAAK6R,QAhBnC,wBAiBGJ,EAAOA,EAAKzR,KAER8R,EAAW,GACXhC,EAAW,GAAIU,EAAe,EAAGC,EAAW,GAAIC,EAAW,EAC3DX,EAAiB,GAAIF,EAAc,GACnCG,EAAW,GAAIC,EAAS,GAAIC,EAAO,GAAIlF,EAAc,GAAImF,EAAO,GAAIC,EAAM,GAC1EC,EAAU,GAAIC,EAAQ,GAAIC,EAAe,GAAItM,EAAS,WAAY0M,EAAU,EAE7Ec,EAAK1M,QACL2I,EAAO+D,EAAK1M,OACZ0M,EAAKM,cACLD,EAAQ,6CAAyCL,EAAKM,cAEtDN,EAAKO,QAAUP,EAAKO,OAAOC,WAAaR,EAAKO,OAAOC,UAAU3R,OAAO,IACrEwP,EAAQ,6CAAyC2B,EAAKO,OAAOC,UAAU,GAAGC,YAE1ET,EAAKxN,SACLA,EAASwN,EAAKxN,QACdwN,EAAKd,UACLA,EAAUc,EAAKd,QAEfF,EAAWvB,GADXsB,EAAuB,GAARG,IAGfc,EAAKU,eACLzB,EAAWe,EAAKU,cAChBV,EAAKW,QAAUX,EAAKW,OAAOR,SAAWH,EAAKW,OAAOR,QAAQtR,OAAQ,IAC9D+R,EAAUZ,EAAKW,OAAOR,QAAQ1P,MAAK,SAAAC,GAAC,MAAc,YAAXA,EAAEH,SAAuByP,EAAKW,OAAOR,QAAQ1P,MAAK,SAAAC,GAAC,MAAc,WAAXA,EAAEH,WAEhG+N,EAAiBsC,EAAQ3S,KAE5B+R,EAAKa,eACLzC,EAAc4B,EAAKa,aACnBlC,EAAG,UAAMhO,UAAU,IAAIE,KAAS,IAAIA,KAAKuN,IAAvB,OAAf,cAEH4B,EAAKc,SAAWd,EAAKc,QAAQrC,OAC7BA,EAAOuB,EAAKc,QAAQrC,KAAKsC,KAAI,SAAArQ,GAAC,OAAEA,EAAEuL,QAAM+E,KAAK,MAC7CxC,EAASC,GAETuB,EAAKc,SAAWd,EAAKc,QAAQtB,OACzBA,EAAOQ,EAAKc,QAAQtB,KAAKpO,QAAO,SAAAV,GAAC,MAAa,aAAVA,EAAEuQ,UAEvC1C,EAAWiB,EAAKuB,KAAI,SAAArQ,GAAC,OAAEA,EAAEuL,QAAM+E,KAAK,OAGvChB,EAAKN,WACLnG,EAAcyG,EAAKN,SACnBhB,EAAOnF,GAEPyG,EAAKkB,sBAAwBlB,EAAKkB,qBAAqBrS,OAAO,IAC9D+P,EAAUoB,EAAKkB,qBAAqB,GAAGjF,MAEvC+D,EAAKmB,SACLtC,EAAQmB,EAAKmB,OAAOJ,KAAI,SAAArQ,GAAC,OAAEA,EAAEuL,QAAM+E,KAAK,OACxChB,EAAKoB,gBACLtC,EAAY,6CAAyCkB,EAAKoB,gBAvEhE,kBAwEUnD,GAAgBhC,EAAMoE,EAAUlC,EAAQC,EAAaC,EAASC,EAAeC,EAASC,EAAQC,EAAMlF,EAAamF,EAAMC,EAAKC,EAASC,EAAOC,EAAcC,EAAcC,EAAUC,EAAUzM,EAAQ0M,IAxE9M,iCAyEa,MAzEb,yDA0EU,MA1EV,6C,sBA8EA,SAAemC,GAAtB,uC,8CAAO,WAAiCpF,EAAMqF,EAAS1B,GAAhD,+BAAAzS,EAAA,yDACE0S,EAAWC,UAAUD,UAAYC,UAAUC,aACjD9D,EAAOuB,GAAavB,GAEhBhE,EAAO,GACPsJ,EAAW,GALX,KAOO3B,EAPP,qCAO6B5N,EAAA,gDAAmD6N,EAAQ,oBAAgBA,EAASI,cAAzB,KAA0C,IAArG,mBAAmHnT,OAAOkT,KAA1H,kBAAwIE,UAAUjE,IAAS,CACzL9N,QAAS,CACN,aAAc,wIAEjBd,OAAM,SAAAC,GACN,OAAO,QAZN,6BAOA0S,EAPA,OAeAJ,GAAiBI,GAAQA,EAAKzR,MAAQyR,EAAKzR,KAAK4R,QAAQtR,OAAS,GAfjE,wBAgBKsP,EAASyB,GAAgBI,EAAKzR,KAAL,QAAqB,GAArB,GAC3BiT,EAAU,GACdF,GAAWA,EAAQzS,OAAS,IAAO2S,EAAWC,MAAMhN,KAAK,IAAIiN,IAAIJ,EAAQP,KAAI,SAAArQ,GAAC,OAAIA,EAAE0O,YAAU2B,KAAI,SAAArQ,GAAC,yBAAeA,OAlBjH,UAmBYsB,EAAA,0CAA6CmM,GAA7C,OAAsD0B,EAAQ,oBAAgBA,EAASI,cAAzB,KAA0C,IAAxG,mBAAsHnT,OAAOkT,KAA7H,oDAA6KwB,GAAW,CAClMrT,QAAS,CACN,aAAc,wIAEjBd,OAAM,SAAAC,GACN,OAAO,QAxBT,SAmBD0S,EAnBC,SA2BWA,EAAKzR,OAASyR,EAAKzR,KAAK6R,UACjCJ,EAAOA,EAAKzR,MACH0N,OACNhE,EAAKgE,KAAO+D,EAAK/D,MAChB+D,EAAKM,cACNrI,EAAK0J,MAAL,6CAAmD3B,EAAKM,cACvDN,EAAKc,SAAWd,EAAKc,QAAQrC,OAC9BxG,EAAKwG,KAAOuB,EAAKc,QAAQrC,KAAKsC,KAAI,SAAArQ,GAAC,OAAIA,EAAEuL,QAAM+E,KAAK,OACnDhB,EAAK4B,aACN3J,EAAKsG,SAAWyB,EAAK4B,WAAWb,KAAI,SAAArQ,GAAC,OAAIA,EAAEuL,QAAM+E,KAAK,OACrDhB,EAAKmB,SACNlJ,EAAK4G,MAAQmB,EAAKmB,OAAOJ,KAAI,SAAArQ,GAAC,OAAIA,EAAEuL,QAAM+E,KAAK,OAC9ChB,EAAK6B,iBACN5J,EAAKmG,YAAc4B,EAAK8B,eACvB9B,EAAKU,eACNzI,EAAKwH,OAASO,EAAKU,aAAaqB,WAChC9J,EAAK+J,cAAgBhC,EAAKU,aAAe,GAExCV,EAAKoB,gBACNnJ,EAAKmJ,cAAgB,CAAC,sCAAD,OAAuCpB,EAAKoB,iBAChEpB,EAAKW,QAAUX,EAAKW,OAAO9R,OAAS,IACjC+R,EAAUZ,EAAKW,OAAOlQ,MAAK,SAAAC,GAAC,MAAe,YAAXA,EAAEuR,WAEnChK,EAAKiK,gBAAkBtB,EAAQ3S,KAEjC+R,EAAKmC,kBAAoBnC,EAAKmC,iBAAmB,IAClDlK,EAAKkK,iBAAmBnC,EAAKmC,iBAAiB,GAAGJ,YAEhDK,EAAiBnK,EAAKkK,iBAA2C,GAAxBlK,EAAKkK,iBAAwB,EACtEE,EAAapK,EAAKkK,iBAAmBlK,EAAKkK,iBAAiBJ,WAAa,EAGxET,GAAWA,EAAQzS,OAAS,GAC7B4S,MAAMhN,KAAK,IAAIiN,IAAIJ,EAAQP,KAAI,SAAArQ,GAAC,OAAIA,EAAE0O,YAAUkD,SAAQ,SAAAlD,GACrD,IAAMmD,EAAMjB,EAAQlQ,QAAO,SAAAoR,GAAE,OAAI7R,SAAS6R,EAAGpD,UAAYzO,SAASyO,MAAStP,MAAK,SAAU3C,EAAG4C,GAC1F,OAAO5C,EAAEsV,QAAU1S,EAAE0S,WAExBlB,EAASnC,EAAO2C,YAAc,GAE9BQ,EAAID,SAAQ,SAAAI,GACT,GAAI1C,EAAK,UAAD,OAAWZ,IAAW,CAC3B,IAAIuD,EAAU,GACVC,EAAY,GACZC,EAAS,GACTC,EAAW,IACXC,EAAU,GACVrD,EAAW,GACTsD,EAAShD,EAAK,UAAD,OAAWZ,IAAUmC,SAAS9Q,MAAK,SAAAC,GAAC,OAAIC,SAASD,EAAE2O,kBAAoB1O,SAAS+R,EAAGD,YAClGO,GACDL,EAAUK,EAAO/G,KACjB2G,EAAY5C,EAAK,UAAD,OAAWZ,IAAU6D,SACjCD,EAAOxD,OACRqD,EAASG,EAAOxD,KAAKuB,KAAI,SAAArQ,GAAC,OAAIA,EAAEuL,QAAM+E,KAAK,MAC1CgC,EAAOtC,eACRoC,GAAYE,EAAOtC,aAAe,GAAGqB,YACxCgB,EAAUC,EAAOE,WAAP,6CAA0DF,EAAOE,YAAe,GAC1FxD,EAAWsD,EAAOtD,SAClB6B,EAASnC,EAAO2C,YAAYjL,KAAKqI,GAAcuD,EAAGS,eAAiBT,EAAGxV,IAAKwV,EAAG9R,GAAI8R,EAAGtD,OAAQsD,EAAGD,QAASL,EAAgBC,EAAYM,EAASC,EAAWC,EAAQC,EAAUC,EAASrD,KAChL6B,EAASnC,EAAO2C,YAAYjL,KAAKqI,GAAcuD,EAAGS,eAAiBT,EAAGxV,IAAKwV,EAAG9R,GAAI8R,EAAGtD,OAAQsD,EAAGD,QAASL,EAAgBC,SAEhId,EAASnC,EAAO2C,YAAYjL,KAAKqI,GAAcuD,EAAGS,eAAiBT,EAAGxV,IAAKwV,EAAG9R,GAAI8R,EAAGtD,OAAQsD,EAAGD,QAASL,EAAgBC,WAMjIf,GAAWA,EAAQzS,OAAS,GAC7B4S,MAAMhN,KAAK,IAAIiN,IAAIJ,EAAQP,KAAI,SAAArQ,GAAC,OAAIA,EAAE0O,YAAUkD,SAAQ,SAAAlD,GACrD,IAAMmD,EAAMjB,EAAQlQ,QAAO,SAAAoR,GAAE,OAAI7R,SAAS6R,EAAGpD,UAAYzO,SAASyO,MAAStP,MAAK,SAAU3C,EAAG4C,GAC1F,OAAO5C,EAAEsV,QAAU1S,EAAE0S,WAExBlB,EAASnC,EAAO2C,YAAc,GAE9BQ,EAAID,SAAQ,SAAAI,GACTnB,EAASnC,EAAO2C,YAAYjL,KAAKqI,GAAcuD,EAAGS,eAAiBT,EAAGxV,IAAKwV,EAAG9R,GAAI8R,EAAGtD,OAAQsD,EAAGD,gBArG3G,wBA0GOnB,GAAWA,EAAQzS,OAAS,GACpC4S,MAAMhN,KAAK,IAAIiN,IAAIJ,EAAQP,KAAI,SAAArQ,GAAC,OAAIA,EAAE0O,YAAUkD,SAAQ,SAAAlD,GACrD,IAAMmD,EAAMjB,EAAQlQ,QAAO,SAAAoR,GAAE,OAAI7R,SAAS6R,EAAGpD,UAAYzO,SAASyO,MAAStP,MAAK,SAAU3C,EAAG4C,GAC1F,OAAO5C,EAAEsV,QAAU1S,EAAE0S,WAExBlB,EAASnC,EAAO2C,YAAc,GAG9BQ,EAAID,SAAQ,SAAAI,GACTnB,EAASnC,EAAO2C,YAAYjL,KAAKqI,GAAcuD,EAAGS,eAAiBT,EAAGxV,IAAKwV,EAAG9R,GAAI8R,EAAGtD,OAAQsD,EAAGD,gBAnHrG,iCAuHG,CACJ,KAAQxK,EACR,SAAYsJ,IAzHX,6C,sBA6HA,SAAS6B,GAAiBC,EAAY9U,GACtCA,GAASA,EAAKgT,UAElB+B,OAAOC,KAAKhV,EAAKgT,UAAUe,SAAQ,SAAAlD,GAChC7Q,EAAKgT,SAASnC,GAAQkD,SAAQ,SAAAI,GAC3BA,EAAGpP,MAAQoP,EAAGpP,MAAM5E,QAAQ2U,EAAW,IAAI3U,QAAQ,mBAAmB,IAAIuD,OACtEyQ,EAAGpP,OAAsB,MAAboP,EAAGpP,QAChBoP,EAAGpP,MAAQ,YAAcoP,EAAGc,aAAed,EAAGD,gBCrNnD,IAAMgB,GAAU,SAACC,EAAM9S,GAC1B,OAAO8S,EAAKC,QAAO,SAASxD,EAASyD,GAEjC,OADCzD,EAAQyD,EAAKhT,IAAOuP,EAAQyD,EAAKhT,KAAQ,IAAIkG,KAAK8M,GAC5CzD,IACR,KCGA,SAAe0D,GAAtB,mC,8CAAO,WAAyBC,GAAzB,SAAA3W,EAAA,sEACU6E,EAAW,iBAAkB,CACtC5B,SAAUjB,IAAUiB,SACpByB,SAAU1C,IAAU0C,SACpBgC,OAAQkQ,GAAWD,GAAM,KAC1B5R,MAAK,SAAA8R,GAAG,OAAIA,EAAIzV,QAAMlB,OAAM,SAAAC,GAAG,MAAI,MALnC,oF,sBAQA,SAAe2W,GAAtB,qC,8CAAO,WAA4BH,EAAMI,GAAlC,eAAA/W,EAAA,sEACkB6E,EAAW,iBAAkB,CAC9C5B,SAAUjB,IAAUiB,SACpByB,SAAU1C,IAAU0C,SACpBgC,OAAQkQ,GAAWD,GAAM,GACzBK,YAAaC,MAAMF,GAAS,IAAMA,IACnChS,MAAK,SAAA8R,GAAG,OAAIA,EAAIzV,QAAMlB,OAAM,SAAAC,GAAG,MAAI,MANnC,UACG6E,EADH,OAOU,SAAT2R,GAAoBM,MAAMF,KAAsC,IAA5BlS,IAPrC,gCAQOqS,GAA8BlS,GARrC,gCAcIA,GAdJ,4C,sBAiBA,SAAemS,GAAtB,mC,8CAAO,WAAuBC,GAAvB,6BAAApX,EAAA,yDAA+BqX,EAA/B,+BAAuC,EACtCxT,EAAM,IAAIH,MAEkB,IAA5BmB,IAHD,yCAG0C,IAH1C,uBAKUA,EAAW,WAAY,CAChC5B,SAAUjB,IAAUiB,SACpByB,SAAU1C,IAAU0C,SACpBgC,OAAQ,wBACR0Q,OAAQA,EACRC,MAAOA,EACP9H,MAAO/L,SAAS,IAAIE,KAAKG,EAAIyT,cAAezT,EAAI0T,WAAY1T,EAAI2T,UAAYH,EAAQ,EAAG,EAAG,EAAG,EAAG,GAAGI,UAAY,KAC/GjI,KAAMhM,SAAS,IAAIE,KAAKG,EAAIyT,cAAezT,EAAI0T,WAAY1T,EAAI2T,UAAYH,EAAQ,EAAG,GAAI,GAAI,GAAI,MAAMI,UAAY,OACrH,GAAMvX,OAAM,SAAAC,GAAG,MAAI,MACjB4E,MAAK,SAAAC,GACF,OAAOA,EAAO5D,QAfnB,oF,sBAoBA,SAAesW,GAAtB,mC,8CAAO,WAA4BC,GAA5B,2CAAA3X,EAAA,yDAAqCqX,EAArC,+BAA6C,GAChB,IAA5BxS,IADD,yCAC2C,IAD3C,OAEChB,EAAM,IAAIH,KACRkU,EAAa,GAEbhW,EAAM,IAAI2S,IACVX,EAAM,GAEZ+D,EAAQ1T,QAAO,SAAAV,GAAC,QAAIA,KAAG4R,SAAQ,SAAA5R,GAC3B,IAAME,EAAKF,EAAEhC,QAAQ,qBAAqB,IAC1CK,EAAIiW,IAAIpU,GAER,IAAMqU,EAAQvU,EAAE5C,MAAF,aAAQ,0BAAR,aACd,GAAGmX,GAASA,EAAMC,OAAO,CACrB,IAAMxB,EAAO3C,EAAInQ,IAAO,GACxB8S,EAAK5M,KAAKmO,EAAMC,OAAOC,QACvBpE,EAAInQ,GAAM8S,MAGlBoB,EAAUrD,MAAMhN,KAAK1F,GAnBlB,IAAA5B,EAAA,iBAqBM8D,EAAOmU,GArBb,iBAAAjY,EAAA,6DAsBKkY,EAASP,EAAQjV,MAAMoB,EAAGA,EAAI,IAtBnC,SAwBsB7D,IAAMG,KAAN,UAAeqB,8BAAf,aAAgE,CAC7EwB,SAAUjB,IAAUiB,SACxByB,SAAU1C,IAAU0C,SACpBgC,OAAQ,8BACRiR,QAASO,EACTb,MAAOA,EACP9H,MAAO/L,SAAS,IAAIE,KAAKG,EAAIyT,cAAezT,EAAI0T,WAAY1T,EAAI2T,UAAYH,EAAQ,EAAG,EAAG,EAAG,EAAG,GAAGI,UAAY,KAC/GjI,KAAMhM,SAAS,IAAIE,KAAKG,EAAIyT,cAAezT,EAAI0T,WAAY1T,EAAI2T,UAAYH,EAAQ,EAAG,GAAI,GAAI,GAAI,MAAMI,UAAY,OACrH1S,MAAK,SAAAC,GAAM,OAAGA,EAAO5D,QAAMlB,OAAM,SAAAC,GAAG,MAAG,MAhC3C,OAwBO6E,EAxBP,OAkCCmR,OAAOC,KAAKxC,GAAK3P,QAAO,SAAAkU,GAAC,OAAGD,EAAO5W,SAAS6W,MAAIhD,SAAQ,SAAAgD,GACpD,IAAMC,EAAMpT,EAAOf,QAAO,SAAAV,GAAC,OAAEA,EAAEE,KAAO0U,KACtCvE,EAAIuE,GAAGhD,SAAQ,SAAA2C,GACX,IAAMrU,EAAK0U,GAAKL,EAAQ,EAAR,eAAoBA,GAApB,gBAAuCA,IACvDM,EAAIjD,SAAQ,SAAAkD,GAAC,OAAGrT,EAAO2E,KAAP,2BACT0O,GADS,IAEZ5U,KACA8L,MAAO8I,EAAE9I,MAAiB,KAARuI,EAClBtI,KAAM6I,EAAE7I,KAAgB,KAARsI,cAM5B9S,EAAOmQ,SAAQ,SAAAkD,GAAC,OAAGT,EAAWjO,KAAK0O,MAhDpC,0CAqBMvU,EAAI,EAAGmU,EAAIN,EAAQjW,OArBzB,aAqBiCoC,EAAImU,GArBrC,0CAqBMnU,EAAOmU,GArBb,iBAqBwCnU,GAAK,GArB7C,+BAmDGwU,EAAWhC,GAAQsB,EAAY,MAnDlC,kBAqDIU,GArDJ,6C,sBAwDA,SAAeC,GAAtB,uC,8CAAO,WAA0BC,EAAQ1J,EAAM2D,GAAxC,eAAAzS,EAAA,yDACCgF,EAAS,MACmB,IAA5BH,IAFD,gCAGgBA,EAAW,iBAAkB,CACxC5B,SAAUjB,IAAUiB,SACpByB,SAAU1C,IAAU0C,SACpBgC,OAAQ,eACR8R,OAAQA,IACTtY,OAAM,SAAAC,GAAG,OAAI,QACX4E,MAAK,SAAAC,GACF,OAAOA,EAAO5D,QAVvB,OAGC4D,EAHD,mBAcCA,GAAUA,EAAO8F,MAAQ9F,EAAO8F,KAAK2N,WAdtC,yCAeQzT,GAfR,uBAiBUwN,GAAe1D,EAAM2D,GAjB/B,qF,sBAoBA,SAAeiG,GAAtB,yC,8CAAO,WAA6BC,EAAW7J,EAAM8J,EAAWnG,GAAzD,eAAAzS,EAAA,yDACCgF,EAAS,MACmB,IAA5BH,MAAmD,IAAd+T,EAFtC,gCAGgB/T,EAAW,iBAAkB,CACxC5B,SAAUjB,IAAUiB,SACpByB,SAAU1C,IAAU0C,SACpBgC,OAAQ,kBACRiS,UAAWA,IACZzY,OAAM,SAAAC,GAAG,OAAI,QACX4E,MAAK,SAAAC,GAOF,OANIA,EAAO5D,MAAQkT,MAAMuE,QAAQ7T,EAAO5D,OACpC4D,EAAO5D,KAAK+T,SAAQ,SAAA5R,IACXA,EAAE8S,aAAe9S,EAAE+R,UACpB/R,EAAE8S,YAAc9S,EAAE+R,YAGvBtQ,EAAO5D,QAhBvB,OAGC4D,EAHD,kBAoB6B,IAA5BH,IApBD,iCAqBcqP,GAAkBpF,EAAM9J,EAAQyN,GArB9C,iDAsBoB,IAAdmG,GACL3C,GAAiBnH,EAAM9J,GAvBxB,iCAwBIA,GAxBJ,6C,sBA4BP,I,qBAAM4R,GAAa,SAACD,EAAMI,GACtB,OAAQJ,GACJ,IAAK,OACD,OAAKI,EAEO,sBADD,mBAEf,IAAK,QACD,OAAKA,EAEO,qBADD,kBAEf,IAAK,SACD,OAAKA,EAEO,wBADD,aAEf,QACI,MAAO,KCxKb+B,GAAS,IAAIC,IAwBZ,SAAeC,GAAtB,qC,8CAAO,WAA+BC,EAAMC,GAArC,+BAAAlZ,EAAA,yDAA4CqX,EAA5C,+BAAoD,EAAGS,EAAvD,+BAA+D,EACrD,SAAVoB,GAAqBA,EADrB,yCAEQ,IAFR,WAKgB,KAFfC,EAAYC,GAAYF,EAAO7B,KAEV6B,EALtB,yCAMQ,IANR,UAOoB,IAAdC,EAPN,0CAQQE,GAAOH,EAAO7B,EAAOS,IAR7B,yBAUOX,GAAQ+B,EAAO7B,GAAOtS,MAAK,SAAAC,GAC7B,IAAKA,EACD,OAAO,KAEX,MADAA,EAASA,EAAOsU,eACFtU,EAAOtD,OAAS,GAOvB,CACH,GAAIoX,GAAOS,IAAIL,GAAQ,CACnB,IAAKJ,GAAOhZ,IAAIoZ,GACZ,MAAO,GACNJ,GAAOhZ,IAAIoZ,GAAOM,OACnBV,GAAOhZ,IAAIoZ,GAAOM,KAAO,IAC7BV,GAAOhZ,IAAIoZ,GAAOM,KAAKnC,IAAS,OAC7B,GAAc,IAAVA,EACPyB,GAAOlX,IAAIsX,GAAO,OACjB,CACD,IAAIO,EAAM,CAAED,KAAM,GAAIpY,KAAM,IAC5BqY,EAAID,KAAKnC,IAAS,EAClByB,GAAOlX,IAAIsX,EAAOO,GAEtB,MAAO,GApBPzU,EAAS0U,GAAkB1U,GAE3B,IAAM2U,EAAUb,GAAOS,IAAIL,GAASJ,GAAOhZ,IAAIoZ,GAAS,CAAEM,KAAM,GAAIpY,KAAM,IAC1EwY,GAASD,EAAS3U,EAAQqS,GAC1ByB,GAAOlX,IAAIsX,EAAOS,MAnB3B,6C,sBAyCA,SAASP,GAAY3V,GAAc,IAAVoW,EAAS,uDAAH,EAClC,GAAIf,GAAOS,IAAI9V,GAAK,CAChB,IAAKqV,GAAOhZ,IAAI2D,GAAI+V,OAASV,GAAOhZ,IAAI2D,GAAI+V,KAAKK,GAC7C,OAAO,EACN,IAAiC,IAA7Bf,GAAOhZ,IAAI2D,GAAI+V,KAAKK,GACzB,OAAQ,EACP,IAAiC,IAA7Bf,GAAOhZ,IAAI2D,GAAI+V,KAAKK,GACzB,OAAO,EAEf,OAAO,EAUJ,SAAe3C,GAAtB,mC,8CAAO,WAA6C4C,GAA7C,qBAAA9Z,EAAA,yDACGqX,EAAQ,EACV0C,EAASzF,MAAMhN,KAAK,IAAIiN,IAAIuF,EAASlG,KAAI,SAAArQ,GAAC,OAAIA,EAAEyW,oBAAkB/V,QAAO,SAAAV,GAAC,OAAEA,GAAW,SAANA,KAG3D,KAFtB0W,EAAaC,GAAiBH,IAEnBrY,OALZ,iEAQsBgW,GAAauC,EAAY5C,GAR/C,OAQOrS,EARP,OASCiV,EAAW9E,SAAQ,SAAA1R,GACf,IAAIrC,EAAO4D,EAAO,CAACvB,IACnB,GAAIrC,GAAQA,EAAKM,OAAS,EAAG,CACzBN,EAAOsY,GAAkBtY,GACzB,IAAMuY,EAAUb,GAAOS,IAAI9V,GAAMqV,GAAOhZ,IAAI2D,GAAM,CAAE+V,KAAM,GAAIpY,KAAM,IACpEwY,GAASD,EAASvY,EAAMiW,GACxByB,GAAOlX,IAAI6B,EAAIkW,QAEf,GAAIb,GAAOS,IAAI9V,GACNqV,GAAOhZ,IAAI2D,GAGXqV,GAAOhZ,IAAI2D,GAAI+V,OAChBV,GAAOhZ,IAAI2D,GAAI+V,KAAO,IAC1BV,GAAOhZ,IAAI2D,GAAI+V,KAAKnC,IAAS,OAC1B,GAAc,IAAVA,EACPyB,GAAOlX,IAAI6B,GAAI,OACd,CACD,IAAIgW,EAAM,CAAED,KAAM,GAAIpY,KAAM,IAC5BqY,EAAID,KAAKnC,IAAS,EAClByB,GAAOlX,IAAI6B,EAAIgW,OA7B5B,6C,sBAsCA,SAASS,GAAiBC,GAC7B,IAAM7B,EAAW,GAMjB,OALA6B,EAAIhF,SAAQ,SAAA1R,GACHqV,GAAOS,IAAI9V,IACZ6U,EAAS3O,KAAKlG,MAGf6U,EAKJ,SAASe,GAAO5V,GAAyB,IAArBoW,EAAoB,uDAAd,EAAG/B,EAAW,uDAAH,EACxC,IAAKrU,GAA+B,IAAzB2V,GAAY3V,EAAIoW,GACvB,MAAO,GACX,IAAIO,EAAMtB,GAAOhZ,IAAI2D,GAAIrC,KAAKwS,KAAI,SAACrQ,GAAD,sBAAaA,MAE3CgM,EAAQ,IAAI7L,KAChB6L,EAAM8K,SAAS,EAAG,EAAG,EAAG,GACxB9K,EAAQA,EAAMkI,UAAyB,MAAXoC,EAAM,GAAe,GAEjD,IAAIS,EAAM,IAAI5W,KAYd,OAXA4W,EAAID,SAAS,GAAI,GAAI,GAAI,KACzBC,EAAMA,EAAI7C,UAAyB,MAAXoC,EAAM,GAAe,GAE/B,IAAV/B,GACAsC,EAAIjF,SAAQ,SAAA5R,GACR,IAAMgX,EAAa,GAARzC,EAAa,GAAK,IAC7BvU,EAAEgM,OAASgL,EACXhX,EAAE+W,KAAOC,KAIVH,EAAInW,QAAO,SAAAV,GAAC,OAAKA,EAAEgM,OAASA,GAAShM,EAAEgM,MAAQ+K,GAAS/W,EAAEgM,MAAQA,GAAShM,EAAE+W,IAAM/K,KAGvF,SAASiL,GAAgB/W,EAAIqU,GAEhC,OADUuB,GAAO5V,EAAI,EAAGqU,GACbxU,MAAK,SAAAC,GAAC,OAAIA,EAAEgM,OAAS7L,KAAKG,OAASN,EAAE+W,IAAM5W,KAAKG,SAGxD,SAAS4W,GAAUhX,EAAIqU,GAC1B,IAAIsC,EAAMf,GAAO5V,EAAI,EAAGqU,GACpBwC,EAAM,IAAI5W,KAEd,OADA4W,EAAID,SAAS,GAAI,GAAI,GAAI,KAClBD,EAAInW,QAAO,SAAAV,GAAC,OACdA,EAAEgM,OAAS7L,KAAKG,OAASN,EAAE+W,IAAM5W,KAAKG,OACtCN,EAAEgM,MAAQ7L,KAAKG,OAASN,EAAEgM,MAAQ+K,EAAI7C,aAK/C,SAASiC,GAAkBtY,GACvB,OAAOA,EAAKwS,KAAI,SAAArQ,GACZ,MAAO,CACH4C,MAAO5C,EAAE4C,MACTiG,YAAa7I,EAAE6I,YACfmD,MAAOmL,GAAiBnX,EAAEgM,OAAShM,EAAEoX,iBACrCL,IAAKI,GAAiBnX,EAAEiM,MAAQjM,EAAEqX,oBAK9C,SAASF,GAAiBG,GACtB,OAAOrX,SAASqX,EAAO,OAI3B,SAASjB,GAASD,EAASmB,EAASjB,GAQhC,OAPAF,EAAQH,KAAKK,IAAO,EACpBF,EAAQvY,KAAOuY,EAAQvY,KAAK2Z,OAAOD,GACnCnB,EAAQvY,KAAOuY,EAAQvY,KAAKuB,MAAK,SAAC3C,EAAG4C,GAAJ,OAAU5C,EAAEuP,MAAQ3M,EAAE2M,SAAOtL,QAAO,SAACV,EAAGyX,EAAOC,GAAX,OACjED,IAAUC,EAAKlX,WAAU,SAACmX,GAAD,OACrBA,EAAE3L,QAAUhM,EAAEgM,YAGfoK,ECnMX,I,YAAMwB,GAAaC,EAAQ,IAErBC,GAAY7T,KAAOG,IAAV,0XAiBT2T,GAAa9T,KAAOG,IAAV,uSAaV4T,GAAQ/T,KAAOgU,GAAV,8MAULC,GAAcjU,KAAOkU,GAAV,+QAaXC,GAAUnU,KAAOG,IAAV,iQAkBPiU,GAAWpU,KAAOqU,MAAV,+DAKRC,GAAOtU,KAAOG,IAAV,0UAqIKoU,GAlHO,SAAC,GAA8C,IAA7CC,EAA4C,EAA5CA,aAAcC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,UAC3CC,EAAejO,iBAAO,GACtBkO,EAAgBlO,iBAAO,GACvBmO,EAAUnO,iBAAO,MAEjBoO,EAAiBpU,cAAY,SAAAd,GAAK,OAAIA,EAAMmV,aAC5CC,EAAMF,IAAmBN,GAAWM,EAAevC,eACnD0C,EAAQH,GAAmBA,EAAezE,MAC1CmB,EAAOsD,GAAmBA,EAAeI,UAEzCjN,EAAQvH,cAAY,SAAAd,GAAK,OAAIA,EAAMsI,UACnCiN,EAAYzU,cAAY,SAAAd,GAAK,OAAIA,EAAM4D,OAE7C,EAA4B1G,qBAAS4X,GAAY,CAC7ChW,MAAQ8V,EACR7P,YAAa8P,IAFjB,mBAAOW,EAAP,KAAeC,EAAf,KAMM3W,EAAQ0W,GAAUA,EAAOtN,MAAQsN,EAAO1W,MAAQ,GAChDiG,EAAcyQ,GAAUA,EAAOtN,MAAQsN,EAAOzQ,YAAc,GAC5DmD,EAAQsN,GAAUA,EAAOtN,MAAQ4L,GAAW,IAAIzX,KAAKmZ,EAAOtN,OAAQqN,GAAa,GACjFpN,EAAOqN,GAAUA,EAAOtN,MAAQ4L,GAAW,IAAIzX,KAAKmZ,EAAOvC,KAAMsC,GAAa,GA6DpF,OArCAxT,qBAAU,WACH4S,GACCK,EAAcrN,UAAYqN,EAAcrN,QAAQxG,MAAMuU,OAAS,OAC/DX,EAAapN,UAAYoN,EAAapN,QAAQxG,MAAMwU,IAAM,SAE1DX,EAAcrN,UAAYqN,EAAcrN,QAAQxG,MAAMuU,OAAS,QAC/DX,EAAapN,UAAYoN,EAAapN,QAAQxG,MAAMwU,IAAM,WAEhE,CAAChB,IAEH5S,qBAAU,WAAI,4CAGV,4BAAApJ,EAAA,sEACUgZ,GAAgBC,EAAMwD,EAAK,EAAGC,GADxC,QAEUO,EAASzC,GAAgBiC,EAAIC,KAG3BO,IAAsB,IAAXJ,GAAoBA,EAAOtN,QAAU0N,EAAO1N,OAC3DuN,EAAU,eAAIG,IAFdH,GAAU,GAJlB,4CAHU,sBACNL,IAAON,GADD,mCAaVe,KACF,CAACX,IAEHnT,qBAAU,WACN,IAAG+S,EAAH,CAEA,IAAMc,EAASzC,GAAgBiC,EAAIC,GAC/BO,GAEIA,IAAsB,IAAXJ,GAAoBA,EAAOtN,QAAU0N,EAAO1N,OAC3DuN,EAAU,eAAIG,IAFdH,GAAU,MAIf,CAACpN,EAAO+M,EAAKC,EAAOP,EAAWU,IAG9B,eAAClB,GAAD,CAAS/R,SAAU,EAAG+E,IAAK2N,EAA3B,UACI,cAACjB,GAAD,CAAW1M,IAAKyN,EAAc5T,MAAO,CAACwU,IAAM,QAA5C,SACI,sBAAKzU,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,cAACuT,GAAD,UACI,qBAAKpT,IAAK6T,GAAmBA,EAAeY,YAAcC,QAAS,OAAiFC,MAAM,SAAS1U,IAAI,SAG/K,qBAAKJ,UAAU,WAAf,SACI,6BAAKgU,GAAmBA,EAAezN,cAInD,cAACwM,GAAD,CAAY3M,IAAK0N,EAAe7T,MAAO,CAACuU,OAAS,OAAQtU,SAAWoU,EAAOtN,OAAU,QAArF,SACI,gCACI,cAACgM,GAAD,UAAQpV,IACR,cAAC,GAAD,UAAciG,IACd,gCAAQmD,IACR,cAACqM,GAAD,UAAWpM,IACVqN,EAAOtN,MACP,cAAC,GAAD,CAA0FA,MAAOsN,EAAOtN,MAAOC,KAAMqN,EAAOvC,KAAxGiC,GAAmBA,EAAevC,eAAiB,IAAK6C,EAAOtN,OAEpF,cAAC,GAAD,aC9Md+N,GAAY9V,KAAOiD,OAAV,4hBAiCT8S,GAAY/V,KAAOgW,KAAV,iJAmBAhT,GATA,SAAC,GAA0D,IAAzDH,EAAwD,EAAxDA,QAASoT,EAA+C,EAA/CA,QAASC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,QAASC,EAAqB,EAArBA,OAAQC,EAAa,EAAbA,QACxD,OACI,eAACP,GAAD,CAAWla,KAAK,SAAS+C,MAAQsX,EAAmBI,EAATD,EAAkBvT,QAASA,EAAtE,UACE,mBAAG9B,UAAYkV,EAAmBE,EAATD,IAC1B,cAACH,GAAD,CAAWO,YAAYL,EAAmBI,EAATD,EAAjC,SAAqDH,EAAmBI,EAATD,QC7BzDG,I,OAjBM,SAAC,GAA+C,IAA9CN,EAA6C,EAA7CA,QAASO,EAAoC,EAApCA,OAAQC,EAA4B,EAA5BA,cAAe5T,EAAa,EAAbA,QACnD,OACI,sBAAK9B,UAAU,mBAAf,UACI,cAAC,GAAD,CAAQkV,QAASA,EAASC,OAAQ,mBAAoBC,QAAS,qBAAsBC,OAAQ,OAAQC,QAAS,SAAUxT,QAASA,IACjI,uBACI1G,MAAOqa,EACP5a,KAAM,QACN8a,IAAK,EACLC,IAAK,IACLC,KAAM,EACN7S,SAAU0S,SCXpBX,GAAY9V,KAAOiD,OAAV,8iBAiCT8S,GAAY/V,KAAOgW,KAAV,iJAwBAa,GAdG,SAAC,GAAwB,IAAvBhU,EAAsB,EAAtBA,QAASoT,EAAa,EAAbA,QACzB,OACI,eAAC,GAAD,CAAWra,KAAK,SAAS+C,MAAQsX,EAAiC,0BAAvB,qBAAkDpT,QAASA,EAAtG,UACE,4BACE,sBAAKiU,MAAM,6BAA6BnO,MAAM,KAAKvH,OAAO,KAAK2V,KAAK,eAAgBC,QAAQ,YAA5F,UACE,sBAAMjO,EAAE,iMACR,sBAAMA,EAAE,6FAGb,cAAC,GAAD,CAAWuN,YAAYL,EAAiC,0BAAvB,qBAAjC,SAAqFA,EAAiC,0BAAvB,2BCpDjG,SAASgB,GAAarb,EAAMK,EAAIib,GACnC,IAAMjf,GAA0B,IAApBqC,IAA2BL,8BrB2EhChC,EqB1EDkf,EAAO3c,IAAUiB,SACjB2b,EAAO5c,IAAU0C,SACvB,MAAM,GAAN,OAAUjF,GAAV,OAAgB2D,EAAhB,YAAwBub,EAAxB,YAAgCC,EAAhC,YAAwCnb,EAAxC,aAAmE,IAApB3B,IAA2B,MAAQ4c,GAkB/E,SAASG,GAAqBC,EAAGjE,EAAMhJ,GAC1C,IAAI9R,EAAM+e,EACVjE,EAAOkE,GAAclE,GAErB,IAAMmE,GADNjf,EAAMA,EAAIwB,QAAQ,SAAS,KAAKA,QAAQ,eAAe,KAClCsH,MAAM,KAErBpF,EAAKub,EAASA,EAAStd,OAAO,GACpC,GAAGuV,MAAMxT,GACL,OAAOqb,EACX,IAAMH,EAAOK,EAASA,EAAStd,OAAO,GAChCkd,EAAOI,EAASA,EAAStd,OAAO,GAGtC,OAFesd,EAAStc,MAAM,EAAEsc,EAAStd,OAAO,GAAGmS,KAAK,KAExC,cAAgB8K,EAAO,IAAMC,EAAO,IAAM/M,EAAW,IAAMgJ,EAAKhS,MAAM,KAAKnG,MAAM,GAAG,GAAGmR,KAAK,KAAKtS,QAAQ,IAAI,KAAO,IAAMkC,EAAK,QAGnJ,I,+DAAMsb,GAAgB,SAAClE,GACnB,IAAM7a,EAAI,IAAI0D,KAAKmX,GACboE,EAAOjf,EAAEsX,cACT4H,EAAQlf,EAAEuX,WAAW,EACrBsC,EAAM7Z,EAAEwX,UACR2H,EAAOnf,EAAEof,WACTlB,EAAMle,EAAEqf,aACRC,EAAMtf,EAAEuf,aAEd,OAAON,EAAO,KAAOC,EAAQ,GAAK,IAAIA,EAAQA,GAAS,KAAOrF,EAAM,GAAK,IAAIA,EAAMA,GAAO,KAAOsF,EAAO,GAAK,IAAIA,EAAOA,GAAQ,KAAOjB,EAAM,GAAK,IAAIA,EAAMA,GAAO,KAAOoB,EAAM,GAAK,IAAIA,EAAMA,IChD7LE,GAAcvS,aAAH,iOAiBJlE,GAAYvB,KAAOG,IAAV,0kBAMH,SAAA8X,GAAK,OAClBA,EAAMC,WACFD,EAAMC,WACN,iIAeK,SAAAD,GAAK,OAAKA,EAAME,UAAY,EAAI,KAO1B,SAAAF,GAAK,OAClBA,EAAMC,WACFD,EAAMC,WACN,iIAIR,SAAAD,GAAK,OACLA,EAAMG,YACNC,aADA,oHASSC,GAAYtY,KAAOG,IAAV,47GACT,SAAA8X,GAAK,OAAKA,EAAMM,KAAO,EAAI,KACzB,SAAAN,GAAK,OAAKA,EAAMM,KAAO,WAAa,gBAsI3C,SAAAN,GAAK,OAAIA,EAAMO,gBAAgB,SAAAP,GAAK,OAAIA,EAAMQ,iBACzC,SAAAR,GAAK,OAAIA,EAAMQ,iBAyBR,SAAAR,GAAK,OAAIA,EAAMO,gBAgBf,SAAAP,GAAK,OAAIA,EAAMO,gBAgBtBE,GAAkB1Y,KAAOG,IAAV,s5CAOf,SAAA8X,GAAK,OAAKA,EAAMM,KAAO,EAAI,KAG3B,SAAAN,GAAK,OAAKA,EAAMM,KAAO,EAAI,KAQzB,SAAAN,GAAK,OAAIA,EAAMU,cAMf,SAAAV,GAAK,OAAIA,EAAMW,iBAKf,SAAAX,GAAK,OAAIA,EAAMY,aAoBf,SAAAZ,GAAK,OAAKA,EAAMa,UAAY,EAAI,KAO9B,SAAAb,GAAK,OAAIA,EAAMc,oBACV,SAAAd,GAAK,OAAIA,EAAMe,8BAWb,SAAAf,GAAK,OAAIA,EAAMgB,mCACpB,SAAAhB,GAAK,OAAIA,EAAMiB,yBAgBrBC,GAAenZ,KAAOG,IAAV,m0BAWZ,SAAA8X,GAAK,OAAKA,EAAMM,KAAO,EAAI,KAgBzB,SAAAN,GAAK,OAAIA,EAAMO,gBAKf,SAAAP,GAAK,OAAIA,EAAMmB,kBAgBjBC,GAAUrZ,KAAOG,IAAV,8eAmBS6X,IAIT,SAAAC,GAAK,OAAIA,EAAMqB,SAMtBC,GAAiBvZ,KAAOG,IAAV,0/BAyBjB,SAAA8X,GAAK,OAAIA,EAAMO,gBAAgB,SAAAP,GAAK,OAAIA,EAAMuB,iBACzC,SAAAvB,GAAK,OAAIA,EAAMuB,iBAUR,SAAAvB,GAAK,OAAIA,EAAMO,gBAUf,SAAAP,GAAK,OAAIA,EAAMO,gBAO/BiB,GAAkBzZ,KAAOG,IAAV,sNAcRuZ,GAAmB1Z,KAAOG,IAAV,qTAqBhBwZ,GAAmB3Z,aAAOyZ,GAAPzZ,CAAH,ivBA4ChB4Z,GAAW5Z,aAAOyZ,GAAPzZ,CAAH,okBAiCR6Z,GAAuB7Z,aAAOyZ,GAAPzZ,CAAH,6tCAoEpB8Z,GAAkB9Z,aAAOyZ,GAAPzZ,CAAH,+mBCnoBtB+Z,I,OAAY/Z,KAAOG,IAAV,0LAWT6Z,GAAmBha,KAAOG,IAAV,yNAahB8Z,GAAOja,KAAOG,IAAV,6RAmBN1G,GAAU,KAoJCygB,GAnJA,WACb,IAAM/S,EAAMR,mBAENoO,EAAiBpU,cAAY,SAAAd,GAAK,OAAIA,EAAMmV,WAAa,CAACmF,UAAS,MACzE,EAAwBpd,qBAAWgY,GAAnC,mBAAOqF,EAAP,KAAaC,EAAb,KACA,EAA4Btd,mBAAS,IAArC,mBAAOyZ,EAAP,KAAe8D,EAAf,KACA,EAAsBvd,oBAAS,GAA/B,mBAAOwd,EAAP,KAAYC,EAAZ,KACA,EAAoCzd,oBAAS,GAA7C,mBAAO0d,EAAP,KAAmBC,EAAnB,KAEA,EAAoC3d,mBAAS,CAACwY,OAAO,UAArD,mBAAOoF,EAAP,KAAmBC,EAAnB,KACA,EAAoC7d,mBAAS,CAAC8d,OAAQ,KAAtD,mBAAOC,EAAP,KAAmBC,EAAnB,KAEA,EAAsBhe,qBAAtB,mBAAOxE,EAAP,KAAYyiB,EAAZ,KACA,EAAkCje,oBAAS,GAA3C,mBAAOke,EAAP,KAAkBC,EAAlB,KACA,EAA0Bne,oBAAS,GAAnC,mBAAOgI,EAAP,KAAcoW,EAAd,KAEAvZ,qBAAU,WACR,GAAIuF,EAAIK,QAAS,CACf,IAAM4T,EAAOjU,EAAIK,QACbiT,GACEW,EAAKC,kBACPD,EAAKC,oBACID,EAAKE,wBACdF,EAAKE,0BACIF,EAAKG,qBACdH,EAAKG,sBAEPC,MAGAT,EAAc,CAACF,OAAQ,KACnB/Y,SAAS2Z,eACX3Z,SAAS2Z,iBAAiB/iB,OAAM,eACvBoJ,SAAS4Z,qBAClB5Z,SAAS4Z,uBACA5Z,SAAS6Z,oBAClB7Z,SAAS6Z,sBACA7Z,SAAS8Z,kBAClB9Z,SAAS8Z,uBAId,CAACnB,IAEJ7Y,qBAAU,WACJwY,GACFyB,GAAY,KACb,CAACzB,IAEJxY,qBAAU,WACR,GAAKmT,IAAkBA,EAAeoF,SAAtC,CAKAgB,GAAS,GAET,IAAI7D,EAAKvC,EAAevG,cFxGrB,SAAyB8I,GAC5B,IAEME,EAFIF,EACAvd,QAAQ,SAAS,KAAKA,QAAQ,eAAe,IAClCsH,MAAM,KAErBpF,EAAKub,EAASA,EAAStd,OAAO,GACpC,GAAGuV,MAAMxT,GACL,OAAOqb,EACX,IAAMH,EAAOK,EAASA,EAAStd,OAAO,GAChCkd,EAAOI,EAASA,EAAStd,OAAO,GAGtC,OAFesd,EAAStc,MAAM,EAAEsc,EAAStd,OAAO,GAAGmS,KAAK,KAExC,SAAW8K,EAAO,IAAMC,EAAO,IAAMnb,EAAK,QE4FlB6f,CAAgB/G,EAAevG,eAAiByI,GAAY,OAAQlC,EAAeI,UAAW,QAElIJ,EAAegH,YACjBzE,EAAKD,GAAoBC,EAAIvC,EAAegH,UAAWhH,EAAe1K,WAEtE2Q,EAAO1D,GACT+C,GAAQ,QAZNa,GAAa,KAad,CAACnG,IAEJ,IAAM8G,EAAc,SAACtD,GACnBwC,EAAc,CAACF,OAAQ,KACvBD,EAAc,CACZrF,OAAQgD,EAAO,OAAS,WAItBiD,EAAmB,WACvBT,EAAc,CAACF,OAAQ,KACvBmB,aAAaviB,IACboiB,GAAY,GACZpiB,GAAUoI,YAAW,WACnBga,GAAY,GACZd,EAAc,CAACF,OAAQ,WACvB,MAIF,OACE,eAACd,GAAD,CAAW5S,IAAKA,EAChB8U,cAAe,kBAAMvB,GAAeD,IACpCyB,aAAc,kBAAKL,GAAY,IAC/BM,aAAgB,kBAAKN,GAAY,IACjCO,YAAa,kBAAM3B,GAAce,KACjCxa,MAAO8Z,EALP,UAME,cAAC,KAAD,CACC/Z,UAAU,eACV4H,MAAM,OACNvH,OAAO,OACPib,QAASjC,EACT5D,OAAQA,EAAO,IACfje,IAAKA,EACLgiB,IAAKA,EACL+B,UAAU,EACVC,WAAY,SAAC1c,GACZsb,GAAS,IAEVqB,OAAQ,WACPrB,GAAS,IAEVsB,QAAS,SAAC1X,EAAOnL,GAChBuhB,GAAS,GACTD,GAAa,IAEdwB,YAAa,WACZvB,GAAS,GACTD,GAAa,IAEdyB,SAAU,WACTzB,GAAa,GACbC,GAAS,OAGK,IAAdF,GAAuB,cAAChB,GAAD,UACrB,cAACZ,GAAD,CAASC,MAAO,uBAAhB,SACI,gCACE,wBACA,wBACA,gCAIC,IAAVvU,EAAkB,cAACkV,GAAD,UACjB,uBAAOjZ,MAAO,CAACsY,MAAM,SAArB,qDAGF,qCACA,cAACsD,GAAD,CAAYpI,aAAciG,GAAoC,UAAtBE,EAAWpF,OAAoBd,OAAQM,EAAepW,MAAO+V,MAAOK,EAAe8H,KAAMlI,UAAWI,EAAe1K,WAC3J,eAAC2P,GAAD,CAAkB8C,IAAI,MAAM9b,MAAO2Z,EAAnC,UACC,cAAC,GAAD,CAAQ1E,QAASmE,EAAMvX,QAAS,kBAAMwX,GAASD,IAAOlE,OAAQ,cAAeC,QAAS,eAAgBC,OAAQ,OAAQC,QAAS,UAC9H,cAAC,GAAD,CAAcJ,QAAkB,IAATO,EAAY3T,QAAS,kBAAMyX,EAAU,IAAI7D,cAAe,SAAC5P,GAAD,OAAOyT,EAAUzT,EAAEU,OAAOpL,QAAQqa,OAAQA,IACzH,cAAC,GAAD,CAAWP,QAASsE,EAAK1X,QAAS,kBAAM2X,GAAQD,MAChD,cAAC,GAAD,CAAQtE,QAASwE,EAAY5X,QAAS,kBAAM6X,GAAeD,IAAavE,OAAQ,gBAAiBC,QAAS,kBAAmBC,OAAQ,aAAcC,QAAS,8BC5KhK0G,GAAS/c,KAAOG,IAAV,sKAsBG6c,GAXI,SAAC,GAAiB,IAAhB/U,EAAe,EAAfA,UAEXgV,EAAc,CAACxU,gBAAiBR,EAAY,UAAY,UAE9D,OACI,qBAAKlH,UAAWkH,EAAY,OAAS,YAArC,SACKA,EAAY,qBAAKjH,MAAO,CAACI,OAAO,UAAWF,IAAI,eAAeC,IAAI,KAAa,cAAC4b,GAAD,CAAQ/b,MAAOic,OCnCrGtJ,GAAaC,EAAQ,IAErBsJ,GAAWld,KAAOG,IAAV,mJAORgd,GAAiBnd,KAAOG,IAAV,mRAYdid,GAAUpd,KAAOG,IAAV,yHAkCEkd,I,+DAAAA,GAzBf,YAAuD,IAAtC1e,EAAqC,EAArCA,MAAMiG,EAA+B,EAA/BA,YAAYmD,EAAmB,EAAnBA,MAAMC,EAAa,EAAbA,KAAKsV,EAAQ,EAARA,MACpClI,EAAYzU,cAAY,SAAAd,GAAK,OAAIA,EAAM4D,OAE7C,OACI,sBAAKzC,MAAO,CAACsY,MAAM,SAAWvY,UAAU,YAAxC,UACI,eAACqc,GAAD,CAASrc,UAAU,MAAnB,UACI,qBAAKA,UAAU,WAAf,SACI,cAAC,GAAD,CAAYkH,UAAWF,GAAS7L,KAAKG,OAAS2L,EAAO9L,KAAKG,UAE9D,sBAAK0E,UAAU,WAAf,UACC4S,GAAW,IAAIzX,KAAK6L,GAAQqN,GAD7B,MAC4CzB,GAAW,IAAIzX,KAAK8L,GAAOoN,MAEvE,qBAAKrU,UAAU,WAAf,SACI,cAACmc,GAAD,UAAU,4BAAIve,WAGrB2e,GACD,qBAAKvc,UAAU,WAAf,SACI,cAACoc,GAAD,UAAiBvY,UC9C3B2Y,GAAavd,KAAOG,IAAV,wFAwCDqd,GAlCI,SAAC,GAAkB,IAAjBvI,EAAgB,EAAhBA,IAAKC,EAAW,EAAXA,MAChBhN,EAAQvH,cAAY,SAAAd,GAAK,OAAIA,EAAM4d,WAEzC,EAAoC1gB,mBAAS,IAA7C,mBAAO2gB,EAAP,KAAmBC,EAAnB,KAsBA,OApBA/b,qBAAU,WACN,IAAMgR,EAAMK,GAAUgC,EAAIC,GACtBtC,GAAsB,IAAfA,EAAI1Y,OAEVyjB,EAAc/K,GADf+K,EAAc,MAEpB,CAAC1I,EAAIC,IAGPtT,qBAAU,WACN,IAAMgR,EAAMK,GAAUgC,EAAIC,GACtBtC,GAAsB,IAAfA,EAAI1Y,OAEP0Y,GAAOA,EAAI1Y,OAAS,GAAKwjB,EAAWxjB,OAAO,EAC5C0Y,EAAI,GAAG7K,QAAU2V,EAAW,GAAG3V,OAC9B4V,EAAc/K,GACbA,GAAOA,EAAI1Y,OAAQ,KAAOwjB,GAAkC,IAApBA,EAAWxjB,SACxDyjB,EAAc/K,GALd+K,EAAc,MAOnB,CAACzV,EAAO+M,EAAKC,IAGZ,cAACqI,GAAD,UACKG,EAAWxiB,MAAM,EAAG,GAAGkR,KAAI,SAACwR,EAAI3hB,GAAL,OACxB,cAAC,GAAD,CAA2BqhB,MAAY,IAALrhB,EAAQ8L,MAAO6V,EAAI7V,MAAOC,KAAM4V,EAAI9K,IAAKnU,MAAOif,EAAIjf,MAAOiG,YAAagZ,EAAIhZ,aAAjGqQ,EAAI,IAAMhZ,SCjCjC0X,GAAaC,EAAQ,IAErBiK,GAAgB7d,KAAOG,IAAV,oIAOb2d,GAAc9d,KAAOG,IAAV,+HAMX4T,GAAQ/T,KAAOqU,MAAV,oIAOL0J,GAAW/d,KAAOqU,MAAV,2KAeR2J,GAAWhe,KAAOG,IAAV,2JAoFC8d,GAxEI,SAAC,GAAyC,IAAxCxM,EAAuC,EAAvCA,KAAMyM,EAAiC,EAAjCA,KAAMjJ,EAA2B,EAA3BA,IAAKC,EAAsB,EAAtBA,MAAOjN,EAAe,EAAfA,UACnCmN,EAAYzU,cAAY,SAAAd,GAAK,OAAIA,EAAM4D,OACvCyE,EAAQvH,cAAY,SAAAd,GAAK,OAAIA,EAAM4d,WACzC,EAA4B1gB,oBAAS,GAArC,mBAAOsY,EAAP,KAAeC,EAAf,KACA,EAAgCvY,mBAAS,MAAzC,mBAAOhC,EAAP,KAAiBojB,EAAjB,KAEAvc,qBAAU,WAAM,4CAIZ,4BAAApJ,EAAA,sEACUgZ,GAAgBC,EAAMwD,EAAK,EAAGC,GADxC,QAEUO,EAASzC,GAAgBiC,EAAIC,KAG3BO,IAAsB,IAAXJ,GAAoBA,EAAOtN,QAAU0N,EAAO1N,OAC3DuN,EAAU,eAAIG,IAFdH,GAAU,GAJlB,4CAJY,sBACZ6I,IAAcC,EAAW,OAAO3M,GAAK,IACjCwD,GAFQ,mCAaZS,KACC,IAEL9T,qBAAU,WACNuc,IAAcC,EAAW,OAAO3M,GAAK,MACtC,CAACxJ,IAEJrG,qBAAU,WACN,IAAM6T,EAASzC,GAAgBiC,EAAIC,GAC/BO,GAEIA,IAAsB,IAAXJ,GAAoBA,EAAOtN,QAAU0N,EAAO1N,OAC3DuN,EAAU,eAAIG,IAFdH,GAAU,KAIf,CAACpN,IAWJ,OACI,qCACI,sBAAKnH,UAA4B,qCAAjC,UACI,cAAC8c,GAAD,CAAe9c,UAAU,OAAzB,SACI,gCAAkB,IAAXsU,GAAA,UAAuB1B,GAAW,IAAIzX,KAAKmZ,EAAOtN,OAAQqN,GAA1D,cAA0EzB,GAAW,IAAIzX,KAAKmZ,EAAOvC,KAAMsC,QAEtH,eAAC0I,GAAD,CAAa/c,UAAW,QAAxB,UACI,cAAC,GAAD,UAAO,4BAAImd,MACX,cAACH,GAAD,UAAW1I,EAAO1W,cAM1B,cAACqf,GAAD,CAAUjd,UAAS,2CAAsCkH,EAAY,UAAY,IAAMpF,QAvBvE,SAACP,GACrBA,EAAM+b,kBAEDtjB,EACDqjB,EAAO,OAAO3M,GAAK,GAClB2M,EAAO,OAAO3M,EAAK,CAACxV,GAAIwV,IAAO,GACpC0M,GAAapjB,IAiBT,SACI,mBAAGgG,WAAwB,IAAbhG,EAAqB,cAAgB,kBAEvD,qBAAKgG,UAAU,iBAAf,UACgB,IAAXsU,EACA,cAAC,GAAD,CAA6CtN,MAAOsN,EAAOtN,MAAOC,KAAMqN,EAAOvC,IAAK7K,UAAWA,GAA3EwJ,EAAM,IAAK4D,EAAOtN,OAEvC,cAAC,GAAD,UCrHVjF,I,OAAK9C,KAAO+C,GAAV,+qBAmCFub,GAAgBte,KAAOG,IAAV,yJAUb0d,GAAgB7d,KAAOG,IAAV,iIAMbmU,GAAOtU,KAAOG,IAAV,gcAwBJoe,GAAmBve,KAAOG,IAAV,gFAyCPqe,GApCC,SAAC,GAAwF,IAAtFN,EAAqF,EAArFA,KAAMO,EAA+E,EAA/EA,MAAOxJ,EAAwE,EAAxEA,IAAKC,EAAmE,EAAnEA,MAAOlM,EAA4D,EAA5DA,OAAQ/M,EAAoD,EAApDA,GAAIyiB,EAAgD,EAAhDA,SAAUC,EAAsC,EAAtCA,YAAaC,EAAyB,EAAzBA,mBAa3E,OAVAhd,qBAAU,WACH8c,GACC7c,YAAW,WACPC,SAAS4B,eAAe,gBAAkB5B,SAAS4B,eAAe,cAAc3C,WAAa,mCAC9F,OAET,IAKE,cAAC,GAAD,CAAIqB,UAAW,EAAGS,QAAU6b,OAAyBG,EAAdF,EAAyB3d,MAAO4d,EAAoB3iB,GAAIyiB,EAAW,aAAe,GAAI3d,UAAW2d,EAAW,qDAAuD,qCAA1M,SACI,cAACH,GAAD,CAAkBxd,UAAU,YAAYC,MAAO,CAACA,MAd1C,IAcN,SACI,sBAAKD,UAAU,MAAf,UACI,cAACud,GAAD,CAAevd,UAAU,mBAAzB,SACI,cAAC,GAAD,UACI,+BAAOiI,QAGf,qBAAKjI,UAAU,4BAAf,SACI,cAAC,GAAD,CAAMC,MAAO,CAAC8d,gBAAgB,OAAD,OAAQL,EAAR,UAKjC,cAAC,GAAD,CAAYP,KAAMA,EAAMjJ,IAAKA,EAAKC,MAAOA,EAAOzD,KAAMxV,EAAIgM,UAAWyW,YCjH5EK,GAAoB,SAACC,GAC9B,MAAM,CACFpjB,KAAM,cACNoI,QAASgb,I,kBCOXC,GAAejf,KAAOkf,GAAV,2TAgGZC,GAAW,WACf,OAAO,IAAIC,gBAAgBxe,cAAcU,SAG5B+d,GAvFE,SAAC,GAAgB,IAAfC,EAAc,EAAdA,SACTvK,EAAiBpU,cAAY,SAAAd,GAAK,OAAIA,EAAMmV,aAG5CuK,EADQJ,KACW7mB,IAAI,UAE7B,EAAkCyE,oBAAS,GAA3C,mBAAOoJ,EAAP,KAAkBC,EAAlB,KACA,EAAgDrJ,mBAASuiB,GAAzD,mBAAOE,EAAP,KAAyBC,EAAzB,KAGMlc,EAAWC,eACX7I,EAAUgH,cACV1I,EAAW2H,cACX8e,EAAU/Y,mBAGhB/E,qBAAU,WACLmT,GACDlT,YAAW,kBAAI8d,MAAe,OAE/B,CAAC5K,IAEJnT,qBAAU,WACR6d,EAAoBH,GACpBzd,YAAW,kBAAI8d,MAAe,OAC7B,CAACL,IAGJ1d,qBAAU,WACR,IAAMge,EAAWL,EAAaD,EAAS7iB,QAAO,SAAAV,GAAC,OAAGA,EAAEuL,KAAKgE,cAAcxR,SAASylB,EAAWjU,kBAAkBgU,EAC1GM,EAAS1lB,OAAO,GACjBulB,EAAoBG,GACpB/d,YAAW,kBAAM8d,MAAgB,MAC1BJ,EACPnZ,EAAa,GACVzL,EAAQwH,KAAK,qBACjB,CAACod,IAEJ,IAAMI,EAAe,WAChB7d,SAAS4B,eAAe,cACzB5B,SAAS4B,eAAe,cAAc1B,QAChCF,SAASC,cAAc,aAC7BD,SAASC,cAAc,YAAYC,SAkBvC,OACE,qCACE,cAACid,GAAD,CAAc7c,SAAU,EAAxB,SACI,cAAC,KAAD,CACEhB,OAAQye,6BAAkB,QAAQC,8BAAmB,GACrDC,UAAWP,EAAiBtlB,OAC5B8lB,SAAUF,8BAAmB,GAC7B9e,MAAO,CAACif,UAAU,OAAQC,UAAW,qBACrCC,gBAAgB,EAChBhZ,IAAKuY,EANP,SAjBI,SAAC,GAAD,IAAGlM,EAAH,EAAGA,MAAOxS,EAAV,EAAUA,MAAV,OACR,cAAC,GAAD,CACQkd,KAAMsB,EAAiBhM,GAAOlM,KAC9B4N,MAASsK,EAAiBhM,GAAOlD,MACjC2E,IAAKuK,EAAiBhM,GAAOhB,eAC7BvW,GAAIujB,EAAiBhM,GAAO2B,UAAWsJ,MAAOe,EAAiBhM,GAAOmC,YACtE3M,OAAQwW,EAAiBhM,GAAO4M,IAChCzB,YAAa,WACTpb,EAASwb,GAAkBS,EAAiBhM,MAEhDoL,mBAAoB5d,EACpB0d,SAAU3J,GAAkBA,EAAeI,YAAcqK,EAAiBhM,GAAO2B,WAV3EqK,EAAiBhM,GAAO2B,gBA2BrChP,GAAa,cAAC,GAAD,CAAOxH,MAAK,gCAA2B4gB,EAA3B,KAA0C3a,YAAa,2BAA4BC,KAAM,gBAAkBC,QAAS,WAC5IsB,EAAa,GACbuZ,IACAhlB,EAAQZ,QAAQd,EAAS2G,SAASyB,MAAM,KAAK,WCpG1Cgf,GAAc,SAACf,GACxB,MAAM,CACF1jB,KAAM,eACNoI,QAASsb,ICHJgB,GAAe,SAAC/P,GACzB,MAAM,CACF3U,KAAM,YACNoI,QAASuM,I,SCiBXgQ,GAAOvgB,KAAOG,IAAV,mKASJqgB,GAAexgB,KAAOygB,GAAV,6FA4EHC,GArEE,WACb,MAA4C3jB,qBAA5C,mBAAO4jB,EAAP,KAAuBC,EAAvB,KAEM7L,EAAiBpU,cAAY,SAAAd,GAAK,OAAIA,EAAMmV,aAC5CsK,EAAW3e,cAAY,SAAAd,GAAK,OAAIA,EAAMyf,YACtC/b,EAAWC,eACX7I,EAAUgH,cAERkf,EAAa/f,cAAb+f,SACR,EAAkC9jB,oBAAS,GAA3C,mBAAOoJ,EAAP,KAAkBC,EAAlB,KAoCA,OAlCAxE,qBAAU,YACG,uCAAG,4BAAApJ,EAAA,yDACRooB,EAAoBnR,MAAMoR,SAA0BhC,IAAbgC,GAA2BlmB,EAAQ1B,SAAS2G,SAAS9F,SAAS,QAAW,CAAC2C,OAAO,cAAgBqkB,cAAe,QAAU,SAElJjC,GAAZgC,GAAqC,GAAZA,EAHpB,iCAIYvR,GAAa,OAAOuR,GAJhC,OAKJE,GADIA,EAJA,SAKS,GACC,QAAXF,IACCE,EAAMA,EAAItkB,QAAO,SAAAV,GAAC,OAAGqiB,EAAW,OAAOriB,EAAEoZ,WAAU,OACvD5R,EAAS8c,GAAYU,IACH,IAAfA,EAAI7mB,QACHkM,EAAa,GAVb,4BAWC4a,uBAAY,QAXb,kCAYE9R,GAAU,QAAQ3R,MAAK,SAAA0jB,GACrBA,GAAoB,IAAbA,EAAI/mB,QAIf+mB,EAAIzkB,QAAQ,CAAC0kB,cAAgB,iBAAkB1R,YAAY,QAC3D2R,oBAASF,EAAI,GAAGzR,aAChBjM,EAAS+c,GAAaW,IACtBtmB,EAAQZ,QAAQ,kBAAkBknB,EAAI,GAAGzR,YAAY,MANjD7U,EAAQZ,QAAQ,QAdpB,gCAsBFY,EAAQZ,QAAQ,mBAtBd,4CAAH,qDAwBTqnB,KACF,CAAC7d,EAASsd,IAEZjf,qBAAU,WACHjH,EAAQ1B,UACP2nB,EAAoBnR,MAAMoR,SAA0BhC,IAAbgC,GAA2BlmB,EAAQ1B,SAAS2G,SAAS9F,SAAS,QAAW,CAAC2C,OAAO,cAAgBqkB,cAAe,QAAU,MACtK,CAACnmB,EAAQ1B,SAAS2G,SAAUihB,IAI3B,gCACA,cAACN,GAAD,CAAMvf,MAAO2f,EAAb,SACI,sBAAK5f,UAAU,MAAf,UACI,sBAAKA,UAAU,QAAQC,MAAO,CAAC6C,YAAY,OAAQqc,UAAY,sBAA/D,UACI,cAACM,GAAD,UAAezL,EAAiBA,EAAezN,KAAO,wBACrD,cAAC,GAAD,IACD,cAAC,GAAD,CAAY2N,IAAKF,EAAiBA,EAAevC,eAAiB,KAAM0C,MAAOH,EAAiBA,EAAezE,MAAQ,OAE3H,qBAAKvP,UAAU,QAAQC,MAAO,CAAC6C,YAAY,GAA3C,SACI,cAAC,GAAD,CAAUyb,SAAUA,WAI/BnZ,GAAa,cAAC,GAAD,CAAOxH,MAAK,wCAA2CkG,KAAM,eAAiBC,QAAS,WACrG8b,EAAkB,IAChBxa,EAAa,GACbzL,EAAQZ,QAAQ,0BCzFpB+L,I,OAAQ9F,KAAOoD,MAAV,4KA2GIie,GAnGA,WACX,MAA2BtkB,oBAAS,GAApC,mBAAO2K,EAAP,KAAcC,EAAd,KACA,EAAsC5K,mBAAS,IAA/C,mBAAOukB,EAAP,KAAoBC,EAApB,KAEM5mB,EAAUgH,cAChB,EAAkCb,cAA1BD,EAAR,EAAQA,YAAaggB,EAArB,EAAqBA,SAEfW,EAAa7gB,cAAY,SAAAd,GAAK,OAAIA,EAAM4hB,cAC9C,EAA4B1kB,mBAASykB,GAArC,mBAAOjR,EAAP,KAAemR,EAAf,KAOA9f,qBAAU,WACN+F,EAAU8H,MAAMoR,MAClB,CAACA,IAOHjf,qBAAU,WACN2f,IACAG,EAAUnR,KACZ,CAACiR,IAEH,IAAMG,EAAc,SAACC,GACjBja,GAAU,IACD,IAANia,GAA2B,SAAhB/gB,EACVgB,YAAW,kBAAIlH,EAAQZ,QAAR,WAAoB8G,EAApB,QAAqC,MAEpD6gB,EAAUnR,EAAOqR,GAAIpS,aACrB3N,YAAW,kBAAIlH,EAAQZ,QAAR,WAAoB8G,EAApB,qBAA4C0P,EAAOqR,GAAIpS,YAAvD,QAAwE,OAU/F,OALA5N,qBAAU,WACF2O,GAA0B,IAAhBA,EAAOrW,QACjBS,EAAQZ,QAAQ,OACrB,IAGC,mCACA,qBAAKgH,UAAS,gDAA2C2G,EAAS,UAAY,IAA9E,SACC,qBAAK3G,UAAS,8CAAyC2G,EAAS,UAAY,IAA5E,SACC,sBAAK3G,UAAS,gDAA2C2G,EAAS,UAAY,IAA9E,UACU,sBAAK3G,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,cAAE,GAAF,CAAQA,UAAY,eAChBnF,KAAO,OACPwL,YAAc,EACdC,YAAc,qBACdtD,SAAY,SAAC8C,GAAD,OArCnBgb,EAqCsChb,EAAEU,OAAOpL,MApChEolB,EAAeM,QACfH,EAAUG,EAAOL,EAAW/kB,QAAO,SAAAV,GAAC,OAAGA,EAAEmlB,cAAc5V,cAAcxR,SAAS+nB,EAAKvW,kBAAkBkW,GAFrF,IAACK,GAsCO1lB,MAASmlB,MAGjB,qBAAKvgB,UAAU,WAAf,SACI,wBAAQA,UAAU,kEAAkE8B,QAnD3F,WACb8E,GAAU,GACV9F,YAAW,kBAAKlH,EAAQyJ,WAAS,MAiDb,SAAuG,mBAAGrD,UAAU,wBAKrI,qBAAIA,UAAU,oCAAd,UAC0B,SAAhBF,GACG,6BACI,wBAAQuB,UAAa,EACjB0f,KAAO,IACP7lB,GAAI,IACJ8E,UAAY,sCACZ8B,QAAS,kBAAK8e,GAAa,IAJ/B,kBADK,QAWZpR,GAAUzD,MAAMuE,QAAQd,IAAaA,EAAOnE,KAAI,SAACwV,EAAG3lB,GAAJ,OAC7C,6BACI,wBAAQmG,UAAa,EACjB0f,KAAO,IACP7lB,GAAI2lB,EAAGpS,cAAcuS,sBAAa,aAAe,GACjDhhB,UAAY,sCACZ8B,QAAS,kBAAK8e,EAAY1lB,IAJ9B,SAMS2lB,EAAGV,iBAPP,KAAKU,EAAGpS,6BC5FnCjO,I,OAAYvB,KAAOG,IAAV,qJAWTqB,GAAMxB,KAAO4F,KAAV,0GAQHE,GAAQ9F,KAAOoD,MAAV,wOASL4e,GAAchiB,KAAOiD,OAAV,0VAiBX1C,GAAeP,KAAOiD,OAAV,sTA+EZkc,GAAW,WACb,OAAO,IAAIC,gBAAgBxe,cAAcU,SAG9B2gB,GAnEA,WACX,IAAMC,EAAQ/C,KACRxkB,EAAUgH,cAEhB,EAAsC5E,mBAASmlB,EAAM5pB,IAAI,WAAa,IAAtE,mBAAOgpB,EAAP,KAAoBC,EAApB,KACA,EAA4CxkB,qBAA5C,mBAAOolB,EAAP,KAAuBC,EAAvB,KAEA,EAAkCthB,cAA1BD,EAAR,EAAQA,YAAaggB,EAArB,EAAqBA,SAErBjf,qBAAU,WACNC,YAAW,kBAAKugB,EAAkB,iBAAe,KAClD,IAEH,IAmBMC,EAAQ,WACVD,IACAvgB,YAAW,WACPlH,EAAQZ,QAAQ8mB,EAAQ,WAAOhgB,EAAP,qBAA+BggB,GAA/B,WAAgDhgB,EAAhD,QAC1B,MAGN,OACI,mCACI,cAAC,GAAD,CAAWE,UAAWohB,EAAtB,SACI,eAAC,GAAD,CAAKlb,SA7BI,SAACqb,GAClBA,EAAIxb,iBACJyb,MAAM,mBAAD,OAAoBjB,KA2BjB,UACI,cAACU,GAAD,CAAapmB,KAAK,SAASmF,UAAU,MAAM8B,QAASwf,EAApD,SACI,mBAAGthB,UAAU,kBAEjB,cAAE,GAAF,CAAQA,UAAY,eACpBnF,KAAO,OACPwL,YAAc,EACdC,YAAc,mBACdtD,SAAY,SAAC8C,GAAD,OAAO0a,EAAe1a,EAAEU,OAAOpL,QAC3CA,MAASmlB,IAET,cAAC,GAAD,CAAcnlB,MAAM,IAAIP,KAAK,SAASmF,UAAU,MAAM8B,QAjCxD,SAACgE,GACXA,EAAEC,iBACEwa,GAIJc,IACAvgB,YAAW,WACPlH,EAAQZ,QAAQ8mB,EAAQ,WAAOhgB,EAAP,qBAA+BggB,EAA/B,oBAAmDS,GAAnD,WAAuEzgB,EAAvE,oBAA8FygB,MACxH,MANEe,KA8BQ,SACI,mBAAGthB,UAAU,2BCpH/ByhB,GAAQxiB,KAAO+C,GAAV,2RAkBL0f,GAAc,CAChBC,WAAY,SACZC,WAAY,MACZhf,QAAS,mBACTuc,UAAW,SACX0C,aAAc,WACdna,gBAAiB,UACjBoa,SAAU,SACVC,cAAe,aAiBnB,I,wHC4BIC,G,mJCrCAC,G,GFSEC,GAAsB,SAAC1qB,EAAK8C,GAC1BA,IACAA,EAAO,IAEX,IAAImc,GADJjf,EAAMA,EAAIwB,QAAQ,MAAM,KACLsH,MAAM,KACrB0H,EAAIyO,EAASA,EAAStd,OAAO,GACjC,OAAGuV,MAAM,IAAIvT,KAAK6M,GAAGkH,WACV1X,EAAM,IAAM8C,EAAO,IACxB,UAAUmc,EAAStc,MAAM,GAAG,GAAGmR,KAAK,KAApC,YAA4ChR,EAAOA,EAAK,IAAM,KAIzD6nB,GAxBf,YAAwC,IAA1B5b,EAAyB,EAAzBA,KAAM6b,EAAmB,EAAnBA,WAAY9nB,EAAO,EAAPA,KACtBpC,EAAW2H,cAEjB,OACI,cAAC4hB,GAAD,UACI,cAAC,IAAD,CAAMV,KAAK,IAAIniB,GAAIsjB,GAAoBhqB,EAAS2G,SAASvE,GAAO2F,MAAOmiB,EAAaV,GAAc,GAAlG,SACI,+BAAOnb,S,SGpCjBvH,GAAMC,KAAOG,IAAV,sHAMHijB,GAAWpjB,KAAOkf,GAAV,4QA+BCze,GAfA,SAAC,GAAW,IAAV4R,EAAS,EAATA,IACb,OACI,cAAC,GAAD,UACI,eAAC+Q,GAAD,WACI,cAAC,GAAD,CAAK9b,KAAM,QAAS6b,WAAkB,IAAN9Q,IAChC,cAAC,GAAD,CAAK/K,KAAM,WAAY6b,WAAkB,IAAN9Q,EAAShX,KAAMgoB,0BAAennB,KAAKG,MAAS,SAC/E,cAAC,GAAD,CAAKiL,KAAMgc,sBAAWpnB,KAAKG,MAAS,QAAc8mB,WAAkB,IAAN9Q,EAAShX,KAAMgoB,0BAAennB,KAAKG,MAAS,UAC1G,cAAC,GAAD,CAAKiL,KAAMgc,sBAAWpnB,KAAKG,MAAS,QAAc8mB,WAAkB,IAAN9Q,EAAShX,KAAMgoB,0BAAennB,KAAKG,MAAS,UAC1G,cAAC,GAAD,CAAKiL,KAAMgc,sBAAWpnB,KAAKG,MAAS,QAAc8mB,WAAkB,IAAN9Q,EAAShX,KAAMgoB,0BAAennB,KAAKG,MAAS,gB,SCnC7GknB,GAAc,WAAqB,IAApBvf,EAAmB,uDAAT,KAClC,MAAM,CACFpI,KAAM,gBACNoI,QAASA,ICGX2P,GAAaC,EAAQ,IAErBrS,GAAYvB,KAAO+C,GAAV,4/BAmDTygB,GAAWxjB,KAAOG,IAAV,0IASR4T,GAAQ/T,KAAOG,IAAV,6KAWL8T,GAAcjU,KAAOG,IAAV,gMAWXsjB,GAAOzjB,KAAOG,IAAV,+IAQJ0H,GAAc7H,KAAOG,IAAV,8FAQXujB,GAAW1jB,KAAOG,IAAV,qKAMRwjB,GAAW,CACbrK,MAAO,OACP7Q,gBAAiB,WAkENmb,GA/DG,SAAC,GAAyE,IAAxE7b,EAAuE,EAAvEA,MAAOC,EAAgE,EAAhEA,KAAMrJ,EAA0D,EAA1DA,MAAOiG,EAAmD,EAAnDA,YAAaif,EAAsC,EAAtCA,QAASpS,EAA6B,EAA7BA,KAAMqS,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,QACpExgB,EAAWC,eAEX0E,EAAQvH,cAAY,SAAAd,GAAK,OAAIA,EAAM4d,WACnCrI,EAAYzU,cAAY,SAAAd,GAAK,OAAIA,EAAM4D,OAc9C,EAAwC1G,oBAAoB,IAAX+mB,GAAmB9b,EAAOE,GAASH,GAASG,IAAUA,EAAMH,IAAQC,EAAKD,GAAQ,KAAlI,mBAAOic,EAAP,KAAqBC,EAArB,KACOC,GAAgBlc,EAAKD,GAAO,KAAS,GAErCoc,EAAU,CACZC,SAAWF,EAAc,MACzBvb,MAAQub,EAAc,MACtBhf,UAAU,cAAD,QAJW6C,EAAM8b,GAAS,KAAS,GAA5B,EAIP,SAcb,OAVAjiB,qBAAU,YACU,IAAbkiB,IAEE9b,EAAOE,GAASH,GAASG,EAGxB+b,GAAkB/b,EAAMH,IAAQC,EAAKD,GAAQ,KAF5Cic,GACCC,GAAgB,MAEzB,CAAC/b,EAAMH,EAAMC,EAAKgc,EAAcF,IAI/B,cAAC,GAAD,CAAW1hB,SAAU,EAAGiiB,aAAYtc,EAAOuc,YAAWtc,EAAMhH,MAAOmjB,EAASthB,QAAS,kBAAMU,EAASggB,GAChG,CACI5kB,MAAOA,EACPiG,YAAaA,EACbmD,MAAMA,EAAOC,KAAKA,EAClB+b,QAASA,EACTtS,WACA1Q,UAAWijB,EAAe,EAAI,WAAa,WAAY/nB,GAAE,YAAOwV,EAAP,YAAe1J,GAPhF,SAQI,qBAAK/G,MAAOgjB,EAAe,EAAIL,GAAW,GAA1C,SACI,gCACI,eAACH,GAAD,WACI,eAAC,GAAD,WAAQO,EAAU,EAAK,mBAAGhjB,UAAU,wBAA8B,GAAIpC,KACtE,cAAC,GAAD,UAAciG,IACd,eAAC6e,GAAD,WAAO9P,GAAW,IAAIzX,KAAK6L,GAAQqN,GAAnC,MAAkDzB,GAAW,IAAIzX,KAAK8L,GAAOoN,SAEjF,cAAC,GAAD,UACI,cAACsO,GAAD,CAAU1iB,MAAO,CAAC2H,MAAOqb,EAAeA,EAAe,IAAM,kBCxK/ErQ,GAAaC,EAAQ,IAErBrS,GAAYvB,KAAO+C,GAAV,w/BAmDTygB,GAAWxjB,KAAOG,IAAV,0IASR4T,GAAQ/T,KAAOG,IAAV,6KAWL8T,GAAcjU,KAAOG,IAAV,gMAWXsjB,GAAOzjB,KAAOG,IAAV,+IAQJ0H,GAAc7H,KAAOG,IAAV,8FAQXujB,GAAW1jB,KAAOG,IAAV,qKAwCCokB,GAjCO,SAAC,GAAkC,IAAjCxc,EAAgC,EAAhCA,MAAOC,EAAyB,EAAzBA,KAAM6b,EAAmB,EAAnBA,QAASpS,EAAU,EAAVA,KACpC2D,EAAYzU,cAAY,SAAAd,GAAK,OAAIA,EAAM4D,OAKvCygB,GAAgBlc,EAAKD,GAAO,KAAS,GAErCoc,EAAU,CACZC,SAAWF,EAAc,MACzBvb,MAAQub,EAAc,MACtBhf,UAAU,cAAD,QAJW6C,EAAM8b,GAAS,KAAS,GAA5B,EAIP,SAIb,OACI,cAAC,GAAD,CAAWzhB,SAAU,EAAIiiB,aAAYtc,EAAOuc,YAAWtc,EAAMhH,MAAOmjB,EAAUpjB,UAAS,WAAc9E,GAAE,YAAOwV,EAAP,YAAe1J,GAAtH,SACI,8BACI,gCACI,eAAC,GAAD,WACI,cAAC,GAAD,qCACA,cAAC,GAAD,IACA,eAAC,GAAD,WAAO4L,GAAW,IAAIzX,KAAK6L,GAAQqN,GAAnC,MAAkDzB,GAAW,IAAIzX,KAAK8L,GAAOoN,SAEjF,cAAC,GAAD,UACI,cAAC,GAAD,CAAUpU,MAAO,CAAC2H,MAAO,kBClI3CpH,GAAYvB,KAAOkf,GAAV,wgBA0DAsF,GAnCU,SAAC,GAAiE,IAAhEvP,EAA+D,EAA/DA,IAAKC,EAA0D,EAA1DA,MAAOuP,EAAmD,EAAnDA,MAAOC,EAA4C,EAA5CA,UAAUjT,EAAkC,EAAlCA,KAAMY,EAA4B,EAA5BA,IAAKyR,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,QACzE,EAAoChnB,mBAAS,IAA7C,mBAAO2gB,EAAP,KAAmBC,EAAnB,KACMgH,EAAeZ,EAAU,EAAI7nB,KAAKG,MAAmB,IAAV0nB,EAAiB,GAAK,GAAK,GAAM,EAkBlF,OAhBAniB,qBAAU,WAAM,4CACZ,WAAyBmH,GAAzB,eAAAvQ,EAAA,yDACSyc,EADT,iEAGUzD,GAAgBC,EAAMwD,EAAKlM,EAAE,EAAGmM,GAH1C,OAKUO,EAAS5D,GAAOoD,EAAKlM,EAAE,EAAGmM,GAE5ByI,EADAlI,EACc,aAAIA,GACD,IARzB,4CADY,uBAAC,SAAD,2BAWZC,CAAUrD,KACX,CAACA,IAKA,cAAC,GAAD,CAAWhQ,UAAWqiB,EAAWvgB,WAAS,EAA1C,SAC2B,IAAtBuZ,EAAWxjB,OACR0qB,GAAiBH,GAAOrY,KAAI,SAACwR,GAAD,OACvB,cAAC,GAAD,CAAwC7V,MAAO6V,EAAI7V,MAAOC,KAAM4V,EAAI9K,IAAK+Q,QAASY,EAAOhT,KAAMA,GAA3EA,EAAK,IAAImM,EAAI7V,UAGtC2V,EAAWtR,KAAI,SAACwR,EAAI3hB,GAAL,OACX,cAAC,GAAD,CAAoC8L,MAAO6V,EAAI7V,MAAOC,KAAM4V,EAAI9K,IAAKnU,MAAOif,EAAIjf,MAAOiG,YAAagZ,EAAIhZ,YAAaif,QAASY,EAAOhT,KAAMA,EAAMqS,SAAUA,EAAUC,QAASY,EAAc,GAAK/G,EAAI7V,OAAS4c,GAAe/G,EAAI7V,OAAS7L,KAAKG,OAA/NoV,EAAK,IAAImM,EAAI7V,aAU3C6c,GAAmB,SAACH,GAEtB,IADA,IAAI3T,EAAW,GACPxU,EAAI,EAAGA,EAAI,GAAIA,GAAG,EACtBwU,EAAS3O,KAAK,CAAC4F,MAAO0c,EAAS,KAAFnoB,EAAYwW,IAAK2R,EAAa,MAALnoB,EAAE,KAE5D,OAAOwU,GCpELvP,GAAYvB,KAAOG,IAAV,mEAKTqe,GAAUxe,KAAOG,IAAV,ulBA+BP0kB,GAAc7kB,KAAOG,IAAV,8QA2CF2kB,GAzBI,SAAC,GAAgF,IAA/E5G,EAA8E,EAA9EA,KAAKO,EAAyE,EAAzEA,MAAOxJ,EAAkE,EAAlEA,IAAKC,EAA6D,EAA7DA,MAAO7C,EAAsD,EAAtDA,IAAKqS,EAAiD,EAAjDA,UAAW1jB,EAAsC,EAAtCA,MAAO+jB,EAA+B,EAA/BA,WAAYtT,EAAmB,EAAnBA,KAAMsS,EAAa,EAAbA,QAC9EU,EAAQ,IAAIvoB,KAChBuoB,EAAMO,QAAQP,EAAMzU,UAAUqC,GAC9BoS,EAAM5R,SAAS,GACf4R,EAAMQ,WAAW,GACjBR,EAAMS,WAAW,GACjBT,EAAMU,gBAAgB,GACtB,IAAIC,EAAW,IAAIlpB,KAAKuoB,GAGxB,OAFAW,EAASJ,QAAQI,EAASpV,UAAU,GAGhC,eAAC,GAAD,CAAWhP,MAAOA,EAAlB,UACI,cAAC,GAAD,CAASD,UAAU,SAASC,MAAO,CAACqkB,KAAON,EAAW,IAAK,MAA3D,SACI,mCACI,cAACF,GAAD,UACI,qBAAKjP,QAAS,OAAQ1U,IAAKud,EAAOtd,IAAK+c,MAE3C,4BAAIA,SAGZ,cAAC,GAAD,CAAkBjJ,IAAKA,EAAKC,MAAOA,EAAOuP,MAAOA,EAAMxU,UAAWoC,IAAKA,EAAK+S,SAAUA,EAASnV,UAAWyU,UAAWA,EAAWjT,KAAMA,EAAMqS,SAAgB,IAANzR,EAAS0R,QAASA,QC1E9KpQ,GAAaC,EAAQ,IAErBrS,GAAYvB,KAAOG,IAAV,oOAcT6C,GAAShD,KAAOiD,OAAV,yRAgBNqiB,GAAOtlB,KAAOG,IAAV,gIAyBKolB,GAhBU,WACrB,IAAMrd,EAAQvH,cAAY,SAAAd,GAAK,OAAIA,EAAM4d,WACnCrI,EAAYzU,cAAY,SAAAd,GAAK,OAAIA,EAAM4D,OACvCpI,EAAO,IAAIa,KAAKgM,GAChBhO,EAA6B,GAAhBmB,EAAKuc,WAAR,EAA4C,IAAlBvc,EAAKwc,aAE/C,OACI,cAAC,GAAD,UACI,sBAAK7W,MAAO,CAACkE,UAAU,mBAAD,OAAqBhL,EAArB,oBAAtB,UACI,cAAC,GAAD,UAAQ,+BAAOyZ,GAAWtY,EAAM+Z,OAChC,cAACkQ,GAAD,UCnDV/jB,GAAYvB,KAAOG,IAAV,2HAOTqlB,GAAiBxlB,KAAOG,IAAV,ySAedslB,GAAQzlB,KAAOiD,OAAV,wZAkBLyiB,GAAc1lB,KAAOG,IAAV,opBAmFFwlB,GArDE,SAAC,GAAqB,IAApBliB,EAAmB,EAAnBA,IAAImiB,EAAe,EAAfA,UACfC,EAAQ,GACZ,IAAW,IAARpiB,EACC,IAAI,IAAInH,EAAI,EAAGA,EAAI,GAAIA,IAAI,CACvB,IAAI2M,EAAG3M,EAAE,EAAE,GAAK,KAAKA,EAAE,GAAKA,EAAE,EAC9BupB,EAAM1jB,KAAK,CAAC0f,KAAK,GAAD,OAAI5Y,EAAJ,OAAW6c,OAAQ,GAAM,GAAGxpB,QAE/C,CAED,IADA,IAAIypB,EAAU,EACNzpB,EAAI,EAAGA,EAAI,GAAIA,IAAI,CACvB,IAAI2M,EAAI3M,EAEJ2M,EADG,IAAJA,EACG,GACGA,EAAE,GAAK,IAAI3M,EAAIA,EACxBupB,EAAM1jB,KAAK,CAAC0f,KAAK,GAAD,OAAI5Y,EAAJ,UAAc6c,OAAQ,GAAM,GAAGC,IAC/CA,IAEJ,IAAI,IAAIzpB,EAAI,EAAGA,EAAI,GAAIA,IAAI,CACvB,IAAI2M,EAAI3M,EAEJ2M,EADG,IAAJA,EACG,GACGA,EAAE,GAAK,IAAI3M,EAAIA,EACxBupB,EAAM1jB,KAAK,CAAC0f,KAAK,GAAD,OAAI5Y,EAAJ,UAAc6c,OAAQ,GAAM,GAAGC,IAC/CA,KAKR,OACI,eAAC,GAAD,WACI,cAACP,GAAD,CAAgBxkB,MAAO,CAACqkB,KAAK,EAAGW,YAAa,WAAYnjB,QAAS,kBAAM+iB,GAAW9F,8BAAmB,MAAtG,SACI,qBAAK9e,MAAO,CAACqkB,KAAK,EAAGxhB,YAAY,QAAjC,SACI,cAAC4hB,GAAD,UAAO,mBAAG1kB,UAAU,4BAG5B,cAAC2kB,GAAD,UACI,8BACKG,EAAMzZ,KAAI,SAACrQ,EAAEE,GAAH,OACP,wBAAwB+E,MAAO,CAACkE,UAAU,cAAD,OAAgBnJ,EAAE+pB,OAAlB,SAAzC,SACI,+BAAO/pB,EAAE8lB,QADA,OAAO5lB,UAMhC,cAACupB,GAAD,CAAgBxkB,MAAO,CAACilB,MAAM,GAAKpjB,QAAS,kBAAM+iB,EAAU9F,8BAAmB,MAA/E,SACI,qBAAK9e,MAAO,CAACilB,MAAM,EAAGC,aAAa,QAAnC,SACI,cAACT,GAAD,UAAO,mBAAG1kB,UAAU,iCCnHlCQ,GAAYvB,KAAOG,IAAV,oMAsBAgmB,GATC,SAAC,GAA2B,IAA1B9T,EAAyB,EAAzBA,IAAK5O,EAAoB,EAApBA,IAAKmiB,EAAe,EAAfA,UACxB,OACI,eAAC,GAAD,WACI,cAAC,GAAD,CAAUniB,IAAKA,EAAKmiB,UAAWA,IACxB,IAANvT,GAAY,cAAC,GAAD,QCjBnBiT,GAAOtlB,KAAOG,IAAV,kIAuBKimB,GAfM,WACjB,IAAMle,EAAQvH,cAAY,SAAAd,GAAK,OAAIA,EAAM4d,WACnCpiB,EAAOgrB,mBAAQ,kBAAM,IAAInqB,KAAKgM,KAAO,CAACA,IAE5C,EAA4BnL,mBAA0B,GAAhB1B,EAAKuc,WAAoC,IAAlBvc,EAAKwc,cAAlE,mBAAO3d,EAAP,KAAeosB,EAAf,KAIA,OAHA1kB,qBAAU,WACN0kB,EAA2B,GAAhBjrB,EAAKuc,WAAoC,IAAlBvc,EAAKwc,gBACzC,CAAC3P,EAAM7M,IAEL,8BACI,cAAC,GAAD,CAAM2F,MAAO,CAACqkB,KAAK,QAAD,OAAUnrB,EAAV,uB,oBCfxByZ,GAAaC,EAAQ,IAErBrS,GAAYvB,KAAOG,IAAV,oRAgBTqB,GAAMxB,KAAOG,IAAV,uOAcHoE,GAAOvE,KAAOG,IAAV,6QAcJ4T,GAAQ/T,KAAOG,IAAV,0MAYLomB,GAAUvmB,KAAOG,IAAV,sNAaP8T,GAAcjU,KAAOG,IAAV,6KASX6C,GAAShD,KAAOiD,OAAV,wlBAwGG0B,GA9ED,WACV,IAAMyQ,EAAYzU,cAAY,SAAAd,GAAK,OAAIA,EAAM4D,OACvC+iB,EAAO7lB,cAAY,SAAAd,GAAK,OAAIA,EAAM4mB,YAClCnH,EAAW3e,cAAY,SAAAd,GAAK,OAAIA,EAAMyf,YAC5C,EAAoBviB,mBAASuiB,GAA7B,mBAAOzR,EAAP,KAAW6Y,EAAX,KAEA,EAA0B3pB,mBAAS,CAACkI,QAAQ,IAA5C,mBAAOjE,EAAP,KAAcU,EAAd,KAEAE,qBAAU,WACNiM,GAAOnM,EAAS,CAACuD,QAAQ,MAC3B,CAAC4I,IAEHjM,qBAAU,WACH4kB,GAAQlH,IACPoH,EAAMpH,EAASxjB,MAAK,SAAAC,GAAC,OAAEC,SAASD,EAAEoZ,aAAenZ,SAASwqB,EAAK/U,UAC/DkV,aAAY,kBAAIjlB,EAAS,CAACuD,QAAQ,GAAG,UAE3C,CAACuhB,EAAMlH,IAET,IAAM3kB,EAAUgH,cACV1I,EAAW2H,cAEX2C,EAAWC,eAEjB,OACIgjB,GACI,cAAC,GAAD,CAAWxlB,MAAOA,EAAlB,SACI,cAAC,GAAD,UACI,8BACI,eAAC,GAAD,WACI,gCACI,cAAC,GAAD,UAAQwlB,EAAK7nB,OAAS,KACtB,cAAC4nB,GAAD,UACA,gCAAM5S,GAAW,IAAIzX,KAAKsqB,EAAKze,OAAQqN,GAAvC,MAAsDzB,GAAW,IAAIzX,KAAKsqB,EAAKxe,MAAOoN,WAGzFoR,EAAK5hB,aACL,cAAC,GAAD,UAAc4hB,EAAK5hB,aAAe,KAEnC,sBAAK5D,MAAO,CAACC,QAAQ,QAArB,UACI,cAAC,GAAD,CAAQ4B,QACJ,WACInB,EAAS,CAACuD,QAAQ,IAClBpD,YAAW,WACP0B,EAASggB,MACTqD,KAAaC,YAAeD,KAAaC,WAAW7kB,UACtD,KAERmC,WAAS,EARX,sBASEqiB,EAAKzC,SAAYyC,EAAKxe,KAAO9L,KAAKG,OAASmqB,EAAKze,OAAS7L,KAAKG,QAC3D,cAAC,GAAD,CAAQwG,QACL,WACIU,EAASwb,GACLyH,EAAKxe,KAAO9L,KAAKG,OAASmqB,EAAKze,OAAS7L,KAAKG,MAE7CwR,EAFA,2BAIIA,GAJJ,IAKIkO,UAAW,IAAI7f,KAAKsqB,EAAKze,OACzBsC,SAAUrO,UAAUwqB,EAAKxe,KAAOwe,EAAKze,OAAlB,KACnBpJ,MAAO6nB,EAAK7nB,MACZke,KAAM2J,EAAK5hB,gBAEnBrB,EAASggB,MACT5oB,EAAQwH,KAAKlJ,EAAS2G,SAAS7F,QAAQ,YAAY,MAEzDoK,WAAS,EAhBV,iCZtJ/B5C,GAAYvB,KAAOG,IAAV,+KAYT2mB,GAAoB9mB,KAAOG,IAAV,0cA2BjB4mB,GAAuB/mB,KAAOG,IAAV,0EAKpB6mB,GAAahnB,KAAOxH,EAAV,0PAyKDyuB,GAvJQ,WACnB,IAkBIzkB,EAlBEgd,EAAmB7e,cAAY,SAAAd,GAAK,OAAIA,EAAMyf,YAC9CvK,EAAiBpU,cAAY,SAAAd,GAAK,OAAIA,EAAMmV,aAC5CvR,EAAM9C,cAAY,SAAAd,GAAK,OAAIA,EAAM4D,OAEjC9I,EAAUgH,cAChB,EAAyBb,cAAlB+f,EAAP,EAAOA,SAAUxlB,EAAjB,EAAiBA,KACX6rB,EAAYvgB,iBAAO,MACnB+Y,EAAU/Y,mBAEV0L,EAAMhX,EAAOW,UAAU,IAAIE,KAAKb,GAAQa,KAAKG,OAAvB,MAAuD,IAAI,EAAI,EAOvF0oB,EAAa,EAGjBnjB,qBAAU,WACNmT,GAAmB2K,EAAQlY,QAAQ2f,aAAa3H,EAAiBjjB,WAAU,SAAAR,GAAC,OAAEA,EAAEoZ,YAAcJ,EAAeI,aAAY,UANzF,IAAR9C,GAAc6U,EAAU1f,QAAQ4f,OAA6B,KAAtB,IAAIlrB,MAAO0b,WAAe,GAQzF/V,YAAW,WACP,IAAIwlB,EAAW7kB,GAAiBV,SAASC,cAAc,cAAgBD,SAASC,cAAc,aAC9FslB,GAAaA,EAASrlB,UACxB,IACFslB,OAGJ,IA2FIlmB,EA3FEkmB,EAAa,SAAChlB,GAChB0Z,aAAc+G,IACdA,GAAclhB,YAAW,WAClBqH,KAAKqe,IAAIL,EAAU1f,QAAQggB,WAAWzC,GAAY,MACjDA,EAAamC,EAAU1f,QAAQggB,WAC/B1a,MAAMhN,KAAKgC,SAAS2lB,iBAAiB,YAAY9Z,SAAQ,SAAA5R,GAAC,OAAGA,EAAEiF,MAAMqkB,KAAR,eAAuBN,EAAvB,qBAElE,KAOD2C,EAAQ,WACV7lB,YAAW,kBAAIC,SAAS4B,eAAe,cAAgB5B,SAAS4B,eAAe,cAAc1B,QAAUF,SAASC,cAAc,YAAYC,UAAQ,KAClJrH,EAAQwH,KAAK,kBAAkB0e,EAAS,MAGtC6D,EAAY,SAACpiB,GACf,GAAqB,KAAlBA,EAAMG,SAAoC,IAAlBH,EAAMG,SAMjC,GADAD,EAAgBV,SAASU,cACJ,KAAlBF,EAAMG,SAAkBD,EAAcE,YAErCF,EAAcE,YAAYV,aAEzB,GAAqB,KAAlBM,EAAMG,SAAkBD,EAAcG,gBAE1CH,EAAcG,gBAAgBX,aAC5B,GAAqB,KAAlBM,EAAMG,QACXmkB,KAAae,SAASnlB,GACtBA,EAAcwE,aACZ,GAAqB,KAAlB1E,EAAMG,SAAoC,KAAlBH,EAAMG,QAAgB,CACnD,IAAIsF,EAAQ/L,SAASwG,EAAc2P,QAAQpK,OAGvC6f,EAAOplB,EAAcqlB,cAAcA,cACvCD,EAAyB,KAAlBtlB,EAAMG,QAAiBmlB,EAAKE,mBAAqBF,EAAKjlB,gBAC7D,EAAE,CACE,IAAIilB,EACA,MACJ,GAAGA,GAAQA,EAAK/qB,SAAS3C,OAAS,GAAK0tB,EAAK/qB,SAAS,GAAGA,UAAY+qB,EAAK/qB,SAAS,GAAGA,SAAS3C,OAAS,EACnG,MACC0tB,EAAOA,EAAyB,KAAlBtlB,EAAMG,QAAiBmlB,EAAKE,mBAAqBF,EAAKjlB,sBACtEilB,IAAUA,EAAK/qB,SAAS,GAAGA,UAClC,GAAG+qB,GAAQA,EAAK/qB,SAAS,GAAGA,UAAY+qB,EAAK/qB,SAAS,GAAGA,SAAS3C,OAAS,EAAE,CAEzE,IAUI6tB,EAVUjb,MAAMhN,KAAK8nB,EAAK/qB,SAAS,GAAGA,UAAU1B,MAAK,SAAC3C,EAAE4C,GAOxD,OANiB8N,KAAKqe,IAAIvrB,SAASxD,EAAE2Z,QAAQpK,OAAOA,GACnCmB,KAAKqe,IAAIvrB,SAASZ,EAAE+W,QAAQpK,OAAOA,MAQlC,IAAM6f,EAAK/qB,SAAS,GAAGA,SAAS,GACnDkrB,IACCA,EAAQ/lB,QACRH,YAAW,WACPC,SAAS4B,eAAeqkB,EAAQ9rB,KAAQ6F,SAAS4B,eAAeqkB,EAAQ9rB,IAAI+F,UAC7E,YA7CX0lB,KAyER,OAFAtmB,EAASye,6BAAkB,SAASC,8BAAmB,GAGnD,eAAC,GAAD,WACI,cAAC,GAAD,CAAQzN,IAAKA,IACb,cAAC2U,GAAD,CAAYnkB,QAAS6kB,EAArB,SAA4B,mBAAG3mB,UAAU,0BACzC,cAAC+lB,GAAD,CAAmB9lB,MAAO,CAAC6hB,SAAS,QAAW1b,IAAK+f,EAAWc,SAAUV,EAAzE,SACI,gCACI,cAAC,GAAD,CAASjV,IAAKA,EAAK5O,IAAW,UAANA,EAAemiB,UA1F/B,SAACqC,GACrBf,EAAU1f,QAAQ4f,OAAO,CAAC/B,KAAK6B,EAAU1f,QAAQggB,WAAWS,EAAIC,SAAU,cA0F9D,eAACnB,GAAD,WACI,cAAC,KAAD,CACE3lB,OAAQA,EACR2e,UAAWP,EAAiBtlB,OAC5B8lB,SAAUF,8BAAmB,IAC7B9e,MAAO,CAACmnB,UAAU,SAAUlI,UAAU,OAAQ1K,OAAO,EAAG6S,UAAU,UAClEjhB,IAAOuY,EACPS,gBAAgB,EANlB,SA9BR,SAAC,GAAD,IAAG3M,EAAH,EAAGA,MAAOxS,EAAV,EAAUA,MAAV,OACR,cAAC,GAAD,CAAYqR,IAAKA,EAAK6C,MAAOsK,EAAiBhM,GAAOlD,MAAOmB,KAAM+N,EAAiBhM,GAAO2B,UAAuB+I,KAAMsB,EAAiBhM,GAAOlM,KAAMmX,MAAOe,EAAiBhM,GAAOmC,YAAaV,IAAKuK,EAAiBhM,GAAOhB,eAAgBkS,UAAWA,EAAW1jB,MAAOA,EAAO+jB,WAAYA,EAAYhB,QAASvE,EAAiBhM,GAAO6U,qBAAjO7U,MAuCjF,IAARnB,GAAc,cAAC,GAAD,YAI3B,cAAC,GAAD,QaxNN9Q,GAAYvB,KAAOG,IAAV,gGAMTmoB,GAAkBtoB,KAAOG,IAAV,oJAUfooB,GAAiBvoB,KAAOG,IAAV,4eAyBdqoB,GAAUxoB,KAAOG,IAAV,oRAWPsoB,GAAMzoB,KAAOG,IAAV,8EAMHse,GAAQze,KAAO0oB,IAAV,mFAMLC,GAAO3oB,KAAOqU,MAAV,2LASJuU,GAAa5oB,aAAOK,IAAPL,CAAH,8KAQV6oB,GAAe7oB,aAAOK,IAAPL,CAAH,8KAQZ8oB,GAAU9oB,KAAOG,IAAX,qNAqFG4oB,GA1EU,SAAC,GAAuF,IAAtFzhB,EAAqF,EAArFA,KAAMqO,EAA+E,EAA/EA,YAAaR,EAAkE,EAAlEA,UAAW3F,EAAuD,EAAvDA,YAAawZ,EAA0C,EAA1CA,SAAUhoB,EAAgC,EAAhCA,MAAOrC,EAAyB,EAAzBA,MAAOsM,EAAkB,EAAlBA,aAC1F,EAAwBlO,mBAAS8L,GAAavB,IAA9C,mBAAO4W,EAAP,KAAa+K,EAAb,KACA,EAAgClsB,mBAAS4Y,GAAzC,mBAAOuT,EAAP,KAAiBC,EAAjB,KACA,EAAsCpsB,mBAAS,IAA/C,mBAAOkX,EAAP,KAAoBmV,EAApB,KACA,EAAkCrsB,mBAAS,MAA3C,mBAAOssB,EAAP,KAAkBC,EAAlB,KACA,EAAwCvsB,mBAAS,MAAjD,mBAAOoN,EAAP,KAAqBof,EAArB,KAmBA,OAjBA3nB,qBAAU,WAAM,4CACZ,sBAAApJ,EAAA,uDACKwwB,EAAW9X,GAAciE,EAAU7N,GAAM,EAAM2D,GAAgB8F,GAAWoE,EAAU7N,EAAM2D,IAAe1N,MAAK,SAAAC,GACxGA,GAAUA,EAAO8F,QAChB9F,EAASA,EAAO8F,MACTgE,MAAS2hB,EAAQzrB,EAAO8J,MAC/B9J,EAAO+L,OAAU4f,EAAY3rB,EAAO+L,OACpC/L,EAAOwP,OAAUmc,EAAY3rB,EAAOwP,OACpCxP,EAAOoH,aAAgBwkB,EAAe5rB,EAAOoH,aAC7CpH,EAAO+P,iBAAmB+b,EAAa9rB,EAAO+P,iBAC9C/P,EAAOiP,eAAiBjP,EAAOiP,cAAcvS,OAAS,GAAMqvB,EAAgB/rB,EAAOiP,cAAc,QAT7G,4CADY,uBAAC,WAAD,wBAcZiJ,KACD,CAACP,IAGA,eAAC,GAAD,CAAWpU,UAAU,SAASC,MAAOA,EAArC,UAEKqoB,IAAclf,EACV,cAACoe,GAAD,UACG,8BACKc,GAAc,wBAAQG,YAAY,IAAIpoB,OAAO,OAAOuH,MAAM,OAAOhK,MAAM,aACtEuC,IAAG,oCAA+BmoB,EAA/B,4GAA4IA,EAA5I,uCAMZ,cAACf,GAAD,CAAiBtnB,MAAO,CAACmE,WAAW,QAAD,OAAUgF,EAAV,uCAExC,eAACqe,GAAD,WACI,6BAAI,4BAAI7pB,IAAiBqqB,EAAW,SAAW,cAC/C,eAAC,GAAD,CAAKjoB,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,cAAC,GAAD,CAAOG,IAAKgoB,MAEhB,sBAAKnoB,UAAU,QAAf,UACI,6BAAI,4BAAImd,MACR,cAACyK,GAAD,UAAO1U,IACP,uBACA,sBAAKlT,UAAU,MAAf,WACkB,IAAbioB,GACG,qBAAKjoB,UAAU,WAAf,SACI,eAAC6nB,GAAD,CAAYhtB,KAAK,SAASK,GAAG,QAAQ8E,UAAU,oBAAoBpB,GAAE,0BAAqB6P,EAArB,YAAoC2F,EAApC,UAArE,UACI,mBAAGpU,UAAU,qBADjB,YAMR,qBAAKA,UAAU,WAAf,SACI,eAAC8nB,GAAD,CAAcjtB,KAAK,SAASK,GAAG,QAAQ8E,UAAU,wBAAwBpB,GAAE,WAAMqpB,EAAW,SAAW,QAA5B,qBAAgDxZ,EAAhD,YAA+D2F,EAA/D,UAA3E,UACI,mBAAGpU,UAAU,4BADjB,6BAUpB,cAAC+nB,GAAD,QCxKNW,GAAazpB,KAAOG,IAAV,kRAiBVoB,GAAYvB,KAAOG,IAAV,sWAsBTmE,GAAStE,KAAOG,IAAV,sHAONoE,GAAOvE,KAAOG,IAAV,+KAUJupB,GAAU1pB,KAAOG,IAAV,+HAQPwpB,GAAU3pB,aAAOK,IAAPL,CAAH,wJAUP4pB,GAAO5pB,KAAOxH,EAAV,wJAwGKqxB,GA7FI,SAAC,GAA2F,IAA1FviB,EAAyF,EAAzFA,KAAKqO,EAAoF,EAApFA,YAAaR,EAAuE,EAAvEA,UAAW2U,EAA4D,EAA5DA,WAAYta,EAAgD,EAAhDA,YAAaxO,EAAmC,EAAnCA,MAAOgoB,EAA4B,EAA5BA,SAAU/d,EAAkB,EAAlBA,aAExF,EAAwBlO,mBAAS8L,GAAavB,IAA9C,mBAAO4W,EAAP,KAAa+K,EAAb,KACA,EAAgClsB,mBAAS4Y,GAAzC,mBAAOuT,EAAP,KAAiBC,EAAjB,KACA,EAA4BpsB,oBAAS,GAArC,mBAAOgtB,EAAP,KAAeC,EAAf,KACA,EAAkCjtB,mBAAS,MAA3C,mBAAOssB,EAAP,KAAkBC,EAAlB,KACA,EAAwCvsB,mBAAS,MAAjD,mBAAOoN,EAAP,KAAqBof,EAArB,KACA,EAA4BxsB,oBAAS,GAArC,mBAAOktB,EAAP,KAAeC,EAAf,KA8BA,OA5BAtoB,qBAAU,WAAM,4CACZ,sBAAApJ,EAAA,uDACKwwB,EAAW9X,GAAciE,EAAU7N,GAAM,EAAM2D,GAAgB8F,GAAWoE,EAAU7N,EAAM2D,IAAe1N,MAAK,SAAAC,GAC3G,GAAGA,GAAUA,EAAO8F,QAChB9F,EAASA,EAAO8F,MACTgE,MAAS2hB,EAAQzrB,EAAO8J,MAC/B9J,EAAO+L,OAAU4f,EAAY3rB,EAAO+L,OACpC/L,EAAOwP,OAAUmc,EAAY3rB,EAAOwP,OACpCxP,EAAO+P,iBAAoB+b,EAAa9rB,EAAO+P,iBAC/C/P,EAAOiP,eAAiBjP,EAAOiP,cAAcvS,OAAS,GAAMqvB,EAAgB/rB,EAAOiP,cAAc,IACjGjP,EAAO0M,OAAUggB,EAAU1sB,EAAO0M,OAC/B1M,EAAOsN,QAAO,CAIb,IAHA,IAAM3I,EAAO,CAACgoB,KAAK,GAAGC,MAAM,GAAGC,MAAK,GAC9BC,EAAWphB,KAAKC,MAAM3L,EAAOsN,OAAO,GACpCyf,EAAY/sB,EAAOsN,OAAS,EAAI,EAAI,EAAI,EACtCxO,EAAI,EAAEA,EAAIguB,EAAUhuB,IACxB6F,EAAKgoB,KAAKhoB,KAAK,GACnB,IAAI,IAAI7F,EAAI,EAAGA,EAAI,EAAEiuB,EAAUD,GAA0B,IAAbA,EAAiB,EAAI,GAAIhuB,IACjE6F,EAAKioB,MAAMjoB,KAAK,GACpBA,EAAKkoB,KAAoB,IAAbC,EACZN,EAAU,eAAI7nB,QAnB9B,4CADY,uBAAC,WAAD,wBAyBZuT,KACD,IAGC,eAAC,GAAD,CAAW1U,MAAOA,EAAlB,UACUqoB,EACA,cAAC,GAAD,UACGA,GAAc,wBAAQG,YAAY,IAAIpoB,OAAO,OAAOuH,MAAM,OAAOhK,MAAM,gBACtEuC,IAAG,oCAA+BmoB,EAA/B,4GAA4IA,EAA5I,qCAIJ,cAACI,GAAD,CAAYzoB,MAAOmJ,GAAgB+e,EAAW,CAACpK,gBAAgB,OAAD,OAAS3U,GAAgB+e,EAAzB,MAAwC,CAACjoB,QAAQ,UAGpH,eAAC,GAAD,WACI,eAACyoB,GAAD,CAAS3oB,UAAU,MAAnB,UACI,qBAAKA,UAAU,QAAf,SACI,cAAC4oB,GAAD,CAAS/tB,KAAK,SAAS+D,GAAE,WAAMqpB,EAAW,SAAW,QAA5B,qBAAgDxZ,EAAhD,YAA+D2F,EAA/D,YAA4E6T,EAAW,OAAS,OAAhG,KAAzB,SACI,mBAAGjoB,UAAU,2BAGpBsoB,GACD,qBAAKtoB,UAAU,QAAf,SACI,cAAC6oB,GAAD,CAAM9H,KAAI,0CAAqCuH,GAAa9hB,OAAO,SAAnE,SACI,mBAAGxG,UAAU,wBAIP,IAAbioB,GACA,CAAC,qBAAKjoB,UAAU,QAAf,SACM,cAAC6oB,GAAD,CAAM9H,KAAMgI,EAAYviB,OAAO,SAA/B,SACJ,mBAAGxG,UAAU,wBAIjB,qBAAKA,UAAU,sBAAf,SACI,cAAC4oB,GAAD,CAAS/tB,KAAK,SAAS+D,GAAI,CACvBC,SAAS,IAAD,OAAMopB,EAAW,SAAW,QAA5B,qBAAgDxZ,EAAhD,YAA+D2F,EAA/D,UACR7T,OAAQnJ,OAAOc,SAASqI,QAF5B,SAII,mBAAGP,UAAU,gCAKzB,6BAAKmd,IACJ6L,GACD,sBAAK/oB,MAAO,CAACsY,MAAO,WAApB,UACKyQ,EAAOI,KAAK/d,KAAI,SAACrQ,EAAEO,GAAH,OAAS,mBAAiByE,UAAU,eAAnB,MAAMzE,MACvCytB,EAAOM,MAAS,mBAAGtpB,UAAU,qBAC7BgpB,EAAOK,MAAMhe,KAAI,SAACrQ,EAAEO,GAAH,OAAS,mBAAgByE,UAAU,eAAlB,KAAKzE,SAE3C2tB,GAAU,gCAAQA,WC3KjCnnB,GAAK9C,aAAOK,IAAPL,CAAH,qWAkBFwqB,GAAexqB,KAAOG,IAAV,4YAqBZ4T,GAAQ/T,KAAOqU,MAAV,uIAQLoW,GAAMzqB,KAAOG,IAAV,qRAgBH+d,GAAOle,KAAOG,IAAV,uPAaN1G,GAAU,KAERixB,GAAe,CACjBzpB,QAAS,OACTyhB,WAAY,SACZja,gBAAiB,UACjBC,OAAQ,qBACRiiB,eAAgB,UAsELC,GAnEC,SAAC,GAA+G,IAA9GtjB,EAA6G,EAA7GA,KAAMqO,EAAuG,EAAvGA,YAAakV,EAA0F,EAA1FA,KAAM1V,EAAoF,EAApFA,UAAW3F,EAAyE,EAAzEA,YAAavT,EAA4D,EAA5DA,GAAI+E,EAAwD,EAAxDA,MAAOgoB,EAAiD,EAAjDA,SAAU8B,EAAuC,EAAvCA,oBAAqB7f,EAAkB,EAAlBA,aACzG,EAA6BlO,oBAAU4Y,GAAvC,mBAAOoV,EAAP,KAAeC,EAAf,KACA,EAAoCjuB,qBAApC,mBAAOkuB,EAAP,KAAmBC,EAAnB,KACA,EAA0BnuB,oBAAS,GAAnC,mBAAOouB,EAAP,KAAcC,EAAd,KACA,EAAoCruB,mBAAS,CAACmI,UAAW,aAAzD,mBAAOmmB,EAAP,KAAmBC,EAAnB,KAaMnlB,EAAY,SAACgJ,GACf6M,aAAaviB,KACD,IAAT0V,EACC1V,GAAUoI,YAAW,WACjBupB,GAAS,GACTvpB,YAAW,WACPypB,EAAc,CAACpmB,UAAW,eAC5B,OACJ,MAEFomB,EAAc,CAACpmB,UAAW,aAC1BrD,YAAW,WACPupB,GAAS,KACX,OASV,OALAxpB,qBAAU,WACNspB,EAAc9M,EAAW4K,EAAW,SAAW,QAAQ7T,EAA2B,QAAhB3F,MACnE,CAACwZ,EAAU7T,EAAW3F,IAIrB,eAAC,GAAD,CAAIzO,UAAS,iBAAY8pB,GAAS,OAClCU,UAAStvB,EACT+E,MAAO6pB,EAAI,2BAAO7pB,GApCN,CACZwqB,SAAU,WACVpqB,OAAQ,mBACR6kB,MAAO,qBACPtd,MAAO,OACPlM,OAAQ,kBACRqkB,cAAe,OACfjG,OAAQ,UACR4Q,eAAgB,SA4ByBzqB,EACzCkb,aAAc,kBAAM/V,GAAU,IAAOgW,aAAc,kBAAMhW,GAAU,IACnExG,GAAI,CACAC,SAAS,IAAD,OAAKopB,EAAW,SAAW,QAA3B,qBAA+CxZ,EAA/C,YAA8D2F,EAA9D,UACR7T,OAAQnJ,OAAOc,SAASqI,QAN5B,UASI,cAACkpB,GAAD,CAAcxpB,MAAQ+pB,EAAqDL,GAA3C,CAAC5L,gBAAgB,OAAD,OAASnJ,EAAT,MAAhD,SACMoV,EAGF,cAAC,GAAD,UAAQliB,GAAavB,KAFrB,qBAAKpG,IAAKyU,EAAahN,MAAO,EAAGvH,OAAQ,EAAGqb,QAAS,kBAAIuO,GAAW,IAAO7pB,IAAKmG,OAKlFyjB,GAAY,cAAC,GAAD,UAAOliB,GAAavB,KACjC2jB,GAAcA,EAAWS,IAAM,GAAKT,EAAWS,IAAM,IAClD,cAACjB,GAAD,UACI,qBAAKzpB,MAAO,CAAC2H,MAAMsiB,EAAWS,IAAI,SAGzCP,IAAUN,GAAS,cAAC,GAAD,CAAYvjB,KAAMA,EAAMqO,YAAaA,EAAaR,UAAWA,EAAW2U,WAAY7S,GAAY,QAAS9B,EAAW2V,GAAsBtb,YAAaA,EAAaxO,MAAOqqB,EAAYrC,SAAUA,EAAU/d,aAAcA,QCxJnPnI,GAAK9C,aAAOK,IAAPL,CAAH,uYA6BF2rB,GAAI3rB,KAAO1D,EAAV,iFAcQsvB,GARG,SAAC,GAA6B,IAA5Bpc,EAA2B,EAA3BA,YAAawZ,EAAc,EAAdA,SAC7B,OACI,cAAC,GAAD,CAAIjoB,UAAU,MAAMwqB,UAAQ,IAAI5rB,GAAE,WAAMqpB,EAAW,SAAS,QAA1B,qBAA8CxZ,EAA9C,KAAlC,SACI,cAACmc,GAAD,CAAG5qB,UAAU,4BCpCnB+B,GAAK9C,KAAO+C,GAAV,sLAYF8oB,GAAK7rB,aAAOK,IAAPL,CAAH,4SAoCO8rB,GAhBE,SAAC,GAAkE,IAAjEtc,EAAgE,EAAhEA,YAAalI,EAAmD,EAAnDA,KAAMtG,EAA6C,EAA7CA,MAAOse,EAAsC,EAAtCA,SAAU0J,EAA4B,EAA5BA,SAA4B,EAAlB/d,aAC7D,OACIqU,EAASplB,OAAS,GAClB,eAAC,GAAD,CAAI8G,MAAOA,EAAOD,UAAU,SAA5B,UACI,cAAC8qB,GAAD,CAAIlsB,GAAE,WAAMqpB,EAAW,SAAW,QAA5B,qBAAgDxZ,EAAhD,KAAN,SAAuElI,IACvE,sBAAKvG,UAAU,MAAMC,MAAO,CAAConB,UAAU,SAAvC,UACK9I,EAASpkB,MAAM,EARhB,GAQ4BkR,KAAI,SAACrQ,EAAEE,GAAH,OAC3B,cAAC,GAAD,CAASA,GAAIA,EAA8CqL,KAAMvL,EAAEuL,KAAMqO,YAAa5Z,EAAE4Z,aAAe5Z,EAAEiR,MAAOmI,UAAWpZ,EAAEoZ,WAAapZ,EAAEoV,UAAW2Y,WAAY/tB,EAAEyS,cAAegB,YAAaA,EAAasb,oBAAqB/uB,EAAE+uB,oBAAqBD,KAAM5uB,EAAG,IATxQ,EASqR+sB,SAAUA,EAAU/d,aAAclP,EAAEsP,MAA9R,OAAQtP,EAAEoZ,WAAapZ,EAAEoV,eAEnDmO,EAASplB,OAXV,GAW+B,cAAC,GAAD,CAAWsV,YAAaA,EAAawZ,SAAUA,WC5CxFznB,GAAYvB,KAAOG,IAAV,8cAgCT6I,GAAShJ,KAAOG,IAAV,kDAINse,GAAQze,KAAO0oB,IAAV,0EAKLqD,GAAa/rB,KAAOG,IAAV,8NAYV6rB,GAAiBhsB,KAAOG,IAAV,2VAuBdsqB,GAAMzqB,KAAOG,IAAV,+OAcH8rB,GAAejsB,KAAOxH,EAAV,6KAiDH0zB,GAtCC,SAAC,GAA4F,IAA3Fpe,EAA0F,EAA1FA,QAASvE,EAAiF,EAAjFA,MAAOc,EAA0E,EAA1EA,SAAU1L,EAAgE,EAAhEA,MAAOiG,EAAyD,EAAzDA,YAAa8Z,EAA4C,EAA5CA,SAAUyN,EAAkC,EAAlCA,YAAaC,EAAqB,EAArBA,WAAY7zB,EAAS,EAATA,IAC/F,OACI,eAAC,GAAD,CAAWwI,UAAU,MAAMC,MAAO0d,EAAW,CAACjW,gBAAiB,QAAU,GAAI5F,QAAS,kBAAIspB,EAAYre,IAAtG,UACI,qBAAK/M,UAAU,0BAAf,SACI,cAAC,GAAD,UAAS+M,MAEb,sBAAK/M,UAAU,yBAAf,UACI,cAACgrB,GAAD,CAAYhrB,UAAU,UAAtB,SAAgC,mBAAGA,UAAU,iBAC5C2d,GAAY0N,EAAa,GAAKA,EAAa,IAC5C,cAAC,GAAD,UACI,qBAAKprB,MAAO,CAAC2H,MAAOyjB,EAAW,SAGnC,cAAC,GAAD,CAAOlrB,IAAKqI,OAGhB,eAACyiB,GAAD,CAAgBjrB,UAAU,0BAA1B,UACI,6BACKpC,IAEJiG,GACD,gCACKA,OAIT,qBAAK7D,UAAU,0BAAf,SACK+H,GAAauB,KAElB,qBAAKtJ,UAAU,yBAAf,SACI,cAACkrB,GAAD,CAAcnK,KAAMvpB,EAAKgP,OAAO,SAAhC,SACI,mBAAGxG,UAAU,4BAS3B+H,GAAe,SAAAC,GACjB,IAAIA,EACA,MAAO,GACXA,EAAI/M,SAAS+M,GACb,IAAME,EAAIC,KAAKC,MAAMJ,EAAI,MACnBK,EAAIF,KAAKC,MAAOJ,EAAI,KAAQ,IAC5BM,EAAIH,KAAKC,MAAOJ,EAAI,KAAQ,IAElC,OAAIE,EACI,GAAN,OAAUA,EAAV,YAAeG,EAAE,GAAK,IAAIA,EAAIA,EAA9B,YAAmCC,EAAE,GAAK,IAAIA,EAAIA,GAG9C,GAAN,OAAUD,EAAV,YAAeC,EAAE,GAAK,IAAIA,EAAIA,ICnJ5BgjB,GAASrsB,KAAOssB,OAAV,odA2BN/qB,GAAYvB,KAAOG,IAAV,mDAsGAosB,GAjGC,SAAC,GAAyB,IAAxBC,EAAuB,EAAvBA,WAAYxf,EAAW,EAAXA,MAC1B,EAA6BjQ,mBAAS,IAAtC,mBAAO8P,EAAP,KAAe4f,EAAf,KACA,EAAoC1vB,mBAAS,IAA7C,mBAAOkuB,EAAP,KAAmBC,EAAnB,KACA,EAA4CnuB,qBAA5C,mBAAO2vB,EAAP,KAAuBC,EAAvB,KAEOxX,EAAarU,cAAbqU,UAEDxa,EAAUgH,cACV1I,EAAW2H,cACX2C,EAAWC,eAEjB5B,qBAAU,WACN,GAAI4qB,EAAJ,CAEA,IAAMnjB,EAAIsF,OAAOC,KAAK4d,GAAYpgB,KAAI,SAAArQ,GAClC,MAAO,CACHE,GAAID,SAASD,GACbuL,KAAM,UAAYvL,EAClB6Q,SAAU4f,EAAWzwB,GAAGqQ,KAAI,SAAAwgB,GACxB,OAAO,2BACAA,GADP,IAEI/d,YAAa7S,SAAS4wB,EAAE/d,aACxBtW,IAAMq0B,EAAEr0B,KAAOq0B,EAAEpe,eAAiByI,GAAY,SAAU2V,EAAE3wB,GAAI2wB,EAAE9B,qBAChE+B,KAAM5V,GAAY,SAAU2V,EAAE3wB,GAAI2wB,EAAE9B,8BAKpD,GAAGzhB,EAAEnP,OAAS,EAAE,CACZuyB,EAAWpjB,GAEX,IAAIyjB,EAAO1O,EAAW,SAASjJ,GAM/B,IALE2X,IAASA,EAAK,CAAC7wB,GAAIkZ,EAAW1K,OAAQpB,EAAE,GAAGpN,GAAI6R,QAASzE,EAAE,GAAGuD,SAAS,GAAGiC,YAAa9G,MAAM,IAE9F+kB,EAAKriB,OAASzO,SAAS8wB,EAAKriB,QAC5BqiB,EAAKhf,QAAU9R,SAAS8wB,EAAKhf,SAE1Bgf,EAAKpB,IAAI,IAAMoB,EAAKpB,IAAK,EAAE,CAC1BoB,EAAKpB,IAAM,EACX,IAAIjhB,EAASpB,EAAEvN,MAAK,SAAAC,GAAC,OAAEA,EAAEE,KAAO6wB,EAAKriB,UAElCA,EAAOmC,SAASnC,EAAOmC,SAAS1S,OAAO,GAAG2U,YAAcie,EAAKhf,QAC5Dgf,EAAKhf,WAELrD,EAASpB,EAAEvN,MAAK,SAAAC,GAAC,OAAEA,EAAEE,KAAO6wB,EAAKriB,OAAO,OAC3BA,EAAOmC,UAAYnC,EAAOmC,SAAS1S,OAAQ,GACpD4yB,EAAKriB,OAASA,EAAOxO,GACrB6wB,EAAKhf,QAAUrD,EAAOmC,SAAS,GAAGiC,aAChCie,EAAK,CAAC7wB,GAAIkZ,EAAW1K,OAAQpB,EAAE,GAAGpN,GAAI6R,QAASzE,EAAE,GAAGuD,SAAS,GAAGiC,YAAa9G,MAAM,GAIjG4kB,EAAkBG,EAAKriB,QACvBygB,EAAc4B,OAEnB,CAACN,EAAYrX,IAEhB,IAAMgX,EAAc,SAACre,GACjB,IAAMiB,EAAOlC,EAAQ/Q,MAAK,SAAAC,GAAC,OAAEA,EAAEE,KAAOywB,KAAgB9f,SAASR,KAAI,SAAArQ,GAAK,kCAAUA,GAAV,IAAaE,GAAGF,EAAEuH,KAAKrH,QAC/FsH,ECnGE,CACF3H,KAAM,wBACNoI,QDiG6B+K,IAC7BpU,EAAQwH,KAAKlJ,EAAS2G,SAAS7F,QAAQ,OAA1B,sBAAgD2yB,EAAhD,oBAA0E5e,MAG3F,OACI,qCACA,sBAAK/M,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,4CAEJ,qBAAKA,UAAU,QAAf,SACI,cAACsrB,GAAD,CAAQtrB,UAAU,wBAAwBgD,SAAU,SAAA8C,GAAC,OAAG8lB,EAAkB3wB,SAAS6K,EAAEU,OAAOpL,SAASA,MAAOuwB,GAAmB7f,EAAQ,IAAOA,EAAQ,GAAG5Q,GAAzJ,SACK4Q,EAAQT,KAAI,SAAArQ,GAAC,OAAG,yBAAQI,MAAOJ,EAAEE,GAAIyiB,SAAUgO,IAAmB3wB,EAAEE,GAApD,UAA8EF,EAAEuL,KAAhF,KAAwFvL,EAAE6Q,SAAS1S,OAAnG,eAA6D,UAAU6B,EAAEE,cAItG,cAAC,GAAD,UACKgvB,GAAcpe,EAAQ/Q,MAAK,SAAAC,GAAC,OAAGA,EAAEE,KAAOywB,MACrC7f,EAAQ/Q,MAAK,SAAAC,GAAC,OAAGA,EAAEE,KAAOywB,KAAgB9f,SAASR,KAAI,SAAA2B,GAAE,OACrD,cAAC,GAAD,CACAD,QAASC,EAAGc,YACZtF,MAAOwE,EAAGzK,KAAKypB,aAAe/f,EAC9BA,MAAOA,EACP3C,SAAU0D,EAAGzK,KAAK0pB,cAClBruB,MAAOoP,EAAGpP,MACViG,YAAamJ,EAAGhD,SAChB2T,SAAU3Q,EAAGc,cAAcoc,EAAWnd,QACtCse,WAAYre,EAAGc,cAAcoc,EAAWnd,SAAUmd,EAAWS,IAC7DS,YAAaA,EACb5zB,IAAKwV,EAAG8e,MAVO,MAAM9e,EAAGc,sBE5GtCtN,GAAYvB,KAAOG,IAAV,yHASTqB,GAAMxB,KAAOG,IAAV,glBAkBHmE,GAAStE,KAAOG,IAAV,mMAWNspB,GAAazpB,KAAOG,IAAV,4OAYVoE,GAAOvE,KAAOG,IAAV,yKAUJse,GAAQze,KAAO0oB,IAAV,2JASLuE,GAAYjtB,KAAOG,IAAV,uEAKT+sB,GAAiBltB,KAAOG,IAAV,0MASdgtB,GAAYntB,KAAOgW,KAAV,0FAMToX,GAAYptB,KAAOgW,KAAV,wLAQT4S,GAAa5oB,aAAOK,IAAPL,CAAH,8KAQVqtB,GAAiBrtB,KAAOiD,OAAV,8KAQd4lB,GAAe7oB,KAAOxH,EAAV,8KAOZ80B,GAAWttB,KAAO1D,EAAV,sQAsLCixB,GAtKE,SAAC,GAAa,IAAZvsB,EAAW,EAAXA,MACf,EAA0CF,cAAnC+f,EAAP,EAAOA,SAAS1L,EAAhB,EAAgBA,UAAWtU,EAA3B,EAA2BA,YACrBlG,EAAUgH,cAEV6rB,EAAS7sB,cAAY,SAAAd,GAAK,OAAIA,EAAMyf,YAAUxjB,MAAK,SAAAC,GAAC,MAAmB,WAAhB8E,EAA2B7E,SAASD,EAAEoV,aAAenV,SAASmZ,GAAanZ,SAASD,EAAEoZ,aAAenZ,SAASmZ,MAE3K,EAAkDpY,oBAAS,GAA3D,mBAAO0wB,EAAP,KAA0BC,EAA1B,KACA,EAAwB3wB,mBAASywB,GAAW3kB,GAAa2kB,EAAOlmB,OAAhE,mBAAO4W,EAAP,KAAa+K,EAAb,KACA,EAAsClsB,mBAAS,IAA/C,mBAAOkX,EAAP,KAAoBmV,EAApB,KACA,EAAgCrsB,mBAASywB,GAAWA,EAAO7X,aAA3D,mBAAOuT,EAAP,KAAiBC,EAAjB,KACA,EAA4BpsB,oBAAS,GAArC,mBAAOgtB,EAAP,KAAeC,EAAf,KACA,EAAkCjtB,mBAAS,MAA3C,mBAAOssB,EAAP,KAAkBC,EAAlB,KACA,EAAwCvsB,mBAAS,MAAjD,mBAAOoN,EAAP,KAAqBof,EAArB,KACA,EAA4BxsB,mBAAS,IAArC,mBAAOktB,EAAP,KAAeC,EAAf,KACA,EAA0BntB,mBAAS,IAAnC,mBAAO4wB,EAAP,KAAcC,EAAd,KACA,GAAwB7wB,mBAAS,IAAjC,qBAAO8wB,GAAP,MAAaC,GAAb,MACA,GAA8B/wB,mBAAS,IAAvC,qBAAO8P,GAAP,MAAgB4f,GAAhB,MACA,GAAgC1vB,mBAAS,MAAzC,qBAAOhC,GAAP,MAAiBojB,GAAjB,MACA,GAAsBphB,qBAAtB,qBAAOxE,GAAP,MAAYyiB,GAAZ,MAEApZ,qBAAU,WAAM,4CAGZ,sBAAApJ,EAAA,yDACQg1B,EADR,uBAEQ7yB,EAAQZ,QAAR,WAAoB8G,EAApB,MAFR,2BAKqB,WAAhBA,EAA2BqQ,GAAcsc,EAAOrc,UAAWqc,EAAOlmB,MAAM,EAAOkmB,EAAOniB,MAAQ0F,GAAWyc,EAAOrY,UAAUqY,EAAOlmB,KAAMkmB,EAAOniB,OAAO9N,MAAK,SAAAC,GACvJ,GAAGA,GAAUA,EAAO8F,KAAK,CACrB,IAAIA,EAAO9F,EAAO8F,KAWlB,GAVAA,EAAKgE,MAAS2hB,EAAQ3lB,EAAKgE,MAC3BhE,EAAKsB,aAAgBwkB,EAAe9lB,EAAKsB,aACzCtB,EAAKiG,OAAU4f,EAAY7lB,EAAKiG,OAChCjG,EAAK0J,OAAUmc,EAAY7lB,EAAK0J,OAChC1J,EAAKiK,iBAAmB+b,EAAahmB,EAAKiK,iBAC1CjK,EAAKmJ,eAAiBnJ,EAAKmJ,cAAcvS,OAAS,GAAMqvB,EAAgBjmB,EAAKmJ,cAAc,IAC3FnJ,EAAK4G,OAAUggB,EAAU5mB,EAAK4G,OAC9B5G,EAAKuG,QAAW+jB,EAAStqB,EAAKuG,QAC9BvG,EAAKyqB,aAAgBD,GAAQxqB,EAAKyqB,aAE/BzqB,EAAKwH,OAAO,CAIX,IAHA,IAAM3I,EAAO,CAACgoB,KAAK,GAAGC,MAAM,GAAGC,MAAK,GAC9BC,EAAWphB,KAAKC,MAAM7F,EAAKwH,OAAO,GAClCyf,EAAYjnB,EAAKwH,OAAS,EAAI,EAAI,EAAI,EACpCxO,EAAI,EAAEA,EAAIguB,EAAUhuB,IACxB6F,EAAKgoB,KAAKhoB,KAAK,GACnB,IAAI,IAAI7F,EAAI,EAAGA,EAAI,EAAEiuB,EAAUD,GAA0B,IAAbA,EAAiB,EAAI,GAAIhuB,IACjE6F,EAAKioB,MAAMjoB,KAAK,GACpBA,EAAKkoB,KAAoB,IAAbC,EACZN,EAAU,eAAI7nB,IAEF,WAAhBtB,GAA6B4rB,GAAWjvB,EAAOoP,cA7B3D,4CAHY,sBACZuR,KAAcC,EAAWvd,EAAYsU,GAAU,IADnC,mCAoCZO,KACD,IAEH9T,qBAAU,WACF4rB,GAEY,UAAhB3sB,GAA4Bma,GAAO/D,GAAY,QAAQuW,EAAOrY,UAAUqY,EAAO1C,wBACjF,CAAC0C,IAWH,OACI,cAAC,GAAD,CAAWxsB,MAAOA,EAAlB,SACI,eAAC,GAAD,YACM7I,OAAO61B,MAAS,cAACV,GAAD,CAAUvsB,UAAU,sBAAsB8B,QAAS,kBAAKlI,EAAQyJ,YAChFilB,EACA,cAAC,GAAD,UACGA,GAAc,wBAAQG,YAAY,IAAIpoB,OAAO,OAAOuH,MAAM,OAAOhK,MAAM,cACtEuC,IAAG,oCAA+BmoB,EAA/B,4GAA4IA,EAA5I,qCAIJ,cAAC,GAAD,CAAYroB,MAAOmJ,GAAgB+e,EAAW,CAACpK,gBAAgB,OAAD,OAAS3U,GAAgB+e,EAAzB,MAAwC,CAACjoB,QAAQ,UAEpH,cAAC,GAAD,CAAOC,IAAKgoB,IACZ,eAAC,GAAD,WACI,6BAAKhL,IACL,sBAAKnd,UAAU,MAAf,UACI,sBAAKA,UAAU,QAAf,UACI,sBAAKC,MAAO,CAACC,QAAQ,QAArB,UACK8oB,GACD,eAACkD,GAAD,WACKlD,EAAOI,KAAK/d,KAAI,SAACrQ,EAAEO,GAAH,OAAS,mBAAiByE,UAAU,eAAnB,MAAMzE,MACvCytB,EAAOM,MAAS,mBAAGtpB,UAAU,qBAC7BgpB,EAAOK,MAAMhe,KAAI,SAACrQ,EAAEO,GAAH,OAAS,mBAAgByE,UAAU,eAAlB,KAAKzE,SAE5C,gCAAO,4BAAIuxB,UAEf,cAACX,GAAD,CAAgBlsB,MAAOysB,EAAoB,CAAC,qBAAsB,SAAW,GAAI5qB,QAAS,kBAAI6qB,GAAsBD,IAApH,SACKxZ,OAIT,sBAAKlT,UAAU,QAAf,UACK4sB,GACA,CAAC,cAACR,GAAD,qBACF,cAACC,GAAD,UAAYO,IACZ,wBAGC1D,GACA,CAAC,cAACkD,GAAD,uBACF,cAACC,GAAD,UAAYnD,IACZ,wBAGiB,WAAhBppB,GACG,eAAC,GAAD,CAAYjF,KAAK,SACjBmF,UAAU,+CACVwqB,UAAS,EACT5rB,GAAI,CACAC,SAAS,mBAAD,OAAoBihB,EAApB,YAAgC1L,EAAhC,UACR7T,OAAQnJ,OAAOc,SAASqI,QAL5B,UAOI,mBAAGP,UAAU,qBAPjB,UAWJ,eAACssB,GAAD,CAAgBzxB,KAAK,SAASmF,UAAU,iDAAiD8B,QAlEzF,SAACP,GACrBA,EAAM+b,kBACDtjB,GACDqjB,EAAOvd,EAAYsU,GAAU,GAC5BiJ,EAAOvd,EAAYsU,EAAU,CAAClZ,GAAIkZ,IAAY,GACnDgJ,IAAapjB,KA6DO,UACI,mBAAGgG,UAAS,WAAkB,IAAbhG,GAAqB,cAAgB,cAA1C,YACE,IAAbA,GAAqB,eAAiB,UAF3C,gBAIA,sBAAKgG,UAAU,sBAAsB6H,KAAK,QAA1C,UACKygB,GACD,eAAC,GAAD,CAAcztB,KAAK,SAASmF,UAAU,2BAA2BwqB,UAAS,EAAGvqB,MAAO,CAACyH,gBAAgB,WAAaqZ,KAAI,0CAAqCuH,GAAa9hB,OAAO,SAA/K,UAAwL,mBAAGxG,UAAU,wBAArM,aAICxI,GACG,eAAC,GAAD,CAAcqD,KAAK,SAASmF,UAAS,qCAAiCsoB,EAAgB,EAAJ,GAASkC,UAAUlC,EAAgB,EAAJ,EAAOvH,KAAMvpB,GAAKgP,OAAO,SAA1I,UACI,mBAAGxG,UAAS,2BAAsBsoB,GAAc,WAC9CA,GAAc,cAIxBA,GACI,eAAC,GAAD,CAAcztB,KAAK,SAASmF,UAAU,gBAAgBwqB,UAAS,EAAGvqB,MAAO,CAACyH,gBAAgB,WAAaqZ,KAAI,0CAAqCuH,GAAa9hB,OAAO,SAApK,UACI,mBAAGxG,UAAU,wBADjB,sBAQC,WAAhBF,GACE,cAAC,GAAD,CAAS2rB,WAAY3f,GAASG,MAAO7C,GAAgB+e,a,kCpBzQ7D,SAAS+E,GAAT,GAmCX,IAAD,IAlCDtvB,aAkCC,aAjCDuvB,gBAiCC,aAhCDC,kBAgCC,aA/BDC,sBA+BC,aA7BDhW,kBA6BC,aA5BDiW,kBA4BC,SA1BDntB,EA0BC,EA1BDA,IA0BC,IAxBDotB,iBAwBC,aAvBDC,oBAuBC,aAtBDC,eAsBC,aArBDC,oBAqBC,aApBDC,mBAoBC,aAnBDC,mCAmBC,aAlBDC,qBAkBC,MAlBe,EAkBf,MAhBDC,qBAgBC,MAhBe,WAgBf,MAdDC,gBAcC,MAdU,GAcV,MAbDC,uBAaC,MAbiB,GAajB,MAZDC,iBAYC,MAZW,GAYX,MAXDC,uBAWC,MAXiB,GAWjB,MAVDC,0BAUC,aATDC,sBASC,aARDC,gCAQC,aALD5W,oBAKC,MALc,UAKd,MAJDY,sBAIC,MAJgB,UAIhB,MAHDlB,mBAGC,MAHY,8HAGZ,OAFDmX,qBAEC,WAEKC,GAAiB3oB,iBAAO,MACxB4oB,GAAW5oB,iBAAO,MAClB6oB,GAAc7oB,iBAAO,MACrB8oB,GAAgB9oB,iBAAO,MACvB+oB,GAAmB/oB,iBAAO,MAC1BgpB,GAAchpB,iBAAO,MACrBipB,GAAejpB,iBAAO,MAE5B,GAAoC5J,oBAAS,GAA7C,qBAAO8yB,GAAP,MAAmBC,GAAnB,MACA,GAA8B/yB,oBAAS,GAAvC,qBAAOsf,GAAP,MAAgB0T,GAAhB,MACA,GAAgChzB,mBAAS,GAAzC,qBAAOqL,GAAP,MAAiB4nB,GAAjB,MACA,GAAgCjzB,mBAAS,GAAzC,qBAAOsN,GAAP,MAAiB4lB,GAAjB,MACA,GAAsBlzB,oBAAS,GAA/B,qBAAO+V,GAAP,MAAYod,GAAZ,MACA,GAA4CnzB,oBAAS,GAArD,qBAAOozB,GAAP,MAAuBC,GAAvB,MACA,GAAoCrzB,oBAAS,GAA7C,qBAAO2D,GAAP,MAAmB2vB,GAAnB,MACA,GAA4BtzB,mBAAS,KAArC,qBAAOyZ,GAAP,MAAe8D,GAAf,MACA,GAA0Bvd,oBAAS,GAAnC,qBAAOuzB,GAAP,MAAcC,GAAd,MACA,GAA0BxzB,oBAAS,GAAnC,qBAAOgI,GAAP,MAAcoW,GAAd,MACA,GAA0Cpe,oBAAS,GAAnD,qBAAOyzB,GAAP,MAAsBC,GAAtB,MACA,GAAwC1zB,oBAAS,GAAjD,qBAAO2zB,GAAP,MAAqBC,GAArB,MACA,GAAgC5zB,oBAAS,GAAzC,qBAAO6zB,GAAP,MAAiBC,GAAjB,MACA,GAAwC9zB,mBAAS,GAAjD,qBAAO+zB,GAAP,MAAqBC,GAArB,MACA,GAA8Bh0B,oBAAS,GAAvC,qBAAOi0B,GAAP,MAAgBC,GAAhB,MACA,GAAsBl0B,oBAAS,GAA/B,qBAAOwd,GAAP,MAAYC,GAAZ,MAEA,GAAkDzd,oBAAS,GAA3D,qBAAOm0B,GAAP,MAA0BC,GAA1B,MACA,GAAsCp0B,oBAAS,GAA/C,qBAAOq0B,GAAP,MAAoBC,GAApB,MACA,GAAwCt0B,oBAAS,GAAjD,qBAAOu0B,GAAP,MAAqBC,GAArB,MACA,GAAgDx0B,oBAAS,GAAzD,qBAAOy0B,GAAP,MAAyBC,GAAzB,MACA,GAAwD10B,oBAAS,GAAjE,qBAAO20B,GAAP,MAA6BC,GAA7B,MAKA,GAA4B50B,mBAAS,CACnCyW,MAAO,EACPzL,MAAO,EACP+K,IAAK,IAHE8e,GAAT,qBAMM9oB,GAAe,SAAAC,GACnBA,EAAIC,OAAOD,GACX,IAAME,EAAIC,KAAKC,MAAMJ,EAAI,MACrBK,EAAIF,KAAKC,MAAOJ,EAAI,KAAQ,IAC5BM,EAAIH,KAAKC,MAAOJ,EAAI,KAAQ,IAUhC,OARIM,EAAI,KACNA,EAAC,WAAOA,IAGND,EAAI,KACNA,EAAC,WAAOA,IAGNH,EACI,GAAN,OAAUA,EAAV,YAAeG,EAAf,YAAoBC,GAGhB,GAAN,OAAUD,EAAV,YAAeC,IA8DX+Q,GAAO,WACX2V,IAAY1T,IAERiT,GAAe9nB,QAAQqqB,OACzBvC,GAAe9nB,QAAQ4S,OAIzBkV,GAAe9nB,QAAQsqB,SAuBnBC,GAAc,SAAAC,GAIlB,GAHgB1C,GAAe9nB,QAAQyqB,YAGzBD,GAFA1C,GAAe9nB,QAAQ6C,SAEJ,EAI/B,OAHAilB,GAAe9nB,QAAQyqB,YAAc3C,GAAe9nB,QAAQ6C,SAAW,OACvE2lB,GAAYV,GAAe9nB,QAAQ6C,SAAW,GAKhDilB,GAAe9nB,QAAQyqB,aAAeD,GAIlCE,GAAkB,SAAAF,GAGtB,GAFgB1C,GAAe9nB,QAAQyqB,YAEzBD,GAAW,EAGvB,OAFA1C,GAAe9nB,QAAQyqB,YAAc,OACrCjC,GAAY,GAIdV,GAAe9nB,QAAQyqB,aAAeD,GAIlCG,GAAa,WACjB,IACElC,GAAYX,GAAe9nB,QAAQ6C,UACnCylB,IAAc,GAETkB,KACHC,IAAW,GACXlB,IAAW,GAGTT,GAAe9nB,QAAQ4S,OACvB2V,IAAYT,GAAe9nB,QAAQqqB,SAInCvD,GACFA,IAEF,MAAO31B,GACPo3B,IAAW,KAWTqC,GAAkB,SAAAj2B,GACtBo0B,GAASp0B,GACTg1B,IAAqB,GACrB7B,GAAe9nB,QAAQ8oB,MAAQn0B,GAG3Bk2B,GAAkB,SAAAl2B,GACtBme,GAAUne,GACVmzB,GAAe9nB,QAAQgP,OAASra,EAAQ,KA6DpCm2B,GAAqB,WAEtBxwB,SAASywB,oBACTzwB,SAAS0wB,eACT1wB,SAAS2wB,qBACT3wB,SAAS4wB,kBAMZrC,IAAc,GAJZA,IAAc,IAmBZsC,GAAc,WACf3P,KAEH2N,IAAgB,GAChBE,IAAY,GAERtB,GAAS/nB,UACXwU,aAAauT,GAAS/nB,SACtBorB,cAAc5P,IACX4M,GAAapoB,UACdooB,GAAapoB,QAAQqrB,UAAY/pB,GAAawmB,GAAe9nB,QAAQyqB,cACpEtC,GAAYnoB,UACbmoB,GAAYnoB,QAAQrL,MAAQmzB,GAAe9nB,QAAQyqB,YACnD5C,GAAaM,GAAYnoB,QAAQrL,MAAiC,IAA1BwzB,GAAYnoB,QAAQrL,MAAUkO,IACtEslB,GAAYnoB,QAAQxG,MAAMmE,WAAc,yEAAqG,IAA1BwqB,GAAYnoB,QAAQrL,MAAUkO,GAAW,aAAyC,IAA1BslB,GAAYnoB,QAAQrL,MAAUkO,GAAW,oBAMxN2Y,GAAmB2D,aAAY,WAC1BiJ,GAAapoB,UACdooB,GAAapoB,QAAQqrB,UAAY/pB,GAAawmB,GAAe9nB,QAAQyqB,cACpEtC,GAAYnoB,UACbmoB,GAAYnoB,QAAQrL,MAAQmzB,GAAe9nB,QAAQyqB,YACnDtC,GAAYnoB,QAAQxG,MAAMmE,WAAc,yEAAqG,IAA1BwqB,GAAYnoB,QAAQrL,MAAUkO,GAAW,aAAyC,IAA1BslB,GAAYnoB,QAAQrL,MAAUkO,GAAW,qBAEtN,KAGFklB,GAAS/nB,QAAU3F,YAAW,WAzCzButB,GAKLuB,IAAgB,GACXtU,IACHwU,IAAY,IANZA,IAAY,GA0CZ+B,cAAc5P,IACdA,GAAmB,OAClB,OAGC8P,GAAwB,SAAAjsB,GACV,KAAdA,EAAEpE,SAAkB6sB,GAAe9nB,QACjC8nB,GAAe9nB,QAAQqqB,QACzBvC,GAAe9nB,QAAQ4S,OACvB2V,IAAW,GACX4C,OAEArD,GAAe9nB,QAAQsqB,QACvB/B,IAAW,GACX4C,MAEoB,KAAd9rB,EAAEpE,SAAkB6sB,GAAe9nB,QAC3C0qB,GAAgB,IACM,KAAdrrB,EAAEpE,SAAkB6sB,GAAe9nB,SAC3CuqB,GAAY,KAqJhB,OAjIAnwB,qBAAU,WACJ8vB,IAjBmB,WACvB,IAAMqB,EAAUrD,GAAiBloB,QACzBkX,EAAWqU,EAAQC,uBAAuB,YAAY,GAC5D,GAAGtU,EAAS,CACV,IAAM8M,EAAW9M,EAASuU,UACpB7xB,EAASsd,EAASwU,aACxBH,EAAQI,UAAY3H,EAAoB,EAATpqB,GAYjCgyB,KAED,CAAC1B,KAEJ9vB,qBAAU,WAAM,4CACd,sBAAApJ,EAAA,0DACM82B,KAAkBA,GAAe9nB,QADvC,6BAGU8nB,GAAe9nB,UAAY1F,SAASuxB,wBAH9C,gCAIc/D,GAAe9nB,QAAQ8rB,0BAJrC,6CAMchE,GAAe9nB,QAAQ+rB,uBANrC,yDAQM10B,QAAQC,IAAI,iBAAZ,MARN,2DADc,uBAAC,WAAD,wBAad00B,KACC,CAACjZ,KAEJ3Y,qBAAU,WACJV,IACFouB,GAAe9nB,QAAQyqB,YAAcrD,EACrCe,GAAYnoB,UAAYmoB,GAAYnoB,QAAQrL,MAAQ,GACpD8zB,GAAY,GACZH,IAAc,GACd3U,IAAS,GACTwW,IAAwB,GACxBJ,IAAgB,GAChBK,GAAgB,CACdpe,MAAO,EACPzL,MAAO,EACP+K,IAAK,IAEPid,IAAW,MAEZ,CAAC7uB,IAEJU,qBAAU,WACRE,SAAS2xB,iBAAiB,UAAWX,IAAuB,GAC5DrD,GAAcjoB,QAAQisB,iBAAiB,mBAAoBnB,IAAoB,KAC9E,IAGH1wB,qBAAU,WACR0wB,OACC,CAACxwB,SAAS4wB,kBAAmB5wB,SAASywB,mBAAoBzwB,SAAS0wB,cAAe1wB,SAAS2wB,sBAkF5F,eAAC,GAAD,CACErW,YAAauW,GACbxrB,IAAKsoB,GACLxT,cAhQqB,WAErBna,SAASywB,oBACTzwB,SAAS0wB,eACT1wB,SAAS2wB,qBACT3wB,SAAS4wB,kBAET5wB,SAAS2Z,kBAIXoV,IAAY,GAERpB,GAAcjoB,QAAQ6T,kBACxBoU,GAAcjoB,QAAQ6T,oBACboU,GAAcjoB,QAAQ8T,wBAC/BmU,GAAcjoB,QAAQ8T,0BACbmU,GAAcjoB,QAAQksB,qBAC/BjE,GAAcjoB,QAAQksB,uBACbjE,GAAcjoB,QAAQ+T,qBAC/BkU,GAAcjoB,QAAQ+T,sBAGxB8U,IAAc,KA0OZjY,WAAYA,EACZD,YAAapT,GACbmT,WAAYA,GANd,YAQmB,IAAf2X,KAA2C,IAAlBW,KAAsC,IAAZnU,MAAuBtX,KAAU+N,IAtFtF,cAACuG,GAAD,CAASC,MAAOd,EAAhB,SACE,gCACE,wBACA,wBACA,+BAoFD2W,GA5EH,eAAChW,GAAD,CACEX,aAAcA,EACdY,eAAgBA,EAChBb,MAAmB,IAAbqY,KAAoC,IAAff,KAAmC,IAAZxT,GAHpD,WAKI1d,GAASuvB,IACT,0BAASntB,UAAU,SAAnB,UACE,oBAAIA,UAAU,OAAd,6BACA,oBAAIA,UAAU,QAAd,SAAuBpC,IACvB,oBAAIoC,UAAU,YAAd,SAA2BmtB,OAG/B,+CAOF,eAACxV,GAAD,CACEO,gCAAgC,UAChCC,sBAAsB,OACtBH,iBAAiB,OACjBC,2BAA2B,OAC3BL,WAAW,OACXC,cAAc,OACdC,UAAU,OACVN,MAAqB,IAAfsX,KAAwC,IAAfA,IAAuB9qB,GACtD+T,YAAa/T,GATf,WAWIpG,GAASuvB,IACT,mCACE,gCACE,6BAAKvvB,IACL,6BAAKuvB,OAEP,cAAC,KAAD,CAAKrrB,QAASwrB,OAIlB,kCACGtpB,IACC,gCACE,6BAAKA,KACJiqB,EAAU90B,OAAS,GAClB,gCACE,+DACA,qBAAK6G,UAAU,cAAf,SACGiuB,EAAU5iB,KAAI,SAAA6C,GAAI,OACjB,sBAAKpM,QAAS,kBAAMosB,EAAgBhgB,EAAKhT,KAAzC,UACGgT,EAAK0kB,QAAU,sCAChB,+BAAO1kB,EAAK2kB,OACX3kB,EAAKoN,SAAW,cAAC,KAAD,uBA6BnC,uBACElV,IAAKmoB,GACLpuB,IAAKA,EACLob,UAAU,EACVgS,UAAW,kBAAM6D,MACjB5D,aAhda,SAAA1nB,GACjBgqB,IAAY,GACZX,IAAO,GACH7T,IACF0T,IAAW,GAGTS,IACFC,IAAiB,GAGfjB,GAAYhoB,SACdwU,aAAawT,GAAYhoB,SAG3BgoB,GAAYhoB,QAAU3F,YAAW,kBAAM4uB,IAAiB,KAAO,KAE3DlC,GACFA,EAAa1nB,GASf,IANA,IAAIgtB,EAAc,EACZC,EAAejtB,EAAEU,OAAOwsB,SAAS75B,OACnC6N,EAAQ,EACRisB,EAAY,EACVC,EAAYptB,EAAEU,OAAO0qB,YAElB31B,EAAI,EAAGA,GAAKw3B,EAAcx3B,IAAK,CACtC,IAAM43B,EAAartB,EAAEU,OAAOwsB,SAAShsB,MAAMzL,EAAI,GACzC63B,EAAWttB,EAAEU,OAAOwsB,SAASjhB,IAAIxW,EAAI,GAEvC63B,EAAWF,GAAaA,EAAYC,IACtCL,EAAcv3B,EAEV63B,EAAWH,IACbA,EAAYG,GAGVD,EAAansB,IACfA,EAAQmsB,IAKdtC,GAAgB,CACdpe,MAAOqgB,EACP9rB,QACAisB,eAkaEvX,QApUY,WACZgS,GACFA,IAEFtT,GAAS,4CAiULqT,QA5YkB,YACjBI,KAAmBU,GAAe9nB,QAAQ6C,UAAa8lB,IAU1DD,IAAO,GACPH,IAAW,GAEPvB,GACFA,MAbF4B,IAAkB,GAClBd,GAAe9nB,QAAQyqB,YAAc3C,GAAe9nB,QAAQ6C,SAAW,GAErE0lB,IAAW,GACXT,GAAe9nB,QAAQ4S,SAuYvBga,QAAS,kBAAMrE,IAAW,IAC1BsE,UAAW,kBAAMtE,IAAW,MAK9B,eAACzX,GAAD,CACEC,MAAuB,IAAjBmY,KAAwC,IAAfb,KAAiC,IAAV9qB,GACtDyT,aAAcA,EACdC,cAA2B,IAAXrQ,GAAkBiC,GAHpC,UAKGgkB,GACC,qBAAKttB,UAAU,OAAf,SACE,sBAAK8B,QAASwrB,EAAYrtB,MAAO,CAAE6Z,OAAQ,WAA3C,UACE,cAAC,KAAD,IACA,iDAKiB,IAAtBqW,KAA8C,IAAhBE,KAAyBE,KAAiBI,IACvE,sBAAK3wB,UAAU,oBAAf,UACE,sBAAMA,UAAU,OAAOoG,IAAKyoB,KAC5B,uBACEh0B,KAAK,QACLuL,IAAOwoB,GACP5uB,UAAU,mBACV4V,IAAKtM,GACLtG,SAAU,SAAA8C,GAAC,OA1bF2kB,EA0bmB3kB,EAAEU,OAAOpL,MAzb/CmzB,GAAe9nB,QAAQyqB,YAAczG,EACrCwE,GAAYxE,QACZ6D,GAAa7D,EAAoB,IAAVA,EAAcnhB,IAHlB,IAAAmhB,GA2bT7sB,MAAM,GACNqC,MACE,KAaJ,+BAAO8H,GAAauB,UAIR,IAAfwlB,IACC,sBAAK9uB,UAAU,YAAf,UACE,sBAAKA,UAAU,QAAf,UACE,sBAAKA,UAAU,eAAf,WACIsb,IAAW,cAAC,KAAD,CAAQxZ,QAASuX,KAC7BiC,IAAW,cAAC,KAAD,CAASxZ,QAASuX,QAGhC,qBAAKrZ,UAAU,eAAf,SACE,cAAC,KAAD,CAAW8B,QAAS,kBAAMqvB,GAAgB,SAG5C,qBAAKnxB,UAAU,eAAf,SACE,cAAC,KAAD,CAAW8B,QAAS,kBAAMkvB,GAAY,UAG7B,IAAVzB,IACC,eAAC/W,GAAD,CACE4C,aAAc,kBAAMgV,IAAqB,IACzCpwB,UAAU,eACVyX,aAAcA,EACdgB,cAAehD,GAJjB,WAMyB,IAAtB0a,IACC,sBAAKnwB,UAAU,kBAAf,UACE,qBAAKA,UAAU,kBACf,qBAAKA,UAAU,MAAf,SACE,uBACEnF,KAAK,QACL8a,IAAK,EACLC,IAAK,IACLxa,MAAOqa,GACPI,KAAM,EACN7S,SAAU,SAAA8C,GAAC,OAAIwrB,GAAgBxrB,EAAEU,OAAOpL,QACxCwC,MAAM,UAMb6X,IAAU,IACT,cAAC,KAAD,CAAY0F,aAAc,kBAAMiV,IAAqB,IAAOtuB,QAAS,kBAAMuvB,IAAgB,MAG5F5b,GAAS,IAAMA,IAAU,IACxB,cAAC,KAAD,CACE0F,aAAc,kBAAMiV,IAAqB,IACzCtuB,QAAS,kBAAMuvB,IAAgB,MAIlC5b,GAAS,IAAMA,GAAS,GACvB,cAAC,KAAD,CACE0F,aAAc,kBAAMiV,IAAqB,IACzCtuB,QAAS,kBAAMuvB,IAAgB,MAIlC5b,IAAU,GACT,cAAC,KAAD,CAAc0F,aAAc,kBAAMiV,IAAqB,IAAOtuB,QAAS,kBAAMwvB,GAAgB,UAKxF,IAAV/B,IACC,qBAAKvvB,UAAU,eAAf,SACE,cAAC,KAAD,CAAc8B,QAAS,kBAAMuvB,IAAgB,QAIjD,sBAAKrxB,UAAU,0BAAf,UACE,sBAAMA,UAAU,aAAhB,SAA8BotB,IAC9B,sBAAMptB,UAAU,cAAhB,SAA+BqtB,UAInC,sBAAKrtB,UAAU,MAAf,YACKmuB,GACD,sBAAKnuB,UAAU,eAAeob,aAAc,kBAAMsV,IAAoB,IAAtE,WACwB,IAArBD,IACC,eAAC7X,GAAD,WACE,gCACE,qBAAK5Y,UAAU,QAAf,mBAnnBM,CAAC,OAAQ,MAAO,OAAQ,SAAU,OAAQ,MAAO,KAonBlCqL,KAAI,SAAA6C,GAAI,OAC3B,sBAAKlO,UAAU,OAAO8B,QAAS,kBAlSrDyxB,EAAkB,YADSA,EAmSqDrlB,GAlSnD,EAAIqlB,EACjChF,GAAe9nB,QAAQspB,aAAewD,OACtCvD,GAAgBuD,GAHW,IAAAA,GAmSL,YACKrlB,KAAU6hB,IAA0B,WAAT7hB,GAAuC,KAAjB6hB,KAAwByD,eAC5E,qBAAKxzB,UAAU,OAAf,SAAgC,WAATkO,EAAoBA,EAApB,UAA8BA,EAA9B,gBAI7B,qBAAKlO,UAAU,qBAInB,cAAC2Y,GAAD,CAAkB3Y,UAAU,eAAemb,aAAc,kBAAMuV,IAAoB,IAAnF,SACE,iCACoB,WAAjBX,GAA4B,IAA5B,UAAqCA,IACtC,8CAMPpC,GACC,sBAAK3tB,UAAU,eAAeob,aAAc,kBAAMoV,IAAgB,IAAlE,WACoB,IAAjBD,IAAyBxC,EAASnwB,OACjC,eAACib,GAAD,WACE,gCACE,qBAAK7Y,UAAU,QAAf,0BACA,sBAAKA,UAAU,OAAO8B,QAAS6rB,EAA/B,UACE,qBAAK3tB,UAAU,OAAf,SAAuB+tB,EAASnwB,QAC/BmwB,EAASlqB,aAAe,8BAAMkqB,EAASlqB,oBAG5C,qBAAK7D,UAAU,qBAInB,cAAC,KAAD,CAAe8B,QAAS6rB,EAAaxS,aAAc,kBAAMqV,IAAgB,SAI7E,sBAAKxwB,UAAU,eAAeob,aAAc,kBAAMwV,IAAwB,IAA1E,UACGD,IACC,eAAC7X,GAAD,WACE,gCACE,qBAAK9Y,UAAU,QAAf,SAAwB8tB,IACxB,qBAAK1nB,IAAKuoB,GAAkB3uB,UAAU,6CAAtC,SACGguB,EAAgB3iB,KAAI,SAAC6C,EAAMuE,GAAP,OACnB,sBACEzS,UAAS,iCAA4BkO,EAAKoN,SAAW,YACrDxZ,QAAS,kBACP8rB,GAA+BA,EAA4B1f,EAAKhT,GAAIgT,EAAKoN,UAH7E,UAME,sBAAKtb,UAAU,OAAf,UACE,sBAAMC,MAAO,CAAEglB,YAAa,IAA5B,SAAmCxS,EAAQ,IAC1CvE,EAAK3H,QAGP2H,EAAKulB,SAAW,qBAAKzzB,UAAU,uBAKxC,qBAAKA,UAAU,qBAGlBguB,GAAmBA,EAAgB70B,OAAS,GAC3C,cAAC,KAAD,CAASgiB,aAAc,kBAAMyV,IAAwB,SAIxD3C,GAAaA,EAAU90B,OAAS,GAC/B,sBAAK6G,UAAU,eAAeob,aAAc,kBAAMkV,IAAe,IAAjE,WACmB,IAAhBD,IACC,eAACtX,GAAD,WACE,8BACGkV,GACCA,EAAU5iB,KAAI,SAAA6C,GAAI,OAChB,sBACEpM,QAAS,WACPwuB,IAAe,GACfpC,EAAgBhgB,EAAKhT,KAHzB,UAMGgT,EAAK0kB,QAAU,sCAEhB,+BAAO1kB,EAAK2kB,OACX3kB,EAAKoN,SAAW,cAAC,KAAD,YAIzB,qBAAKtb,UAAU,qBAInB,cAAC,KAAD,CAAOmb,aAAc,kBAAMmV,IAAe,SAI9C,qBAAKtwB,UAAU,eAAf,SACE,cAAC,KAAD,CAAa8B,QAAS,kBAAK2X,IAAQD,SAGrC,sBAAKxZ,UAAU,eAAf,WACkB,IAAfL,IAAwB,cAAC,KAAD,CAAUmC,QAzgBzB,WACtBguB,IAAY,GACRpB,GAAcjoB,QAAQ6T,mBACxBoU,GAAcjoB,QAAQ6T,oBACtBgV,IAAc,IACLZ,GAAcjoB,QAAQ8T,0BAC/BmU,GAAcjoB,QAAQ8T,0BACtB+U,IAAc,QAmgBY,IAAf3vB,IAAuB,cAAC,KAAD,CAAYmC,QA/hB3B,YAEnBf,SAASywB,oBACTzwB,SAAS0wB,eACT1wB,SAAS2wB,qBACT3wB,SAAS4wB,qBAEL5wB,SAAS2Z,eACX3Z,SAAS2Z,iBACA3Z,SAAS8Z,iBAClB9Z,SAAS8Z,mBACA9Z,SAAS6Z,oBAClB7Z,SAAS6Z,sBAET7Z,SAAS4Z,uBAGX2U,IAAc,sBqBlTpB,I,YAAM9uB,GAAYvB,KAAOG,IAAV,mGAuGAs0B,GA/FM,WACjB,MAA6C3zB,cAAtC+f,EAAP,EAAOA,SAASpW,EAAhB,EAAgBA,OAAOqD,EAAvB,EAAuBA,QAASqH,EAAhC,EAAgCA,UAC1Bxa,EAAUgH,cAEV+yB,EAAW/zB,cAAY,SAAAd,GAAK,OAAIA,EAAMyf,YAAUxjB,MAAK,SAAAC,GAAC,OAAGC,SAASD,EAAEoV,aAAenV,SAASmZ,MAAY7N,KACxGqtB,EAAch0B,cAAY,SAAAd,GAAK,OAAIA,EAAM+0B,oBAO/C,EAA4B73B,qBAA5B,mBAAOywB,EAAP,KAAeqH,EAAf,KACA,EAA8B93B,mBAAS,IAAvC,mBAAO4P,EAAP,KAAgBmoB,EAAhB,KACA,EAAoC/3B,qBAApC,mBAAOkuB,EAAP,KAAmBC,EAAnB,KAEAtpB,qBAAU,WACF+yB,GAAsC,IAAvBA,EAAYz6B,OAI/B46B,EAAWH,EAAYvoB,KAAI,SAAArQ,GACvB,OAAO,2BACAA,GADP,IAEIsgB,QAASrgB,SAASD,EAAE8S,aAAe9S,EAAE+R,WAAa9R,SAAS8R,GAC3D7R,GAAIF,EAAE8S,aAAe9S,EAAE+R,QACvBxG,KAAMvL,EAAE4C,YARZhE,EAAQZ,QAAR,cAWN,CAAC46B,EAAY7mB,IAEflM,qBAAU,WACN,GAAG+K,GAAWA,EAAQzS,OAAO,EAAE,CAC3B,IAAMmP,EAAIsD,EAAQ7Q,MAAK,SAAAC,GAAC,OAAc,IAAZA,EAAEsgB,WAIxByQ,EAAO1O,EAAW,SAASjJ,KAC7B2X,GAASA,IAAS9wB,SAAS8wB,EAAKriB,UAAYzO,SAASyO,IAAWzO,SAAS8wB,EAAKhf,WAAa9R,SAAS8R,OAAgBgf,EAAK,CAAC7wB,GAAIkZ,EAAW1K,OAAQA,EAAQqD,QAASzE,EAAEpN,GAAI8L,MAAM,EAAG2jB,IAAI,IACvLR,EAAc4B,GACd1O,EAAO,SAASjJ,EAAW2X,GAE3B+H,EAAUxrB,MAEhB,CAACsD,IAOH,OACI,cAAC,GAAD,UACI,cAACshB,GAAD,CACA/sB,IAAKssB,IAAWA,EAAOhf,eAAiBgf,EAAOj1B,KAAOi1B,EAAOX,MAC7DluB,MAAO6uB,GAAW3kB,GAAa6rB,GAC/BvG,WAAYX,GAAW3kB,GAAa6rB,GACpCtG,eAAkBZ,GAAW3kB,GAAa2kB,EAAO7uB,OACjD0vB,WAAY,kBAAK1zB,EAAQyJ,UACzB2wB,YAAU,EACVC,UAAQ,EACRpG,cAAe3D,EAAajvB,SAASivB,EAAWljB,OAAS,EACzDonB,gBAAc,EACdC,0BAAwB,EACxB6F,OAAK,EACLzc,aAAa,sBACbY,eAAe,qBACf2V,gBAAiBpiB,EACjBkiB,cAAiB,UAAYpkB,EAC7B4kB,aAAgB,SAAChlB,EAAU+hB,GAAX,OAvBPU,EAuByC,2BAAI7B,GAAL,IAAiBljB,MAAMsC,EAAUqhB,IAAM1vB,SAASowB,GAAate,QAASA,EAASrD,OAAQA,IAtB5IygB,EAAc4B,QACd1O,EAAO,SAASjJ,EAAW2X,GAFf,IAACA,GAyBTgC,SAAU,WACN,IAAIlH,EAAOjb,EAAQ7Q,MAAK,SAAAC,GAAC,OAAEA,EAAE8S,YAAc2e,EAAO3e,eAClD,MAAO,CAAElQ,MAAOipB,EAAI,gBAAYA,EAAKjpB,OAAU,KAGnDgwB,4BAA6B,SAAC1yB,EAAIogB,GAC9B,IAAIuL,EAAOjb,EAAQ7Q,MAAK,SAAAC,GAAC,OAAEA,EAAE8S,cAAgB5S,KAC7CtB,EAAQZ,QAAR,2BAAoC8mB,EAApC,YAAgD1L,EAAhD,wBAAyE1K,EAAzE,oBAA2Fmd,EAAK/Y,YAAhG,OAGJ2f,QAAS,WACL,GAAGhB,EAAO,CACN,IAAI5F,EAAOjb,EAAQ7Q,MAAK,SAAAC,GAAC,OAAEA,EAAE8S,YAAc2e,EAAO3e,eAClD,IAAI+Y,EACA,OAAOjtB,EAAQu6B,OACdv6B,EAAQZ,QAAR,2BAAoC8mB,EAApC,YAAgD1L,EAAhD,wBAAyE1K,EAAzE,oBAA2Fmd,EAAK/Y,YAAhG,aC7FnBtN,GAAYvB,KAAOG,IAAV,mGAiEAg1B,GAzDG,WACd,MAA6Br0B,cAAtB+f,EAAP,EAAOA,SAAS1L,EAAhB,EAAgBA,UACVxa,EAAUgH,cAEV6rB,EAAS7sB,cAAY,SAAAd,GAAK,OAAIA,EAAMyf,YAAUxjB,MAAK,SAAAC,GAAC,OAAEA,EAAEoZ,YAAcnZ,SAASmZ,MACrF,EAAmCpY,mBAASqhB,EAAW,QAAQjJ,IAA/D,mBAAO8V,EAAP,KAAkBC,EAAlB,KAEA,EAAsBnuB,qBAAtB,mBAAOxE,EAAP,KAAYyiB,EAAZ,KAEApZ,qBAAU,WACF4rB,EAIDA,EAAOhf,cACNwM,EAAOwS,EAAOhf,eAEdwM,EAAO/D,GAAY,QAAQuW,EAAOrY,UAAUqY,EAAO1C,sBANnDnwB,EAAQZ,QAAR,aAQN,CAACyzB,IAEH5rB,qBAAU,WACN,IAAIkrB,EAAO1O,EAAW,QAAQjJ,IAC7B2X,IAASA,EAAK,CAAC7wB,GAAIkZ,EAAWpN,MAAM,EAAG2jB,IAAI,IAC5CR,EAAc4B,GACd1O,EAAO,QAAQjJ,EAAW2X,KAC5B,CAACjM,EAAU1L,IAQb,OACI,cAAC,GAAD,UACI,cAAC8Y,GAAD,CACA/sB,IAAK3I,EACLoG,MAAOkK,GAAa2kB,EAAOlmB,MAC3B6mB,WAAYtlB,GAAa2kB,EAAOlmB,MAChC+mB,WAAY,kBAAK1zB,EAAQyJ,UACzB2wB,YAAU,EACVC,UAAQ,EACRpG,cAAe3D,EAAajvB,SAASivB,EAAWljB,OAAS,EACzDsnB,aAAgB,SAAChlB,EAAU+hB,GAAX,OAhBPU,EAgByC,2BAAI7B,GAAL,IAAiBljB,MAAMsC,EAAUqhB,IAAM1vB,SAASowB,KAfrGlB,EAAc4B,QACd1O,EAAO,QAAQjJ,EAAW2X,GAFd,IAACA,GAkBTsI,QAAS,WAAMhX,EAAO,QAAQjJ,GAAWxa,EAAQyJ,UACjD+qB,gBAAc,EACdC,0BAAwB,EACxB6F,OAAK,EACLzc,aAAa,sBACbY,eAAe,0BCtCrB7X,GAAYvB,KAAOG,IAAV,6KAST8Z,GAAOja,KAAOG,IAAV,6RAiBJk1B,GAAoBr1B,KAAOkf,GAAV,iNA4QRoW,GAjQC,WACZ,MAAkCx0B,cAA1B+f,EAAR,EAAQA,SAAUhgB,EAAlB,EAAkBA,YAElB,EAAoC9D,mBAAS,IAA7C,mBAAOw4B,EAAP,KAAmBC,EAAnB,KACA,EAAqCz4B,mBAASw4B,GAA9C,mBAAOjW,EAAP,KAAiBmW,EAAjB,KAEA,EAAgC14B,oBAAS,GAAzC,mBAAO24B,EAAP,KAAiBC,EAAjB,KACA,EAA4C54B,oBAAU,GAAtD,mBAAO64B,EAAP,KAAuBC,EAAvB,KACA,EAAkC94B,oBAAS,GAA3C,mBAAOoJ,EAAP,KAAkBC,EAAlB,KAEM0vB,EAAan1B,cAAY,SAAAd,GAAK,OAAIA,EAAM4hB,cAE9C,EAAsC1kB,qBAAtC,mBAAOg5B,EAAP,KAAoBC,EAApB,KAEA,EAA4Cj5B,qBAA5C,mBAAO4jB,EAAP,KAAuBC,EAAvB,KACA,EAAkC7jB,oBAAS,GAA3C,mBAAOke,EAAP,KAAkBC,EAAlB,KAEM3X,EAAWC,eACX7I,EAAUgH,cACV1I,EAAW2H,cAGX2e,EADQJ,KACW7mB,IAAI,UAE7B,EAA8ByE,mBAAS,GAAvC,mBAAOk5B,EAAP,KAAgBC,EAAhB,KAEAt0B,qBAAU,WACH3I,EAAS2G,SAASzG,MAAM,cAAgB0nB,GAEtC5nB,EAAS2G,SAASzG,MAAM,wBADzBg9B,EAAS,GACwDA,EAAS,KAC7E,CAACl9B,EAAS2G,SAAUihB,IAEzBjf,qBAAU,WACH3I,EAAS2G,SAASzG,MAAM,cAAgB0nB,GAEtC5nB,EAAS2G,SAASzG,MAAM,wBADzBg9B,EAAS,GACwDA,EAAS,GAC9ER,EAAclmB,MAAMoR,SAA0BhC,IAAbgC,GAA2B5nB,EAAS2G,SAASzG,MAAM,yBAChFF,EAAS2G,SAASzG,MAAM,yBACxB68B,EAAe,eAAII,GAAmB3mB,MAAMoR,SAA0BhC,IAAbgC,EAA0BvB,EAAWA,EAAS7iB,QAAO,SAAAV,GAAC,OAAGA,EAAEyT,cAAgBqR,UAC1I,CAACA,IAEHjf,qBAAU,WACN,IAAI2d,EAGA,OAFAkW,EAAiBF,QACjBnvB,EAAa,GAGjB,IAAMwZ,EAAWL,EAAagW,EAAW94B,QAAO,SAAAV,GAAC,OAAIA,EAAEuL,KAAKgE,cAAcxR,SAASylB,EAAWjU,kBAAkBiqB,EACxF,IAApB3V,EAAS1lB,QACTu7B,EAAiBF,GACjBnvB,EAAa,IACXqvB,EAAiB7V,KACxB,CAACL,IAEJ3d,qBAAU,YACC,uCAAG,8BAAApJ,EAAA,yDACF69B,EAAMP,GAEG,KADPQ,EAAQtV,uBAAYngB,OACH5H,EAAS2G,SAASzG,MAAM,yBAA4BF,EAAS2G,SAASzG,MAAM,kBAA4B0lB,IAAbgC,GAA2BA,IAAa+U,GAHpJ,oDAONC,EAAkBhV,GAClB8U,EAAclmB,MAAMoR,SAA0BhC,IAAbgC,GAA2B5nB,EAAS2G,SAASzG,MAAM,yBAEpFg9B,EAAS,GACTjb,GAAa,GAEbgb,EAAW,IACG,IAAVI,GAAiC,IAAfD,EAAIn8B,OAdpB,kCAeIgV,GAAUrO,GAAatD,MAAK,SAAA0jB,GACzBA,GAAsB,IAAfA,EAAI/mB,QAIhB+mB,EAAIzkB,QAAQ,CAACgT,YAAY,MAAOzU,SAAS,EAAGmmB,cAAe,kBAAkB,CAAC1R,YAAY,QAAS7U,QAAS,EAAGumB,cAAc,sBAC7H3d,EAAS+c,GAAaW,GAAO,KAC7BoV,EAAMpV,GALFtmB,EAAQZ,QAAQ,QAjBtB,yBAyBAuV,GAAazO,EAAaggB,GAAY,OAAOtjB,MAAK,SAAAwjB,GACjDF,GAAYpR,MAAMoR,KACjBE,EAAMA,EAAItkB,QAAO,SAAA4M,GACb,IAAMktB,EAAInY,EAAWvd,EAA6B,WAAhBA,EAA2BwI,EAAE8H,UAAY9H,EAAE8L,UAAwB,QAAb0L,GACxF,OAAO0V,IAAmB,QAAb1V,GAAwB0V,EAAE7K,IAAM,GAAM6K,EAAE7K,IAAM,QAGnEnoB,EAAS8c,GAAYU,GAAO,KAC5BoV,EAAS,GACTX,EAAczU,GAAK,IACnB0U,EAAiB1U,GAAO,IACxBiV,EAAe,eAAII,GAAmB3mB,MAAMoR,SAA0BhC,IAAbgC,EAA0BE,EAAMA,EAAItkB,QAAO,SAAAV,GAAC,OAAGA,EAAEyT,cAAgBqR,QAC1HqV,EAAW,MArCT,4CAAH,qDAwCPK,GAAI79B,OAAM,SAAAC,GAAG,OAAEkG,QAAQC,IAAInG,QAC5B,CAAC4K,EAAUsd,EAAUhgB,EAAa5H,EAAS2G,WAE9C,IAAMu2B,EAAW,SAAChnB,GACdyR,EAA2B,IAATzR,EAAa,CAAC1S,OAAO,cAAgBqkB,cAAe,QAAU,IACtE,IAAP3R,GACC+L,GAAa,IAoEfsb,EAAsB,SAAChjB,GACzB,OAAsC,IAAlCsiB,EAAWtiB,EAAQ,GAAG7Y,SAAoD,IAAnCm7B,EAAWtiB,EAAQ,GAAGzY,SACtDukB,EAAS7iB,QAAO,SAAA4M,GACnB,IAAMktB,EAAInY,EAAWvd,EAA6B,WAAhBA,EAA2BwI,EAAE8H,UAAY9H,EAAE8L,UAA8C,IAAnC2gB,EAAWtiB,EAAQ,GAAGzY,UAC9G,OAAOw7B,IAAyC,IAAnCT,EAAWtiB,EAAQ,GAAGzY,UAAmBw7B,EAAE7K,IAAM,GAAM6K,EAAE7K,IAAM,OAGzEpM,EAAS7iB,QAAO,SAAA4M,GAAC,OAAIrN,SAASqN,EAAEmG,eAAiBxT,SAAS85B,EAAWtiB,EAAQ,GAAGhE,iBAIzFinB,GAAuB,SAACJ,GAAD,MAAiB,QAARA,EAAgB,iBAAmB,qBAGzE,OACI,8BACI,eAAC,IAAD,CAAOK,KAAK,iBAAZ,WACoB,IAAdzb,GAAuB,cAAC,GAAD,UACrB,cAAC5B,GAAD,CAASC,MAAO,uBAAhB,SACI,gCACE,wBACA,wBACA,+BAIV,cAAC,GAAD,CAAWtY,MAAK,2BAAM2f,GAAN,IAAsBV,UAAU,WAAhD,SACI,cAACoV,GAAD,CAAmBr0B,MAAO,CAAC6C,YAAa,OAAQ0E,WAAW,GAA3D,SACa,IAAZ0tB,IACAP,GAAYpW,EAASplB,OAAO,EACzB,cAAC,KAAD,CACA+7B,QAASA,EACP70B,OAAQye,6BAAkB,SAAWC,8BAAmB,KACxDC,UAAW+V,EAAW57B,OAAS,EAC/B8lB,SAAU,SAACxM,GACP,OAAa,IAAVA,EACMqM,6BAAkB,QACrB2W,EAAoBhjB,GAAOtZ,OAAS,EACP,IAA1B2lB,6BAAkB,QAElB,GAGbM,gBAAgB,EAChBnf,MAAO,CAACmnB,UAAU,UAdpB,SA/FR,SAAC,GAAD,IAAG3U,EAAH,EAAGA,MAAOxS,EAAV,EAAUA,MAAV,OACA,IAARwS,EACIuiB,GAAeA,EAAYzuB,KACvB,cAAC,GAAD,CAEAA,KAAMyuB,EAAYzuB,KAAMkI,YAAaumB,EAAYvmB,YACjD2F,UAAW4gB,EAAY5gB,WAAa4gB,EAAY5kB,UAChD6X,SAAwB,WAAdnoB,EACV8U,YAAaogB,EAAYpgB,aAAeogB,EAAY/oB,MACpDhM,MAAOA,EACPiK,aAAc8qB,EAAY1qB,KAC1B1M,MAAQkiB,IAAapR,MAAMoR,GAAY,oBAAsBiV,EAAWh6B,MAAK,SAAAC,GAAC,OAAGC,SAASD,EAAEyT,eAAiBxT,SAAS6kB,MAAWK,gBARjI,aACW6U,EAAY5gB,WAAa4gB,EAAY5kB,YAUhD,wBAEJ,cAAC,GAAD,CAEA3B,YAAasmB,EAAWtiB,EAAM,GAAGhE,YACjClI,KAAMwuB,EAAWtiB,EAAM,GAAG0N,cAC1B8H,SAAwB,WAAdnoB,EACVye,SAAWkX,EAAoBhjB,GAC/BxS,MAAK,2BAAMA,GAAN,IAAa6C,YAAa,SAAU4nB,eAAgB,UALpDqK,EAAWtiB,EAAM,GAAGhE,gBA+Fb,cAAC,KAAD,CACEmnB,YAAa,EACbC,YAAa,SAACpjB,GAAD,OAAsBqM,6BAAkB,WACrDze,OAAQye,6BAAkB,SAAWC,8BAAmB,KACxD+W,SAAU76B,SAASkN,KAAK4tB,KAAMxX,EAASplB,OAAS,IAAK,EACrD68B,UAAW,SAACvjB,GACR,OAAW,IAARA,EACKuiB,GAAeA,EAAYzuB,KACtBuY,6BAAkB,QACjBA,6BAAkB,OACO,IAA1BA,6BAAkB,SAEnClX,MAAOkX,6BAAkB,SACzBM,gBAAgB,EAChBnf,MAAO,CAACmnB,UAAU,UAdpB,SAvFP,SAAC,GAAsC,IAApC6O,EAAmC,EAAnCA,YAAaC,EAAsB,EAAtBA,SAAUj2B,EAAY,EAAZA,MACnC,GAAgB,IAAbi2B,EACC,OAAmB,IAAhBD,EACQ,KAEAjB,GAAeA,EAAYzuB,KAClC,CAAC,cAAC,GAAD,CAEGA,KAAMyuB,EAAYzuB,KAAMkI,YAAaumB,EAAYvmB,YACjD2F,UAAW4gB,EAAY5gB,WAAa4gB,EAAY5kB,UAChD6X,SAAwB,WAAdnoB,EACV8U,YAAaogB,EAAYpgB,aAAeogB,EAAY/oB,MACpDhM,MAAOA,EACPiK,aAAc8qB,EAAY1qB,KAC1B1M,MAAQkiB,IAAapR,MAAMoR,GAAY4V,GAAqB5V,GAAYiV,EAAWh6B,MAAK,SAAAC,GAAC,OAAGC,SAASD,EAAEyT,eAAiBxT,SAAS6kB,MAAWK,gBAR/I,aACc6U,EAAY5gB,WAAa4gB,EAAY5kB,YASpD,yBAEA,oBAAInQ,MAAO,CAACsY,MAAM,QAAS4d,WAAY,MAAvC,SAA+CrW,GAAYiV,EAAW57B,OAAS,IAAMuV,MAAMoR,GAAY4V,GAAqB5V,GAAYiV,EAAWh6B,MAAK,SAAAC,GAAC,OAAGC,SAASD,EAAEyT,eAAiBxT,SAAS6kB,MAAWK,iBAGhN,IAAM1N,EAAsB,GAAZyjB,EAAS,GAAMD,EAC/B,OAAI1X,EAAS9L,GAGT,cAAC,GAAD,CAASvX,GAAIuX,EACblM,KAAMgY,EAAS9L,GAAOlM,KACtBqO,YAAa2J,EAAS9L,GAAOmC,aAAe2J,EAAS9L,GAAOxG,MAC5DmI,UAAWmK,EAAS9L,GAAO2B,WAAamK,EAAS9L,GAAOrC,UACxD2Y,WAAYxK,EAAS9L,GAAOhF,cAC5Bwa,SAAwB,WAAdnoB,EACViqB,oBAAqBxL,EAAS9L,GAAOsX,oBACrCtb,YAAa8P,EAAS9L,GAAOhE,YAC7BvE,aAAcqU,EAAS9L,GAAOnI,KAC9Bwf,MAAM,EAAO7pB,MAAK,2BAAMA,GAAN,IAAYm2B,cAAc,QAASD,WAAW,KAAMzL,eAAgB,UAT7D,OAAOnM,EAAS9L,GAAO2B,WAAamK,EAAS9L,GAAOrC,YAFtE,aAqFNhL,GAAa,cAAC,GAAD,CAAOxH,MAAK,gCAA2B4gB,EAA3B,KAA0C3a,YAAa,2BAA4BC,KAAM,gBAAkBC,QAAS,WAC5IsB,EAAa,GACbzL,EAAQZ,QAAQd,EAAS2G,SAASyB,MAAM,KAAK,OAE/C,eAAC,IAAD,WACI,cAAC,IAAD,CAAOq1B,KAAK,6CAAZ,SACI,cAAC,GAAD,MAEJ,cAAC,IAAD,CAAOA,KAAK,8EAAZ,SACI,cAAC,GAAD,MAEJ,cAAC,IAAD,CAAOA,KAAK,oDAAZ,SACI,cAAC,GAAD,GAAe,QAAQ7V,cAW/C,SAASuV,GAAkB9W,GAEvB,IAAM8X,GADN9X,EAAWA,EAAS7iB,QAAO,SAAAV,GAAC,OAAIA,EAAEuL,KAAKnO,MAAM,kGACfsD,QAAO,SAAAV,GAAC,OAAGA,EAAE+O,QAAU,KACrD,OAAGssB,EAAal9B,OAAS,EACd,eAAIk9B,EAAaluB,KAAKC,MAAMD,KAAKmuB,SAAWD,EAAal9B,UAC9D,eAAWolB,EAASpW,KAAKC,MAAMD,KAAKmuB,SAAW/X,EAASplB,UAGlE,IAAMilB,GAAW,WACb,OAAO,IAAIC,gBAAgBxe,cAAcU,SClQ9Bg2B,OAtDf,WACE,IAAM/zB,EAAWC,eACjBmjB,aAAY,kBAAMpjB,ECzBV,CACF3H,KAAM,eACNoI,QAAS9H,KAAKG,UDuBsB,KAC1CsqB,aAAY,kBAAMpjB,EE1BV,CACF3H,KAAM,cACNoI,QAAS9H,KAAKG,UFwBqB,KAET,WAA7BlE,OAAOc,SAASY,WAAwC,IAAf1B,OAAOo/B,MACjDp/B,OAAOc,SAAWd,OAAOc,SAAS6oB,KAAK/nB,QAAQ,OAAO,SACnB,WAA7B5B,OAAOc,SAASY,WAAyC,IAAf1B,OAAOo/B,QACvDp/B,OAAOc,SAAWd,OAAOc,SAAS6oB,KAAK/nB,QAAQ,QAAQ,SAEzD,IAAIxB,EAAMJ,OAAOc,SAASu+B,KAAKz9B,QAAQ,IAAI,IAE3C,OACE,cAAC6C,EAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,eAAC,IAAD,CAAO85B,KAAK,iBAAZ,UACE,cAAC,GAAD,IACA,cAAC,GAAD,OAEF,cAACl3B,EAAD,CAAci4B,OAAK,EAACf,KAAO,IAA3B,SACE,cAAC,GAAD,MAGF,eAAC,IAAD,WACE,cAACl3B,EAAD,CAAci4B,OAAK,EAACf,KAAK,0BAAzB,SAAmD,cAAC,GAAD,MACnD,cAACl3B,EAAD,CAAci4B,OAAK,EAACf,KAAK,yCAG3B,eAAC,IAAD,WACE,cAACl3B,EAAD,CAAci4B,OAAK,EAACf,KAAK,2CAAzB,SAAoE,cAAC,GAAD,MACpE,cAACl3B,EAAD,CAAci4B,OAAK,EAACf,KAAK,wBAAzB,SAAiD,cAAC,GAAD,SAEnD,eAAC,IAAD,WACE,cAACl3B,EAAD,CAAci4B,OAAK,EAACf,KAAK,oCAAzB,SAA6D,cAAC,GAAD,MAC7D,cAACl3B,EAAD,CAAci4B,OAAK,EAACf,KAAK,yCAAzB,SAAkE,cAAC,GAAD,SAGpE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOA,KAAK,UAAZ,SAAsB,cAAC,GAAD,CAAOn+B,IAAKA,MAClC,cAACiH,EAAD,CAAci4B,OAAK,EAACf,KAAO,SAA3B,SAAoC,cAAC,GAAD,MACpC,cAACl3B,EAAD,CAAck3B,KAAO,2BAArB,SAAgD,cAAC,GAAD,MAChD,cAACl3B,EAAD,CAAck3B,KAAO,SAArB,SAA8B,cAAC,GAAD,MAC9B,cAACl3B,EAAD,CAAck3B,KAAO,mCAArB,SAAwD,cAAC,GAAD,MACxD,cAACl3B,EAAD,CAAck3B,KAAO,iBAArB,SAAsC,cAAC,GAAD,mBGzDhCgB,QACW,cAA7Bv/B,OAAOc,SAAS0+B,UAEe,UAA7Bx/B,OAAOc,SAAS0+B,UAEhBx/B,OAAOc,SAAS0+B,SAASx+B,MACvB,2D,aCRSy+B,GATe,WAA2B,IAA1B/3B,EAAyB,uDAAjB,KAAMX,EAAW,uCACpD,OAAOA,EAAOtD,MACV,IAAK,cACD,OAAO,eAAIsD,EAAO8E,SACtB,QACI,OAAOnE,ICGJg4B,GATgB,WAAyB,IAAxBh4B,EAAuB,uDAAf,GAAIX,EAAW,uCACnD,OAAOA,EAAOtD,MACV,IAAK,wBACD,OAAOsD,EAAO8E,QAClB,QACI,OAAOnE,ICIJi4B,GATO,WAAyB,IAAxBj4B,EAAuB,uDAAf,GAAIX,EAAW,uCAC1C,OAAOA,EAAOtD,MACV,IAAK,YACD,OAAOsD,EAAO8E,QAClB,QACI,OAAOnE,ICIJk4B,GATS,WAAyB,IAAxBl4B,EAAuB,uDAAf,GAAIX,EAAW,uCAC5C,OAAOA,EAAOtD,MACV,IAAK,eACD,OAAOsD,EAAO8E,QAClB,QACI,OAAOnE,ICMJm4B,GAXQ,WAAiC,IAAhCn4B,EAA+B,uDAAvB3D,KAAKG,MAAO6C,EAAW,uCACnD,OAAOA,EAAOtD,MACV,IAAK,eACD,OAAGsD,EAAO8E,QAAUnE,EAAQ,IACjBX,EAAO8E,QACXnE,EACX,QACI,OAAOA,ICIJo4B,GAXO,WAAiC,IAAhCp4B,EAA+B,uDAAvB3D,KAAKG,MAAO6C,EAAW,uCAClD,OAAOA,EAAOtD,MACV,IAAK,cACD,OAAGsD,EAAO8E,QAAUnE,EAAQ,IACjBX,EAAO8E,QACXnE,EACX,QACI,OAAOA,ICEJq4B,GATS,WAA2B,IAA1Br4B,EAAyB,uDAAjB,KAAMX,EAAW,uCAC9C,OAAOA,EAAOtD,MACV,IAAK,gBACD,OAAOsD,EAAO8E,QAClB,QACI,OAAOnE,ICOJs4B,GAVI,WAAkD,IAAjDt4B,EAAgD,uDAAxC1F,IAAQ7B,IAAI,QAAQ,QAAS4G,EAAW,uCAChE,OAAOA,EAAOtD,MACV,IAAK,UAED,OADAzB,IAAQC,IAAI,MAAM8E,EAAO8E,QAAQ,CAAE3J,QAAS,MACrC6E,EAAO8E,QAClB,QACI,OAAOnE,ICcJu4B,GAXIC,aAAgB,CAC/BrjB,UAAY4iB,GACZna,QAAUua,GACV7vB,OAAS8vB,GACTx0B,IAAM00B,GACN1R,SAAWyR,GACXzW,WAAaqW,GACbxY,SAAWyY,GACXnD,iBAAmBiD,KCVjBS,GAAUC,aACdH,GACAjgC,OAAOqgC,8BAAgCrgC,OAAOqgC,gCAIhDC,IAAS/4B,OACP,cAAC,IAAMg5B,WAAP,UACE,cAAC,KAAD,CAAUC,MAAOL,GAAjB,SACE,cAAC,GAAD,QAGJx2B,SAAS4B,eAAe,SV8GpB,kBAAmByH,WACrBA,UAAUytB,cAAcC,MAAMt7B,MAAK,SAAAu7B,GACjCA,EAAaC,iB,iBWrInBC,EAAQlZ,mBAAqB,SAACmZ,GAC1B,OAAOA,EAAMC,WAAWC,iBAAiBr3B,SAASs3B,iBAAiBC,WAGvEL,EAAQnZ,kBAAoB,SAAC1jB,GACzB,IAAIm9B,EAAQn9B,EAAMhD,MAAM,qBACpBogC,EAAIvwB,OAAOswB,EAAM,IAErB,OADWnhC,OAAO,CAAC,cAAe,cAAc,CAAC,KAAM,MAAMqhC,QAAQF,EAAM,OAC5DC,EAAE,O,iBCRrB,IAAMvnB,EAAO,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,YAEhFgnB,EAAQ1V,WAAa,SAACjoB,GAClB,IAAI0N,EAAI,IAAI7M,KAAKb,GACjB,OAAO2W,EAAKjJ,EAAE0wB,WAGlBT,EAAQ3V,eAAiB,SAAChoB,GACtB,IAAI0N,EAAI,IAAI7M,KAAKb,GACjB,MAAM,GAAN,OAAU0N,EAAE+G,cAAZ,YAA6B/G,EAAEgH,WAAW,EAA1C,YAA+ChH,EAAEiH,a,iBCTrD,IAAI0pB,EAAU,GACVC,GAAiB,EAErBX,EAAQhY,YAAc,SAAC7R,GACnB,OAAGA,IAASuqB,IACRA,EAAUvqB,EACVwqB,GAAiB,GACV,IAIfX,EAAQ7X,SAAW,SAAC5R,GAChBoqB,EAAgBpqB,GAGpBypB,EAAQjX,SAAW,WACf,OAAO4X,I,iBChBX,IAAIC,EACJZ,EAAQnS,SAAW,WACf,OAAO+S,GAGXZ,EAAQrR,SAAW,SAAC9rB,GAChB+9B,EAAU/9B,K","file":"static/js/main.7785bdab.chunk.js","sourcesContent":["import Axios from \"axios\";\r\nimport Cookies from 'js-cookie'\r\nimport qs from \"qs\"\r\n\r\nlet dns = null;\r\nlet proxyRequired = window.cors;\r\nlet isIptveditor = null;\r\n\r\nsetDns(window.dns);\r\n\r\nexport async function get(url, timeout = 1) {\r\n    return Axios.get(url).catch(err => err);\r\n}\r\n\r\nexport async function post(url, params = {}, local, useProxy) {\r\n    if (!dns)\r\n        return null;\r\n\r\n    let uri = url\r\n\r\n    if (local === true && !window.location.origin.match(/iptveditor\\.com|localhost/)) {\r\n        return Axios.post(uri, qs.stringify(params)).catch(err => err)\r\n    }\r\n\r\n    if (isIptveditor === false) {\r\n        uri += \"?\";\r\n        for (const key in params) {\r\n            uri += key + \"=\" + encodeURIComponent(params[key]) + \"&\";\r\n        }\r\n    }\r\n\r\n    if ((proxyRequired || useProxy) === true && isIptveditor === true)\r\n        uri = \"/proxy.php?url=\" + encodeURIComponent(dns);\r\n    else if ((proxyRequired || useProxy) === true && isIptveditor === false)\r\n        uri = \"/proxy.php?url=\" + encodeURIComponent(dns + uri);\r\n    else if (isIptveditor === false)\r\n        uri = dns + uri;\r\n    else uri = dns;\r\n\r\n    return isIptveditor === true && !(proxyRequired || useProxy)?\r\n        Axios.post(uri, qs.stringify(params)) :\r\n        Axios.get(uri, {\r\n            headers: {\r\n                'User-Agent': 'Mozilla/6.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.55 Safari/537.36 Edge/86.0.622.28'\r\n            },\r\n            timeout: 25000\r\n        }).catch(err => {\r\n            if(proxyRequired === false && !useProxy && !err.response)\r\n                return post(url, params, local, true)\r\n            return err\r\n        });\r\n\r\n}\r\n\r\n\r\nexport function setDns(data) {\r\n    if (!data)\r\n        return;\r\n    if (window.location.protocol !== 'https:' && data.includes(\"https\"))\r\n        data = data.replace(\"https\", \"http\");\r\n    else if (window.location.protocol === 'https:' && !data.includes(\"https\"))\r\n        data = data.replace(\"http\", \"https\");\r\n\r\n    isIptveditor = !!data.match(/iptveditor\\.com|xtream-ie|opop\\.pro|localhost|192\\.168\\.178\\.71\\:3100/)\r\n\r\n    if (window.isDebug === 1)\r\n        data = window.dns;\r\n    else if (isIptveditor === true && window.isDebug !== 1)\r\n        data = `${process.env.REACT_APP_IPTVEDITOR_API}webplayer`;\r\n    else {\r\n        if (data[data.length - 1] !== \"/\")\r\n            data += \"/\";\r\n    }\r\n\r\n    dns = data;\r\n    Cookies.set(\"dns\", data, { expires: 365 })\r\n}\r\n\r\nexport function getDns() {\r\n    return dns;\r\n}\r\n\r\nexport function getIsIptveditor() {\r\n    return isIptveditor;\r\n}","import Cookies from 'js-cookie'\r\nimport * as Axios from \"./axios\"\r\n\r\nconst userInfo = {};\r\n\r\nexport function getInfo(){\r\n    return userInfo;\r\n}\r\n\r\nexport function setInfo(data, serverInfo){\r\n    userInfo.expiry = new Date(parseInt(data.exp_date+\"000\"));\r\n    userInfo.username = data.username;\r\n    userInfo.password = data.password;\r\n    userInfo.max_connections = data.max_connections;\r\n    userInfo.message = data.message;\r\n\r\n    Axios.post(\"/epg.php\",{init:1, username: userInfo.username, password: userInfo.password, \r\n        dns: `${serverInfo.server_protocol}://${serverInfo.url}:${serverInfo.port}`\r\n    },true);\r\n\r\n    Cookies.set(\"username\",data.username,{ expires: 365 });\r\n    Cookies.set(\"password\",data.password,{ expires: 365 });\r\n}\r\n\r\nexport function logout(){\r\n    Cookies.remove(\"dns\");\r\n    Cookies.remove(\"username\");\r\n    Cookies.remove(\"password\");\r\n    window.location = \"/\";\r\n}","import {getInfo} from \"./user_info\"\r\n\r\nlet history = {live:[], movie:[], series:[]};\r\nlet favorite = {live:[], movie:[], series:[]};\r\n\r\nexport const initDb = () =>{\r\n  let txt = localStorage.getItem(\"history-\" + getInfo().username);\r\n  txt ? (history = JSON.parse(txt)) : saveDB(0);\r\n\r\n  txt = localStorage.getItem(\"favorite-\" + getInfo().username);\r\n  txt ? (favorite = JSON.parse(txt)) : saveDB(1);\r\n}\r\n\r\nconst findOne = (type, key, fav) =>{\r\n  const db = getDb(fav);\r\n  const el = db[type].find(x=>parseInt(x.id) === parseInt(key))\r\n  if(!el)\r\n    return null;\r\n  return el && fav !== true ? {...el, date: new Date(el.date)} : el;\r\n}\r\n\r\nconst findAll = (type, fav) =>{\r\n  if(fav !== true)\r\n    return history[type].sort((a,b)=> a.date-b.date).map(x=> {return {...x, date : new Date(x.date)}});\r\n  else return favorite[type];\r\n}\r\n\r\nconst set = (type,key,value, fav) =>{\r\n  const db = getDb(fav);\r\n  \r\n  fav !== true && (value = {...value, date: Date.now()})\r\n\r\n  const i = db[type].findIndex(x=>x.id === key);\r\n  i !== -1 ? db[type][i] = value : db[type].unshift(value) \r\n\r\n  reorderDB(fav);\r\n  saveDB(fav);\r\n}\r\n\r\nconst del = (type, key, fav) =>{\r\n  if(fav !== true)\r\n    history[type] = history[type].filter(x=> parseInt(x.id) !== parseInt(key));\r\n  else favorite[type] = favorite[type].filter(x=> parseInt(x.id) !== parseInt(key));\r\n\r\n  saveDB(fav);\r\n}\r\n\r\nconst reorderDB = (fav) =>{\r\n  if (fav !== true) {\r\n    history.live = history.live.slice(0, 20).sort((a, b) => b.date - a.date)\r\n    history.movie = history.movie.slice(0, 20).sort((a, b) => b.date - a.date)\r\n    history.series = history.series.slice(0, 20).sort((a, b) => b.date - a.date)\r\n  }else{\r\n    favorite.live = favorite.live.slice(0, 30)\r\n    favorite.movie = favorite.movie.slice(0, 30)\r\n    favorite.series = favorite.series.slice(0, 30)\r\n  }\r\n}\r\n\r\nconst saveDB = (fav) =>{\r\n  window.localStorage.setItem((fav !== true ? \"history-\" : \"favorite-\") + getInfo().username, JSON.stringify(fav !== true ? history : favorite));\r\n}\r\n\r\nconst getDb = fav => fav !== true ? history : favorite\r\n\r\nexport default {findOne, findAll, set, del}","import React, { useState, useContext, createContext } from \"react\";\r\nimport {Route,Redirect} from \"react-router-dom\"\r\nimport * as axios from \"./axios\";\r\nimport {setInfo} from \"./user_info\"\r\nimport Cookies from 'js-cookie'\r\nimport {initDb} from \"./local-db\"\r\n\r\nconst authContext = createContext();\r\n\r\nexport function ProvideAuth({ children }) {\r\n  const auth = useProvideAuth();\r\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>;\r\n}\r\n\r\nexport const useAuth = () => {\r\n  return useContext(authContext);\r\n};\r\n\r\nexport function useProvideAuth() {\r\n  const [auth, setAuth] = useState(0);\r\n\r\n  const signin = (dns, username, password, successFallback, failFallback) => {\r\n    if(dns)\r\n      axios.setDns(dns);\r\n      \r\n    axios.post(\"player_api.php\",{\r\n      username: username.trim(),\r\n      password: password.trim(),\r\n    }).then(result => {\r\n      if(result){\r\n        if(result.data)\r\n          result = result.data\r\n        else if(result.response && result.response.data)\r\n          result = result.response.data\r\n      }\r\n      if(result && result.user_info){\r\n        if(result.iptveditor)\r\n          axios.setDns(`${process.env.REACT_APP_IPTVEDITOR_API}webplayer`);\r\n        if(result.user_info.auth === 0)\r\n          failFallback(\"No account found\",\"No account found with inserted credentials.\" + (window.location.host.includes(\"iptveditor.com\") ? \"<br/>To login use your IPTVEditor's playlist username and password, not your email.\" : \"\"));\r\n        else if(result.user_info.auth){\r\n          if(result.user_info.status !== \"Active\")\r\n            failFallback(\"Account expired\",`Account expired on ${new Date(parseInt(result.user_info.exp_date+\"000\")).toGMTString()}`);\r\n          else {\r\n            setAuth(1);\r\n            setInfo(result.user_info, result.server_info);\r\n            initDb();\r\n            successFallback && (successFallback());\r\n\r\n          }\r\n        }\r\n      }else if(result.title){\r\n        failFallback && (failFallback(result.title,result.body));\r\n      }else{\r\n        failFallback && (failFallback(\"Server error\",\"Server didn't generated any reply. Please try later #2\"));\r\n      }\r\n    }).catch(err => {\r\n      console.log(err);\r\n      if(err && err.response && err.response.data && err.response.data.user_info && err.response.data.user_info.auth === 0)\r\n        failFallback && (failFallback(\"No account found\",\"No account found with inserted credentials.\" + (window.location.host.includes(\"iptveditor.com\") ? \"<br/>To login use your IPTVEditor's playlist username and password, not your email.\" : \"\")));\r\n      else failFallback && (failFallback(\"Server error\",\"Server didn't generated any reply. Please try later #1\"));\r\n    })\r\n  };\r\n\r\n  const authLogin = (fallback) =>{\r\n\r\n    const dns = window.dns.length === 0 && (Cookies.get(\"dns\")) ;\r\n    const username = Cookies.get(\"username\");\r\n    const password = Cookies.get(\"password\");\r\n\r\n    if(username && password)\r\n      signin(dns,username,password,fallback);      \r\n  }\r\n\r\n  const signout = (action) => {\r\n    setAuth(null);\r\n    action && (action());\r\n  };\r\n\r\n  const isAuth = () => {\r\n    return !!auth;\r\n  }\r\n\r\n  return {\r\n    signin,\r\n    signout,\r\n    isAuth,\r\n    authLogin\r\n  };\r\n}\r\n\r\n\r\nexport function PrivateRoute({ children, ...rest }) {\r\n  let auth = useAuth();\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        auth.isAuth() ? (\r\n          children\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/login/\",\r\n              state: { from: location }\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}","import React from \"react\"\r\nimport  {Link,useLocation, useParams}  from 'react-router-dom'\r\nimport styled from \"styled-components\"\r\nimport {useSelector} from \"react-redux\"\r\nimport {useAuth} from \"../other/auth\"\r\n\r\n\r\nconst Nav = styled.nav`\r\nheight: 3rem;\r\nbackground-color: var(--first-color);\r\nborder-bottom: 1px solid #000;\r\n`;\r\n\r\nconst ContainerButton = styled.div`\r\nposition:absolute;\r\nright:2rem;\r\ntop:.5rem;\r\ndisplay: flex;\r\n\r\n& > a{\r\n    color: #fff;\r\n    align-items: center;\r\n    justify-content: center;\r\n    font-size: 1rem;\r\n    text-transform: uppercase;\r\n    display: flex;\r\n    background: #829196;\r\n    height: 2rem;\r\n    width: 2rem;\r\n    border-radius: 50%;\r\n}\r\n\r\n`\r\n\r\nconst CategoryButton = styled(Link)`\r\nmargin-right: 1rem;\r\n&:hover {\r\n    width: 11rem;\r\n    -webkit-transition: width 1s;\r\n    transition: width .5s;\r\n    overflow:hidden;\r\n    white-space: nowrap;\r\n    border-radius:5px;\r\n    text-decoration: none;\r\n    color: #fff;\r\n    padding-left:0.3rem;\r\n    padding-right:0.3rem;\r\n  }\r\n\r\n&:hover::after {\r\n    padding-left:0.3rem;\r\n    padding-right:0.3rem;\r\n    content: 'Select category';\r\n}\r\n`\r\n\r\nconst EPGButton = styled(Link)`\r\nmargin-right: 1rem;\r\n&:hover {\r\n    width: 8rem;\r\n    -webkit-transition: width 1s;\r\n    transition: width .5s;\r\n    overflow:hidden;\r\n    white-space: nowrap;\r\n    border-radius:5px;\r\n    text-decoration: none;\r\n    color: #fff;\r\n    padding-left:0.3rem;\r\n    padding-right:0.3rem;\r\n  }\r\n\r\n&:hover::after {\r\n    padding-left:0.3rem;\r\n    padding-right:0.3rem;\r\n    content: 'TV Guide';\r\n}\r\n`\r\n\r\nconst SearchButton = styled(Link)`\r\nmargin-right: 1rem;\r\n&:hover {\r\n    width: 8rem;\r\n    -webkit-transition: width 1s;\r\n    transition: width .5s;\r\n    overflow:hidden;\r\n    white-space: nowrap;\r\n    border-radius:5px;\r\n    text-decoration: none;\r\n    color: #fff;\r\n    padding-left:0.3rem;\r\n    padding-right:0.3rem;\r\n  }\r\n\r\n&:hover::after {\r\n    padding-left:0.3rem;\r\n    padding-right:0.3rem;\r\n    content: 'Search...';\r\n}\r\n`\r\n\r\nconst NavButton = styled(Link)`\r\nmargin-right: 1rem;\r\n&:hover {\r\n    width: 10rem;\r\n    -webkit-transition: width 1s;\r\n    transition: width .5s;\r\n    overflow:hidden;\r\n    white-space: nowrap;\r\n    border-radius:5px;\r\n    text-decoration: none;\r\n    color: #fff;\r\n    padding-left:0.3rem;\r\n    padding-right:0.3rem;\r\n  }\r\n\r\n&:hover::after {\r\n    padding-left:0.3rem;\r\n    padding-right:0.3rem;\r\n    content: 'Open menu';\r\n}\r\n`\r\n\r\nconst NavBar = () => {\r\n    const fullScreen = useSelector(state => state.fullScreen);\r\n    const location = useLocation();\r\n    let auth = useAuth();\r\n\r\n    const { playingMode } = useParams();\r\n\r\n    return (\r\n        <Nav className=\"navbar\" style={{display : fullScreen ? \"none\" : \"\"}}>\r\n            <div className=\"container-fluid\">\r\n                <Link className=\"navbar-brand\" to=\"/\">\r\n                    <img src=\"/img/banner_w.png\" alt=\"\" height=\"20rem\" className=\"d-inline-block align-top\"/>\r\n                </Link>\r\n            </div>\r\n            <ContainerButton>\r\n                {auth.isAuth() && !location.pathname.includes(\"menu\") && (\r\n                <>\r\n                    {location.pathname.includes(\"live\") && (<EPGButton to={`${location.pathname.split(\"?\")[0]}tvguide/`}><i className={\"fas fa-tv\"}></i></EPGButton>)}\r\n                    \r\n                    <SearchButton to={{\r\n                        pathname : `${location.pathname.split(\"?\")[0]}search/`,\r\n                        search: window.location.search,\r\n                    }}><i className={\"fas fa-search\"}></i></SearchButton>\r\n\r\n                    <CategoryButton to={{\r\n                        pathname: `/${playingMode}/category/`,\r\n                        search: window.location.search,\r\n                    }}><i className={\"fas fa-grip-lines\"}></i></CategoryButton>\r\n                    <NavButton to={`menu/`}><i className=\"fas fa-ellipsis-v\"></i></NavButton>\r\n                </>)}\r\n            </ContainerButton>\r\n        </Nav>\r\n    )\r\n}\r\n\r\nexport default NavBar\r\n","import React, {useState,useEffect} from 'react'\r\nimport styled from \"styled-components\"\r\nimport  {useHistory}  from 'react-router-dom'\r\n\r\nimport \"./MainMenu.css\"\r\nconst Container = styled.div`\r\nbackground-color: #212529;\r\nposition:absolute;\r\nwidth:100%;\r\nheight:100%;\r\ntop:0;\r\nleft:0;\r\n`\r\n\r\nconst Box = styled.div`\r\nposition: fixed;\r\nz-index: 98;\r\n&:before, &:after {\r\n\tcontent: \"\";\r\n\tposition: fixed;\r\n\twidth: 100vw;\r\n\theight: 100vh;\r\n\tbackground: rgba(20, 21, 26,0.6);\r\n\tborder-bottom-left-radius: 200%;\r\n\tz-index: -1;\r\n\t-webkit-transition: -webkit-transform cubic-bezier(0.77, 0, 0.175, 1) 0.6s, border-radius linear 0.8s;\r\n\ttransition: -webkit-transform cubic-bezier(0.77, 0, 0.175, 1) 0.6s, border-radius linear 0.8s;\r\n\ttransition: transform cubic-bezier(0.77, 0, 0.175, 1) 0.6s, border-radius linear 0.8s;\r\n\ttransition: transform cubic-bezier(0.77, 0, 0.175, 1) 0.6s, -webkit-transform cubic-bezier(0.77, 0, 0.175, 1) 0.6s, border-radius linear 0.8s;\r\n\t-webkit-transform: translateX(100%) translateY(-100%);\r\n          transform: translateX(100%) translateY(-100%);\r\n}\r\n&:after {\r\n\tbackground: rgba(9,9,12,1);\r\n\t-webkit-transition-delay: 0s;\r\n          transition-delay: 0s;\r\n}\r\n&:before {\r\n\t-webkit-transition-delay: .2s;\r\n    transition-delay: .2s;\r\n}\r\n`\r\n\r\nconst MainMenu = () => {\r\n\tconst [style, setStyle] = useState();\r\n\tconst history = useHistory();\r\n\t\r\n\tuseEffect(() => {\r\n\t\tsetTimeout(()=>{\r\n\t\t\tsetStyle(\"nav-active\");\r\n\t\t\tdocument.querySelector(\".nav__list-item\") && (document.querySelector(\".nav__list-item\").focus());\r\n\t\t},10)\r\n    },[]);\r\n\r\n\tconst redirect = (page) =>{\r\n\t\tsetStyle();\r\n\t\tsetTimeout(()=>{\r\n\t\t\thistory.push(page)\r\n        },600)\r\n\t}\r\n\r\n\tconst remoteController = (event) =>{\r\n        const active = document.activeElement;\r\n        if (event.keyCode === 40 && active.nextSibling) {\r\n          active.nextSibling.focus();\r\n        } else if (event.keyCode === 38 && active.previousSibling) {\r\n          active.previousSibling.focus();\r\n        }\r\n        //clearTimeout(timeout);\r\n    }\r\n\r\n\t/*const stopRemote = () =>{\r\n        clearTimeout(timeout);\r\n    }*/\r\n\r\n\tconst moveFocus = (event) => {\r\n        remoteController(event);\r\n    }\r\n\t\r\n    return (\r\n        <Container className={style}>\r\n            <Box className=\"nav\">\r\n\t        \t<div className=\"nav__content\">\r\n\t        \t\t<ul tabIndex={0} className=\"nav__list\" onKeyDown={moveFocus} >\r\n\t\t\t\t\t\t<li tabIndex={-1} className=\"nav__list-item\" onClick={() => redirect(\"/live/category/\")}><button className=\"hover-target\">Live Channels</button></li>\r\n\t        \t\t\t<li tabIndex={-1} className=\"nav__list-item\" onClick={() => redirect(\"/movie/\")}><button className=\"hover-target\">Movies</button></li>\r\n\t        \t\t\t<li tabIndex={-1} className=\"nav__list-item\" onClick={() => redirect(\"/series/\")}><button className=\"hover-target\">TV Series</button></li>\r\n\t        \t\t\t<li tabIndex={-1} className=\"nav__list-item\" onClick={() => redirect(\"/info/\")}><button className=\"hover-target\">account info</button></li>\r\n\t        \t\t</ul>\r\n\t        \t</div>\r\n\t        </Box>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default MainMenu\r\n","import React, {useState,useEffect} from 'react'\r\nimport \"./MainMenu/MainMenu\"\r\nimport styled from \"styled-components\"\r\nimport {getInfo, logout} from \"../other/user_info\"\r\nimport  {useHistory}  from 'react-router-dom'\r\nimport {useSelector, useDispatch} from \"react-redux\"\r\nimport {setH24} from \"../actions/h24\"\r\n\r\nconst Container = styled.div`\r\nbackground-color: #212529;\r\nposition:absolute;\r\nwidth:100%;\r\nheight:100%;\r\ntop:0;\r\nleft:0;\r\n`\r\n\r\nconst Box = styled.div`\r\nposition: fixed;\r\nz-index: 98;\r\n&:before, &:after {\r\n\tcontent: \"\";\r\n\tposition: fixed;\r\n\twidth: 100vw;\r\n\theight: 100vh;\r\n\tbackground: rgba(20, 21, 26,0.6);\r\n\tborder-bottom-left-radius: 200%;\r\n\tz-index: -1;\r\n\t-webkit-transition: -webkit-transform cubic-bezier(0.77, 0, 0.175, 1) 0.6s, border-radius linear 0.8s;\r\n\ttransition: -webkit-transform cubic-bezier(0.77, 0, 0.175, 1) 0.6s, border-radius linear 0.8s;\r\n\ttransition: transform cubic-bezier(0.77, 0, 0.175, 1) 0.6s, border-radius linear 0.8s;\r\n\ttransition: transform cubic-bezier(0.77, 0, 0.175, 1) 0.6s, -webkit-transform cubic-bezier(0.77, 0, 0.175, 1) 0.6s, border-radius linear 0.8s;\r\n\t-webkit-transform: translateX(100%) translateY(-100%);\r\n          transform: translateX(100%) translateY(-100%);\r\n}\r\n&:after {\r\n\tbackground: rgba(9,9,12,1);\r\n\t-webkit-transition-delay: 0s;\r\n          transition-delay: 0s;\r\n}\r\n&:before {\r\n\t-webkit-transition-delay: .2s;\r\n    transition-delay: .2s;\r\n}\r\n`\r\n\r\nconst Li = styled.li`\r\nfont-size: 3rem;\r\ntext-align: left;\r\n\r\n& > button{\r\n    text-transform: none !important;\r\n}\r\n\r\n& > button:after{\r\n    height: 0px !important;    \r\n}\r\n`\r\n\r\nconst Button = styled.button`\r\ncolor: #fff;\r\nbackground-color: var(--first-color) !important;\r\ntransition: all .5s ease;\r\nwidth:100%;\r\n\r\n&:after{\r\n    height: 0px !important;\r\n}\r\n\r\n&:hover, &:focus{\r\n    background-color: #829196;\r\n    color:white;\r\n    border-color: #829196;\r\n    box-shadow: 0 0 0 0.2rem #82919608;\r\n    transition: all .5s ease;\r\n}\r\n`\r\n\r\nconst ButtonLogout = styled.button`\r\ncolor: #fff;\r\nbackground-color: var(--second-color) !important;\r\ntransition: all .5s ease;\r\nwidth:100%;\r\n\r\n&:after{\r\n    height: 0px !important;\r\n}\r\n\r\n&:hover, &:focus{\r\n    background-color: var(--second-color) !important;\r\n    color:white;\r\n    border-color: #829196;\r\n    box-shadow: 0 0 0 0.2rem #82919608;\r\n    transition: all .5s ease;\r\n}\r\n`\r\nconst Checkbox = styled.input`\r\nfont-size: 3rem;\r\nheight: 3rem;\r\nwidth: 3rem;\r\n`\r\n\r\n\r\n\r\nconst AccountInfo = () => {\r\n    const [style, setStyle] = useState();\r\n    const info = getInfo();\r\n\tconst history = useHistory();\r\n    const dispatch = useDispatch()\r\n    const h24 = useSelector(state => state.h24)\r\n\r\n    useEffect(() => {\r\n\t\tsetTimeout(()=>{\r\n\t\t\tsetStyle(\"nav-active\");\r\n            document.getElementById(\"info-back\").focus();\r\n\t\t},10)\r\n    },[]);\r\n\r\n    \r\n    const back = (page) =>{\r\n\t\tsetStyle();\r\n        setTimeout(()=>{\r\n\t\t    history.goBack();\r\n        },600)\r\n\t}\r\n\r\n    return (\r\n        <Container className={style}>\r\n            <Box className=\"nav\">\r\n\t        \t<div className=\"nav__content\">\r\n\t        \t\t<ul tabIndex={0} className=\"nav__list\" style={{padding: \"0 20%\"}}>\r\n\t\t\t\t\t\t<Li tabIndex={-1} className=\"nav__list-item\">Username: <button className=\"hover-target\">{info.username}</button></Li>\r\n\t        \t\t\t<Li tabIndex={-1} className=\"nav__list-item\">Password: <button className=\"hover-target\">{info.password}</button></Li>\r\n\t        \t\t\t<Li tabIndex={-1} className=\"nav__list-item\">Max connections: <button className=\"hover-target\">{info.max_connections}</button></Li>\r\n\t        \t\t\t<Li tabIndex={-1} className=\"nav__list-item\">Expire on: <button className=\"hover-target\">{info.expiry.toGMTString()}</button></Li>\r\n\t        \t\t\t<Li tabIndex={-1} className=\"nav__list-item\">{info.message}</Li>\r\n                        <Li tabIndex={-1} className=\"nav__list-item\">\r\n                            <div class=\"form-check\" style={{paddingLeft: \"0rem\"}}>\r\n                              <Checkbox class=\"form-check-input\" type=\"checkbox\" defaultChecked={h24===\"HH:MM\"} onChange={()=>dispatch(setH24(h24!==\"HH:MM\"))} id=\"h24\"/>\r\n                              <label class=\"form-check-label\" for=\"h24\" style={{paddingLeft: \"1.5rem\"}}>\r\n                                Use 24H format\r\n                              </label>\r\n                            </div>\r\n                        </Li>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-8\">\r\n                                <Li autoFocus tabIndex={-1} className=\"nav__list-item\" id=\"info-back\" onClick={() => back()}><Button className=\"form-control\">RETURN BACK</Button></Li>\r\n                            </div>\r\n                            <div class=\"col-4\">\r\n                                <Li tabIndex={-1} className=\"nav__list-item\" onClick={logout}><ButtonLogout className=\"form-control\">LOGOUT</ButtonLogout></Li>\r\n                            </div>\r\n                        </div>\r\n\r\n\t        \t\t</ul>\r\n\t        \t</div>\r\n\t        </Box>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default AccountInfo\r\n","export const setH24 = (h24) => {\r\n    return{\r\n        type: \"SET_H24\",\r\n        payload: h24 ? \"HH:MM\" : \"hh:MM TT\"\r\n    }\r\n}\r\n","import React, {useState,useEffect} from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst Container = styled.div`\r\nposition: fixed;\r\ntop: 50%;\r\nleft: 50%;\r\ntransform: translate(-50%, -50%);\r\n`\r\n\r\nconst Message = styled.div`\r\npadding: 0rem 2rem;\r\ncolor: #fff;\r\nbox-shadow: 0 15px 35px rgb(50 50 93 / 20%), 0 5px 15px rgb(0 0 0 / 17%);\r\npointer-events: auto;\r\nborder: 0 solid rgba(0, 0, 0, .2);\r\nborder-radius: .4375rem;\r\noutline: 0;\r\n`\r\n\r\nconst Header = styled.div`\r\nborder-color: rgba(255, 255, 255, .075);\r\ndisplay: flex;\r\npadding: 1.25rem;\r\nborder-bottom: 0 solid #e9ecef;\r\nborder-top-left-radius: .4375rem;\r\nborder-top-right-radius: .4375rem;\r\nalign-items: flex-start;\r\njustify-content: space-between;\r\n\r\n& > h6{\r\n    font-size: 1.0625rem;\r\n    line-height: 1.1;\r\n    margin-bottom: 0;\r\n}\r\n\r\n& > button{\r\n    overflow: visible;\r\n    text-transform: none;\r\n    font-size: 1.5rem;\r\n    font-weight: 600;\r\n    line-height: 1;\r\n    float: right;\r\n    text-shadow: none;\r\n    transition: all .15s ease;\r\n    border: 0;\r\n    appearance: none;\r\n    cursor: pointer;\r\n    text-decoration: none;\r\n    margin: -1rem -1rem -1rem auto;\r\n    padding: 1.25rem;\r\n    color: rgba(0, 0, 0, .9);\r\n    outline: 0;\r\n    background-color: transparent;\r\n    opacity: .75;\r\n\r\n    & > span{\r\n        color:white;\r\n    }\r\n    \r\n}\r\n`\r\n\r\nconst Body = styled.div`\r\nposition: relative;\r\npadding: 1.5rem;\r\nflex: 1 1 auto;\r\ntext-align: center;\r\n\r\n& > h4{\r\n    font-size: .95rem;\r\n    font-weight: 600;\r\n    letter-spacing: .025em;\r\n    text-transform: uppercase;\r\n}\r\n\r\n\r\n& > i{\r\n    font-size: 3em;\r\n    line-height:5rem;\r\n}\r\n`\r\n\r\nconst Footer = styled.div`\r\ndisplay: flex;\r\npadding: 1.25rem;\r\nborder-top: 0 solid #e9ecef;\r\nborder-bottom-right-radius: .4375rem;\r\nborder-bottom-left-radius: .4375rem;\r\nflex-wrap: wrap;\r\nalign-items: center;\r\njustify-content: flex-end;\r\nborder-color: rgba(255, 255, 255, .075);\r\n`\r\n\r\nconst ErrorButton = styled.button`\r\ncolor: #212529;\r\nborder-color: #fff;\r\nbackground-color: #e6e6e6;\r\nbox-shadow: none;\r\ntext-decoration: none;\r\ncursor: pointer;\r\n\r\n&:hover{\r\n    background-color: #829196;\r\n    color: white;\r\n    border-color: #829196;\r\n    box-shadow: 0 0 0 0.2rem #82919608;\r\n    -webkit-transition: all .5s ease;\r\n    transition: all .5s ease;\r\n    background-color: var(--second-color);\r\n}\r\n`\r\n\r\nconst SafeButton = styled.button`\r\ncolor: #212529;\r\nborder-color: #fff;\r\nbackground-color: #e6e6e6;\r\nbox-shadow: none;\r\ntext-decoration: none;\r\ncursor: pointer;\r\n\r\n&:hover{\r\n    background-color: #5536f5;\r\n    color: white;\r\n    border-color: #829196;\r\n    box-shadow: 0 0 0 0.2rem #82919608;\r\n    -webkit-transition: all .5s ease;\r\n    transition: all .5s ease;\r\n}\r\n`\r\n\r\n\r\nconst Popup = ({type,title,description,icon, onclick, error=true, unsecure}) => {\r\n    const [style, setStyle] = useState({\r\n        opacity: 0,\r\n        transform: \"scale(0.9)\",\r\n        background: error === true ? \"linear-gradient(87deg, #f5365c 0, #f56036 100%)\" : \"linear-gradient(87deg, #6536f5 0px, #36bbf5 100%)\"\r\n    });\r\n\r\n    useEffect(() => {\r\n        setStyle({\r\n            opacity: 1,\r\n            transform: \"translateX(0)\",\r\n            transition: \"opacity 300ms, transform 300ms\",\r\n            background: error === true ? \"linear-gradient(87deg, #f5365c 0, #f56036 100%)\" : \"linear-gradient(87deg, #6536f5 0px, #36bbf5 100%)\"\r\n        })\r\n    },[]);\r\n\r\n    const onCloseEvent = () =>{\r\n        setStyle({\r\n            opacity: 0,\r\n            transform: \"scale(0.9)\",\r\n            transition: \"opacity 300ms, transform 300ms\",\r\n            background: error === true ? \"linear-gradient(87deg, #f5365c 0, #f56036 100%)\" : \"linear-gradient(87deg, #6536f5 0px, #36bbf5 100%)\"\r\n        })\r\n\r\n        setTimeout(()=>{\r\n            onclick && (onclick());\r\n        },150)\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Message  style={style}>\r\n                <Header>\r\n                    <h6></h6>\r\n                    <button onClick={onCloseEvent}><span></span></button>\r\n                </Header>\r\n                <Body>\r\n                    <i className={icon + \" ni-3x\"}></i>\r\n                    <h4>{title}</h4>\r\n                    {unsecure === true ? \r\n                    (<p dangerouslySetInnerHTML={{__html:description}}></p>)\r\n                    :\r\n                    (<p>{description}</p>)\r\n                    }\r\n                </Body>\r\n                <Footer>\r\n                    {error === true ? \r\n                    (<ErrorButton autoFocus className=\"btn\" onClick={onCloseEvent}>Ok, got it</ErrorButton>)\r\n                    :\r\n                    (<SafeButton autoFocus className=\"btn\" onClick={onCloseEvent}>Ok, got it</SafeButton>)\r\n                    }\r\n                </Footer>\r\n            </Message>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Popup\r\n","/**\r\n * Login. js - SMIPTV Web Player Login Component\r\n * \r\n * Description: Beautiful modern login page with animated gradient backgrounds,\r\n *              glassmorphism effects, and smooth animations. \r\n * \r\n * Repository: irlam/webplayer\r\n * Created: 11/01/2026 (UK format:  DD/MM/YYYY)\r\n * Last Modified: 11/01/2026 - Fixed infinite redirect loop\r\n */\r\n\r\nimport React, {useState,useRef,useEffect} from 'react'\r\nimport styled, { keyframes } from 'styled-components';\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {useAuth} from \"../other/auth\"\r\nimport Popup from \"./Popup/Popup\"\r\nimport Cookies from 'js-cookie'\r\n\r\n// Animated gradient background\r\nconst gradientAnimation = keyframes`\r\n    0% {\r\n        background-position: 0% 50%;\r\n    }\r\n    50% {\r\n        background-position: 100% 50%;\r\n    }\r\n    100% {\r\n        background-position: 0% 50%;\r\n    }\r\n`\r\n\r\n// Float animation for the card\r\nconst floatAnimation = keyframes`\r\n    0%, 100% {\r\n        transform:  translateY(0px);\r\n    }\r\n    50% {\r\n        transform: translateY(-10px);\r\n    }\r\n`\r\n\r\n// Glow pulse animation\r\nconst glowPulse = keyframes`\r\n    0%, 100% {\r\n        box-shadow: 0 0 20px rgba(139, 92, 246, 0.3);\r\n    }\r\n    50% {\r\n        box-shadow: 0 0 40px rgba(139, 92, 246, 0.6);\r\n    }\r\n`\r\n\r\nconst Container = styled.div`\r\n    position: absolute;\r\n    width: 100%;\r\n    height:  100%;\r\n    top: 0;\r\n    left:  0;\r\n    background: linear-gradient(-45deg, #1a1a2e, #16213e, #0f3460, #533483);\r\n    background-size: 400% 400%;\r\n    animation:  ${gradientAnimation} 15s ease infinite;\r\n    transition: all . 5s ease;\r\n    overflow: hidden;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    /* Animated background elements */\r\n    &::before {\r\n        content: '';\r\n        position: absolute;\r\n        width: 500px;\r\n        height: 500px;\r\n        background: radial-gradient(circle, rgba(139, 92, 246, 0.1) 0%, transparent 70%);\r\n        border-radius: 50%;\r\n        top: -250px;\r\n        right: -250px;\r\n        animation: ${floatAnimation} 6s ease-in-out infinite;\r\n    }\r\n\r\n    &::after {\r\n        content: '';\r\n        position: absolute;\r\n        width:  400px;\r\n        height: 400px;\r\n        background: radial-gradient(circle, rgba(59, 130, 246, 0.1) 0%, transparent 70%);\r\n        border-radius: 50%;\r\n        bottom: -200px;\r\n        left: -200px;\r\n        animation: ${floatAnimation} 8s ease-in-out infinite reverse;\r\n    }\r\n`\r\n\r\nconst Box = styled.form`\r\n    position: relative;\r\n    width: 90%;\r\n    max-width: 450px;\r\n    padding: 3rem 2.5rem;\r\n    background: rgba(255, 255, 255, 0.05);\r\n    backdrop-filter: blur(20px);\r\n    border-radius:  24px;\r\n    border: 1px solid rgba(255, 255, 255, 0.1);\r\n    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);\r\n    animation: ${floatAnimation} 6s ease-in-out infinite;\r\n    z-index: 10;\r\n\r\n    @media (max-width: 768px) {\r\n        padding: 2rem 1.5rem;\r\n        max-width: 95%;\r\n    }\r\n\r\n    & > h2 {\r\n        color: white;\r\n        text-align: center;\r\n        margin-bottom: 1rem;\r\n        font-weight: 700;\r\n        text-shadow: 0 0 20px rgba(139, 92, 246, 0.5);\r\n    }\r\n\r\n    & > h5 {\r\n        color: rgba(255, 255, 255, 0.8);\r\n        text-align: center;\r\n        margin-bottom: 2rem;\r\n        font-weight:  400;\r\n        font-size: 1rem;\r\n    }\r\n\r\n    & > label {\r\n        color: rgba(255, 255, 255, 0.9);\r\n        font-weight: 500;\r\n        margin-bottom: 0.5rem;\r\n        display: block;\r\n        font-size: 0.95rem;\r\n        letter-spacing: 0.5px;\r\n    }\r\n`\r\n\r\nconst LogoContainer = styled.div`\r\n    text-align: center;\r\n    margin-bottom: 2rem;\r\n    animation: ${glowPulse} 3s ease-in-out infinite;\r\n\r\n    img {\r\n        max-width: 70%;\r\n        max-height: 120px;\r\n        filter: drop-shadow(0 0 20px rgba(139, 92, 246, 0.6));\r\n        transition: transform 0.3s ease;\r\n\r\n        &:hover {\r\n            transform: scale(1.05);\r\n        }\r\n    }\r\n\r\n    @media (max-width: 768px) {\r\n        img {\r\n            max-width: 80%;\r\n            max-height: 100px;\r\n        }\r\n    }\r\n`\r\n\r\nconst Input = styled.input`\r\n    margin-bottom: 1.5rem;\r\n    background: rgba(255, 255, 255, 0.08) ! important;\r\n    border: 1px solid rgba(255, 255, 255, 0.2);\r\n    color: white ! important;\r\n    padding: 0.85rem 1.2rem;\r\n    border-radius: 12px;\r\n    font-size: 1rem;\r\n    transition: all 0.3s ease;\r\n    width: 100%;\r\n\r\n    &:: placeholder {\r\n        color: rgba(255, 255, 255, 0.5);\r\n    }\r\n\r\n    &:focus {\r\n        background: rgba(255, 255, 255, 0.12) !important;\r\n        border-color: #8b5cf6 !important;\r\n        box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.3) !important;\r\n        outline: none;\r\n        transform: translateY(-2px);\r\n    }\r\n\r\n    &:hover {\r\n        border-color: rgba(139, 92, 246, 0.5);\r\n    }\r\n`\r\n\r\nconst Button = styled.button`\r\n    color: #fff;\r\n    background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);\r\n    border: none;\r\n    padding:  1rem;\r\n    border-radius: 12px;\r\n    font-size:  1.1rem;\r\n    font-weight: 600;\r\n    letter-spacing: 0.5px;\r\n    transition: all 0.3s ease;\r\n    width: 100%;\r\n    margin-top: 0.5rem;\r\n    box-shadow: 0 4px 15px rgba(139, 92, 246, 0.4);\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n        background: linear-gradient(135deg, #7c3aed 0%, #4f46e5 100%);\r\n        transform: translateY(-2px);\r\n        box-shadow: 0 6px 20px rgba(139, 92, 246, 0.6);\r\n    }\r\n\r\n    &:active {\r\n        transform:  translateY(0px);\r\n        box-shadow: 0 2px 10px rgba(139, 92, 246, 0.4);\r\n    }\r\n\r\n    &:focus {\r\n        outline: none;\r\n        box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.5);\r\n    }\r\n`\r\n\r\nconst InputGroup = styled.div`\r\n    margin-bottom: 1.2rem;\r\n`\r\n\r\nconst Login = ({url}) => {\r\n\r\n    const [dns, setDns] = useState(\"\");\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [showPopup, setShowPopup] = useState(false);\r\n    const [blur, setBlur] = useState();\r\n    const [m3u8, setM3u8] = useState(window.m3u8warning === true && ! Cookies.get(\"m3u8_play\"));\r\n\r\n    const history = useHistory();\r\n    const auth = useAuth();\r\n\r\n    useEffect(() => {\r\n        if(auth.isAuth())\r\n            history.push(url||\"/\")\r\n        else auth.authLogin(()=>history.push(url||\"/\"))\r\n    },[auth,history]);\r\n\r\n    useEffect(()=>{\r\n        m3u8 ?  setBlur({filter:\"blur(. 3rem)\"}) : setBlur({});\r\n    },[m3u8])\r\n\r\n    const inputRef = useRef(0)\r\n\r\n    const remoteController = (event) => {\r\n        let active = document.activeElement;\r\n        if (event.keyCode === 40 && active. nextSibling) {\r\n            if(active.nextSibling.tagName===\"LABEL\")\r\n                active = active.nextSibling;\r\n            active.nextSibling.focus();\r\n        } else if (event.keyCode === 38 && active.previousSibling) {\r\n            if(active. previousSibling.tagName===\"LABEL\")\r\n                active = active.previousSibling;\r\n            active.previousSibling. focus();\r\n        } else if (event.keyCode === 13)\r\n            active.click();\r\n    }\r\n\r\n    const login = (e) =>{\r\n        e.preventDefault();\r\n        setBlur({filter:\"blur(.3rem)\"})\r\n        auth.signin(dns,username,password,\r\n            () => window.location=\"/\"\r\n            ,\r\n            (title,description) => {\r\n                setShowPopup({title: title,description:description});\r\n            }\r\n        )\r\n    }\r\n\r\n    const closePopup = () =>{\r\n        setBlur({filter:\"blur(0)\"});\r\n        setShowPopup(false);\r\n        inputRef.current.focus();\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Container style={blur}>\r\n            <Box onKeyDown={remoteController} onSubmit={login}>\r\n                <LogoContainer>\r\n                    <img src=\"/img/banner_w. png\" alt={window.playername} />\r\n                </LogoContainer>\r\n\r\n                <h5>Enter your credentials to continue</h5>\r\n\r\n                {! window.dns && (\r\n                    <InputGroup>\r\n                        <label>Provider URL</label>\r\n                        <Input \r\n                            ref={inputRef} \r\n                            className=\"form-control\" \r\n                            type=\"text\" \r\n                            spellCheck={false} \r\n                            placeholder=\"https://provider.com\" \r\n                            name=\"dns\" \r\n                            autoFocus \r\n                            onChange={(e)=> setDns(e.target. value)} \r\n                            value={dns} \r\n                        />\r\n                    </InputGroup>\r\n                )}\r\n\r\n                <InputGroup>\r\n                    <label>Username</label>\r\n                    <Input \r\n                        ref={window.dns ? inputRef : null} \r\n                        className=\"form-control\" \r\n                        type=\"text\" \r\n                        spellCheck={false} \r\n                        placeholder=\"Enter your username\" \r\n                        name=\"username\" \r\n                        autoFocus={!! window.dns}\r\n                        onChange={(e)=> setUsername(e.target.value)} \r\n                        value={username} \r\n                    />\r\n                </InputGroup>\r\n\r\n                <InputGroup>\r\n                    <label>Password</label>\r\n                    <Input \r\n                        className=\"form-control\" \r\n                        type=\"password\" \r\n                        spellCheck={false} \r\n                        placeholder=\"\" \r\n                        name=\"password\" \r\n                        onChange={(e)=> setPassword(e.target.value)} \r\n                        value={password}\r\n                    />\r\n                </InputGroup>\r\n\r\n                <Button type=\"button\" value=\"1\" onClick={login} className=\"btn\">\r\n                    Sign In\r\n                </Button>\r\n            </Box>\r\n        </Container>\r\n        {showPopup && <Popup unsecure={true} title={showPopup.title} description={showPopup.description} icon={\"fas fa-user-times\"} onclick={closePopup}/>}\r\n        {m3u8 && (\r\n            <Popup unsecure={true} error={false} title={\"Information\"} description={\"To login use your IPTV playlist username and password, not your email. <br/>Web Player can play live channels streams only in M3U8 format. <br/>The conversion will be done automatically if streams are in Xtreamcodes format (this won't affect your playlist).\"} icon={\"fas fa-info-circle\"} onclick={()=> {Cookies.set(\"m3u8_play\",1,{ expires: 365 }); setM3u8(! m3u8);}}/>\r\n        )}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Login","import React, {useState, useEffect} from \"react\"\r\nimport  {useHistory, useLocation}  from 'react-router-dom'\r\nimport \"./LateralBar.css\"\r\n\r\n\r\nconst LateralBar = () => {\r\n    const [navbar,setNavbar] = useState(false)\r\n    //const keyboard = Keyboard();\r\n\r\n    const location = useLocation();\r\n    const history = useHistory()\r\n\r\n    useEffect(()=>{\r\n        setNavbar(location.pathname.includes(\"menu\"))\r\n    },[location.pathname])\r\n\r\n\r\n    return (\r\n        <>\r\n        {/*window.gSTB && (\r\n        <LateralBarTv>\r\n            <div>\r\n                <Button style={location.pathname.includes(\"live\") ? {borderColor:\"var(--second-color)\"}:{}}>\r\n                    <i className=\"fas fa-tv\"></i>\r\n                </Button>\r\n                <Button style={location.pathname.includes(\"movie\") ? {borderColor:\"var(--second-color)\"}:{}}>\r\n                    <i className=\"fas fa-film\"></i>\r\n                </Button>\r\n                <Button style={location.pathname.includes(\"series\") ? {borderColor:\"var(--second-color)\"}:{}}>\r\n                    <i className=\"fas fa-video\"></i>\r\n                </Button>\r\n            </div>\r\n        </LateralBarTv>\r\n        )*/}\r\n        <div className={`netflix-nav netflix-nav-black ${navbar ? \"visible\" : \"\"}`}>\r\n        \t<div className={`netflix-nav netflix-nav-red ${navbar ? \"visible\" : \"\"}`}>\r\n        \t\t<div className={`netflix-nav netflix-nav-white ${navbar ? \"visible\" : \"\"}`}>\r\n\r\n        \t\t\t<button className=\"netflix-nav-btn netflix-close-btn\" onClick={()=>history.goBack()}><i className=\"fas fa-times\"></i></button>\r\n\r\n        \t\t\t<img className=\"netflix-logo\" src=\"/img/banner_b.png\" alt=\"Player Logo\" />\r\n\r\n        \t\t\t<ul className=\"netflix-list\">\r\n                    <li>\r\n                        <button className=\"lateral-focus\" onClick={()=>{!location.pathname.includes(\"live\") && (history.replace(\"/live/\"))}}>\r\n                        <i className=\"fas fa-tv mr-1\"></i>Live Channels\r\n                        </button>\r\n                    </li>\r\n                    {location.pathname.includes(\"live\") && (\r\n                    <li>\r\n        \t\t\t\t<ul>\r\n                            <li>\r\n                                <button className=\"lateral-focus\" onClick={()=>history.replace(location.pathname.replace(\"menu\",location.pathname.replace(\"menu\",\"search\")))}>\r\n                                <i className=\"fas fa-search mr-2\"></i>\r\n                                Search\r\n                                </button>\r\n                            </li>\r\n                            <li>\r\n                                <button className=\"lateral-focus\" onClick={()=>history.replace(location.pathname.replace(\"menu\",\"tvguide\"))}>\r\n                                <i className=\"fas fa-tv mr-2\"></i>\r\n                                TV Guide\r\n                                </button>\r\n                            </li>\r\n                            <li>\r\n                                <button className=\"lateral-focus\" onClick={()=>history.replace(\"/live/category/\")}>\r\n                                <i className=\"fas fa-grip-lines mr-2\"></i>\r\n                                Select category\r\n                                </button>\r\n                            </li>\r\n        \t\t\t\t</ul>\r\n        \t\t\t</li>)}\r\n\r\n\r\n                    <li>\r\n                        <button className=\"lateral-focus\" onClick={()=>{!location.pathname.includes(\"movie\") && (history.replace(\"/movie/\"))}}>\r\n                        <i className=\"fas fa-film mr-1\"></i>Movies\r\n                        </button>\r\n                    </li>\r\n                    {location.pathname.includes(\"movie\") && (\r\n                    <li>\r\n        \t\t\t\t<ul>\r\n                            <li>\r\n                                <button className=\"lateral-focus\" onClick={()=>history.replace(location.pathname.replace(\"menu\",\"search\"))}>\r\n                                <i className=\"fas fa-search mr-2\"></i>\r\n                                Search\r\n                                </button>\r\n                            </li>\r\n                            <li>\r\n                                <button className=\"lateral-focus\" onClick={()=>history.replace(\"/movie/category/\")}>\r\n                                <i className=\"fas fa-grip-lines mr-2\"></i>\r\n                                Select category\r\n                                </button>\r\n                            </li>\r\n        \t\t\t\t</ul>\r\n        \t\t\t</li>)}\r\n\r\n\r\n                    <li>\r\n                        <button className=\"lateral-focus\" onClick={()=>!location.pathname.includes(\"series\") && history.replace(\"/series/\")}>\r\n                        <i className=\"fas fa-video mr-2\"></i>\r\n                        TV Series\r\n                        </button>\r\n                    </li>\r\n                    {location.pathname.includes(\"series\") && (\r\n                    <li>\r\n        \t\t\t\t<ul>\r\n                            <li>\r\n                                <button className=\"lateral-focus\" onClick={()=>history.replace(location.pathname.replace(\"menu\",\"search\"))}>\r\n                                <i className=\"fas fa-search mr-2\"></i>\r\n                                Search\r\n                                </button>\r\n                            </li>\r\n                            <li>\r\n                                <button className=\"lateral-focus\" onClick={()=>history.replace(location.pathname.replace(\"menu\",\"/series/category/\"))}>\r\n                                <i className=\"fas fa-grip-lines mr-2\"></i>\r\n                                Select category\r\n                                </button>\r\n                            </li>\r\n        \t\t\t\t</ul>\r\n        \t\t\t</li>)}\r\n                    <li>\r\n                        <button className=\"lateral-focus\" onClick={()=>history.replace(\"/info/\")}>\r\n                        <i className=\"fas fa-user-alt mr-2\"></i>\r\n                        Account info\r\n                        </button>\r\n                    </li>\r\n        \t\t\t</ul>\r\n        \t\t</div>\r\n        \t</div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default LateralBar\r\n","import React,{useEffect, useRef } from 'react'\r\nimport styled from \"styled-components\"\r\nimport {useSelector} from \"react-redux\"\r\n\r\n\r\nconst ProgressEpg = styled.div`\r\ndisplay: flex;\r\nheight: .2rem;\r\noverflow: hidden;\r\nfont-size: .75rem;\r\nbackground-color: black;\r\n`\r\n\r\nconst ProgressBar = styled.div`\r\ndisplay: -ms-flexbox;\r\ndisplay: flex;\r\n-ms-flex-direction: column;\r\nflex-direction: column;\r\n-ms-flex-pack: center;\r\njustify-content: center;\r\noverflow: hidden;\r\ncolor: #fff;\r\ntext-align: center;\r\nwhite-space: nowrap;\r\ntransition: width .6s ease;\r\n`\r\n\r\nconst ChannelEpgBar = ({start,stop, isPlaying}) => {\r\n    const timer = useSelector(state => state.timer5);\r\n\r\n    const progress = useRef(0);\r\n    const progressEpgStyle = !start ? {\r\n        visibility: \"hidden\",\r\n        paddingTop: \".2rem\"\r\n    } : {};\r\n\r\n    const ProgressBarStyle = isPlaying ? {\r\n        backgroundColor: \"#fff\",\r\n        border: \"1px solid #829196\"\r\n    } : {\r\n        backgroundColor: \"#829196\"\r\n    };\r\n    ProgressBarStyle.width = (start ? ((timer-start)/(stop-start))*100 + \"%\" : 0);\r\n\r\n    useEffect(() => {\r\n        if(start)\r\n            progress.current && (progress.current.style.width = ((timer-start)/(stop-start))*100 + \"%\");\r\n        else progress.current && (progress.current.style.width = 0);\r\n    }, [isPlaying,timer,start,stop]);\r\n\r\n    return (\r\n        <ProgressEpg style={progressEpgStyle}>\r\n            <ProgressBar role=\"progressbar\" ref={progress} style={ProgressBarStyle} className={\"progressBar\"}></ProgressBar>\r\n        </ProgressEpg>\r\n    )\r\n}\r\n\r\nexport default ChannelEpgBar\r\n","export function optimizeName(name) {\r\n   name = name.replace(\"\\r\", \"\").replace(/(-\\s*\\d{2,4})|vod|fhd|hd|360p|4k|h264|h265|24fps|60fps|720p|1080p|vod|x264|x265|\\.avi|\\.mp4|\\.mkv|\\[.*]|\\(.*\\)|\\{.*\\}|-|_|\\./gim, \" \").replace(/(- \\d\\d\\d\\d$)/, \"\");\r\n   name = name.replace(\"   \", \" \");\r\n   name = name.replace(\"  \", \" \");\r\n   return name.trim();\r\n}\r\n\r\nexport function secondsToHms(d) {\r\n   d = Number(d);\r\n   var h = Math.floor(d / 3600);\r\n   var m = Math.floor(d % 3600 / 60);\r\n   var s = Math.floor(d % 3600 % 60);\r\n   return `${h}:${m < 10 ? `0${m}` : m}:${s < 10 ? `0${s}` : s}`;\r\n}\r\n\r\nexport function createMovieInfo(name, image, tmdbId = -1, releaseDate = \"\", coverBig = \"\", youtubeTrailer = \"\", director = \"\", actors = \"\", cast = \"\", description = \"\", plot = \"\", age = \"\", country = \"\", genre = \"\", backdropPath = \"\", durationSecs = 0, duration = \"\", rating10 = 0, status = \"Released\", runtime = 0) {\r\n   return {\r\n      \"info\": {\r\n         \"name\": name,\r\n         \"tmdb_id\": tmdbId,\r\n         \"cover_big\": coverBig,\r\n         \"movie_image\": image,\r\n         \"releasedate\": releaseDate,\r\n         \"youtube_trailer\": youtubeTrailer,\r\n         \"director\": director,\r\n         \"actors\": actors,\r\n         \"cast\": cast,\r\n         \"description\": description,\r\n         \"plot\": plot,\r\n         \"age\": age,\r\n         \"country\": country,\r\n         \"genre\": genre,\r\n         \"backdrop_path\": [\r\n            backdropPath\r\n         ],\r\n         \"duration_secs\": durationSecs,\r\n         \"duration\": duration,\r\n         \"rating\": rating10,\r\n         \"status\": status,\r\n         \"runtime\": runtime\r\n      },\r\n   }\r\n}\r\n\r\nexport function createEpisode(url, id, season, episode_number, duration_sec = 0, duration = \"\", title = \"\", airdate = \"\", crew = \"\", rating = \"0\", image = \"\", overview) {\r\n   return {  //season\r\n      \"episode_num\": episode_number,\r\n      \"title\": title === \"\" ? `Episode ${episode_number}` : title,\r\n      \"container_extension\": \"mp4\",\r\n      \"url\": url,\r\n      \"id\": id,\r\n      \"overview\": overview,\r\n      \"info\": {\r\n         \"air_date\": airdate,\r\n         \"crew\": crew,\r\n         \"rating\": parseInt(rating),\r\n         \"id\": id,\r\n         \"movie_image\": image,\r\n         \"duration_secs\": duration_sec,\r\n         \"duration\": duration,\r\n      },\r\n      \"season\": season,\r\n   }\r\n}","import {optimizeName, secondsToHms, createMovieInfo, createEpisode} from \"./vod-series-name-optimizer\"\r\nimport * as axios from \"./axios\";\r\n\r\nexport async function getVodTmdbData(name, existingTmdb){\r\n    const language = navigator.language || navigator.userLanguage; \r\n    name = optimizeName(name);\r\n\r\n    if(!window.tmdb){\r\n      return createMovieInfo(name)\r\n    }\r\n\r\n    let tmdb = existingTmdb || await axios.get(`https://api.themoviedb.org/3/search/movie${language ? `?language=${language.toLowerCase()}&`:\"?\"}api_key=${window.tmdb}&query=${encodeURI(name)}`\r\n    ,{ headers: { 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.55 Safari/537.36 Edg/86.0.622.28' }  } ).catch(err=> {return null});;\r\n    \r\n    if(existingTmdb || (tmdb && tmdb.data && tmdb.data.results.length>0)){\r\n       let tmdbId = existingTmdb || tmdb.data[\"results\"][0][\"id\"];\r\n       tmdb = await axios.get(`https://api.themoviedb.org/3/movie/${tmdbId}${language ? `?language=${language.toLowerCase()}&`:\"?\"}api_key=${window.tmdb}&append_to_response=images,credits,videos`,\r\n       { headers: { 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.55 Safari/537.36 Edg/86.0.622.28' }  } ).catch(err=> {return null});;\r\n    \r\n       if(tmdb && tmdb.data && !tmdb.data.success){\r\n          tmdb = tmdb.data;\r\n          \r\n          let imageVod = \"\";\r\n          let coverBig = \"\", durationSecs = 0, duration = \"\", rating10 = 0;\r\n          let youtubeTrailer = \"\", releaseDate = \"\";\r\n          let director = \"\", actors = \"\", cast = \"\", description = \"\", plot = \"\", age = \"\";\r\n          let country = \"\", genre = \"\", backdropPath = \"\", status = \"Released\", runtime = 0;\r\n    \r\n          if(tmdb.title)\r\n             name = tmdb.title;\r\n          if(tmdb.poster_path){\r\n             imageVod = `https://image.tmdb.org/t/p/original${tmdb.poster_path}`;\r\n          }\r\n          if(tmdb.images && tmdb.images.backdrops && tmdb.images.backdrops.length>0){\r\n             coverBig = `https://image.tmdb.org/t/p/original${tmdb.images.backdrops[0].file_path}`;\r\n          }\r\n          if(tmdb.status)\r\n             status = tmdb.status;\r\n          if(tmdb.runtime){\r\n             runtime = tmdb.runtime;\r\n             durationSecs = runtime*60;\r\n             duration = secondsToHms(durationSecs);\r\n          }\r\n          if(tmdb.vote_average)\r\n             rating10 = tmdb.vote_average;\r\n          if(tmdb.videos && tmdb.videos.results && tmdb.videos.results.length >0){\r\n             let trailer = tmdb.videos.results.find(x=> x.type === \"Trailer\") || tmdb.videos.results.find(x=> x.type === \"Teaser\");\r\n             if(trailer)\r\n                youtubeTrailer = trailer.key;\r\n          }\r\n          if(tmdb.release_date){\r\n             releaseDate = tmdb.release_date;\r\n             age = `${parseInt((new Date() - new Date(releaseDate))/(1000*60*60*24))} days ago`;\r\n          }\r\n          if(tmdb.credits && tmdb.credits.cast){\r\n             cast = tmdb.credits.cast.map(x=>x.name).join(', ');\r\n             actors = cast;\r\n          }\r\n          if(tmdb.credits && tmdb.credits.crew){\r\n             let crew = tmdb.credits.crew.filter(x=> x.job === \"Director\");\r\n             if(crew){\r\n                director = crew.map(x=>x.name).join(', ');\r\n             }\r\n          }\r\n          if(tmdb.overview){\r\n             description = tmdb.overview;\r\n             plot = description;\r\n          }\r\n          if(tmdb.production_countries && tmdb.production_countries.length>0){\r\n             country = tmdb.production_countries[0].name;\r\n          }\r\n          if(tmdb.genres)\r\n             genre = tmdb.genres.map(x=>x.name).join(', ');\r\n          if(tmdb.backdrop_path)\r\n             backdropPath = `https://image.tmdb.org/t/p/original${tmdb.backdrop_path}`;\r\n          return createMovieInfo(name, imageVod, tmdbId, releaseDate, coverBig,youtubeTrailer,director,actors, cast, description, plot, age, country, genre, backdropPath, durationSecs, duration, rating10, status, runtime)\r\n       }else return null;\r\n    }else return null;\r\n}\r\n\r\n\r\nexport async function getSeriesTmdbData(name, streams, existingTmdb) {\r\n   const language = navigator.language || navigator.userLanguage;\r\n   name = optimizeName(name);\r\n\r\n   let info = {};\r\n   let episodes = {};\r\n\r\n   let tmdb = existingTmdb || await axios.get(`https://api.themoviedb.org/3/search/tv${language ? `?language=${language.toLowerCase()}&`:\"?\"}api_key=${window.tmdb}&query=${encodeURI(name)}`, {\r\n      headers: {\r\n         'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.55 Safari/537.36 Edg/86.0.622.28'\r\n      }\r\n   }).catch(err => {\r\n      return null\r\n   });;\r\n\r\n   if (existingTmdb || (tmdb && tmdb.data && tmdb.data.results.length > 0)) {\r\n      const tmdbId = existingTmdb || tmdb.data[\"results\"][0][\"id\"];\r\n      let seasons = \"\";\r\n      streams && streams.length > 0  && (seasons =  Array.from(new Set(streams.map(x => x.season))).map(x=> `\",season/${x}`))\r\n      tmdb = await axios.get(`https://api.themoviedb.org/3/tv/${tmdbId}${language ? `?language=${language.toLowerCase()}&`:\"?\"}api_key=${window.tmdb}&append_to_response=images,credits,videos${seasons}`, {\r\n         headers: {\r\n            'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.55 Safari/537.36 Edg/86.0.622.28'\r\n         }\r\n      }).catch(err => {\r\n         return null\r\n      });;\r\n\r\n      if (tmdb && tmdb.data && !tmdb.data.success) {\r\n         tmdb = tmdb.data;\r\n         if (tmdb.name)\r\n            info.name = tmdb.name;\r\n         if (tmdb.poster_path)\r\n            info.cover = `https://image.tmdb.org/t/p/original${tmdb.poster_path}`;\r\n         if (tmdb.credits && tmdb.credits.cast)\r\n            info.cast = tmdb.credits.cast.map(x => x.name).join(', ');\r\n         if (tmdb.created_by)\r\n            info.director = tmdb.created_by.map(x => x.name).join(', ');\r\n         if (tmdb.genres)\r\n            info.genre = tmdb.genres.map(x => x.name).join(', ');\r\n         if (tmdb.first_air_date)\r\n            info.releaseDate = tmdb.last_air_date;\r\n         if (tmdb.vote_average) {\r\n            info.rating = tmdb.vote_average.toString();\r\n            info.rating_5based = tmdb.vote_average / 2;\r\n         }\r\n         if (tmdb.backdrop_path)\r\n            info.backdrop_path = [`https://image.tmdb.org/t/p/original${tmdb.backdrop_path}`];\r\n         if (tmdb.videos && tmdb.videos.length > 0) {\r\n            let trailer = tmdb.videos.find(x => x.Type === \"Trailer\");\r\n            if (trailer)\r\n               info.youtube_trailer = trailer.key;\r\n         }\r\n         if (tmdb.episode_run_time && tmdb.episode_run_time > 0)\r\n            info.episode_run_time = tmdb.episode_run_time[0].toString();\r\n\r\n         let duration_secEp = info.episode_run_time ? info.episode_run_time * 60 : 0;\r\n         let durationEp = info.episode_run_time ? info.episode_run_time.toString() : 0;\r\n\r\n\r\n         if (streams && streams.length > 0) {\r\n            Array.from(new Set(streams.map(x => x.season))).forEach(season => {\r\n               const eps = streams.filter(ch => parseInt(ch.season) === parseInt(season)).sort(function (a, b) {\r\n                  return a.episode - b.episode\r\n               });\r\n               episodes[season.toString()] = [];\r\n\r\n               eps.forEach(ep => {\r\n                  if (tmdb[`season/${season}`]) {\r\n                     let titleEp = \"\";\r\n                     let airdateEp = \"\";\r\n                     let crewEp = \"\";\r\n                     let ratingEp = \"0\";\r\n                     let imageEp = \"\";\r\n                     let overview = \"\";\r\n                     const epData = tmdb[`season/${season}`].episodes.find(x => parseInt(x.episode_number) === parseInt(ep.episode));\r\n                     if (epData) {\r\n                        titleEp = epData.name;\r\n                        airdateEp = tmdb[`season/${season}`].air_date;\r\n                        if (epData.crew)\r\n                           crewEp = epData.crew.map(x => x.name).join(',');\r\n                        if (epData.vote_average)\r\n                           ratingEp = (epData.vote_average / 2).toString();\r\n                        imageEp = epData.still_path ? `https://image.tmdb.org/t/p/original${epData.still_path}` : \"\";\r\n                        overview = epData.overview;\r\n                        episodes[season.toString()].push(createEpisode(ep.direct_source || ep.url, ep.id, ep.season, ep.episode, duration_secEp, durationEp, titleEp, airdateEp, crewEp, ratingEp, imageEp, overview));\r\n                     } else episodes[season.toString()].push(createEpisode(ep.direct_source || ep.url, ep.id, ep.season, ep.episode, duration_secEp, durationEp));\r\n                  } else {\r\n                     episodes[season.toString()].push(createEpisode(ep.direct_source || ep.url, ep.id, ep.season, ep.episode, duration_secEp, durationEp));\r\n                  }\r\n               });\r\n            })\r\n         }\r\n      } else {\r\n         if (streams && streams.length > 0) {\r\n            Array.from(new Set(streams.map(x => x.season))).forEach(season => {\r\n               const eps = streams.filter(ch => parseInt(ch.season) === parseInt(season)).sort(function (a, b) {\r\n                  return a.episode - b.episode\r\n               });\r\n               episodes[season.toString()] = [];\r\n\r\n               eps.forEach(ep => {\r\n                  episodes[season.toString()].push(createEpisode(ep.direct_source || ep.url, ep.id, ep.season, ep.episode));\r\n               });\r\n            })\r\n         }\r\n      }\r\n   } else if (streams && streams.length > 0) {\r\n      Array.from(new Set(streams.map(x => x.season))).forEach(season => {\r\n         const eps = streams.filter(ch => parseInt(ch.season) === parseInt(season)).sort(function (a, b) {\r\n            return a.episode - b.episode\r\n         });\r\n         episodes[season.toString()] = [];\r\n\r\n\r\n         eps.forEach(ep => {\r\n            episodes[season.toString()].push(createEpisode(ep.direct_source || ep.url, ep.id, ep.season, ep.episode));\r\n         });\r\n      })\r\n   }\r\n   return {\r\n      \"info\": info,\r\n      \"episodes\": episodes\r\n   }\r\n}\r\n\r\nexport function clearEpisodeName(seriesName, data){\r\n   if(!data || !data.episodes)\r\n      return;\r\n   Object.keys(data.episodes).forEach(season=>{\r\n      data.episodes[season].forEach(ep=>{\r\n         ep.title = ep.title.replace(seriesName,\"\").replace(/S\\d{1,2}E\\d{1,2}/,\"\").trim();\r\n         if(!ep.title || ep.title === \"-\")\r\n            ep.title = \"Episode \" + (ep.episode_num || ep.episode)\r\n      })\r\n   })\r\n}","export const groupBy = (list, id) => {\r\n    return list.reduce(function(results, item) {\r\n        (results[item[id]] = results[item[id]] || []).push(item);\r\n        return results;\r\n    }, {})\r\n}","import * as axios from \"./axios\";\r\nimport { getInfo } from \"./user_info\"\r\nimport { getVodTmdbData, getSeriesTmdbData, clearEpisodeName } from \"./tmdb\"\r\nimport { downloadEpgDataFromCategories } from \"./epg-database\";\r\nimport { groupBy } from './group-by';\r\nimport Axios from \"axios\";\r\n\r\nexport async function loadGroup(mode) {\r\n    return await axios.post(\"player_api.php\", {\r\n        username: getInfo().username,\r\n        password: getInfo().password,\r\n        action: getAddress(mode, true)\r\n    }).then(res => res.data).catch(err => [])\r\n}\r\n\r\nexport async function loadPlaylist(mode, group) {\r\n    const result = await axios.post(\"player_api.php\", {\r\n        username: getInfo().username,\r\n        password: getInfo().password,\r\n        action: getAddress(mode, false),\r\n        category_id: isNaN(group) ? \"*\" : group\r\n    }).then(res => res.data).catch(err => [])\r\n    if (mode === \"live\" && !isNaN(group) && axios.getIsIptveditor() === true) {\r\n        await downloadEpgDataFromCategories(result)\r\n    }\r\n    //else if(mode===\"movie\")\r\n    //    result.data = result.data.sort((a,b)=>b.added-a.added)\r\n    //else if(mode===\"series\")\r\n    //    result.data = result.data.sort((a,b)=>b.last_modified-a.last_modified)\r\n    return result;\r\n}\r\n\r\nexport async function loadEpg(epg_id, limit = 1) {\r\n    let now = new Date();\r\n\r\n    if (axios.getIsIptveditor() === true) return [];\r\n\r\n    return await axios.post(\"/epg.php\", {\r\n        username: getInfo().username,\r\n        password: getInfo().password,\r\n        action: \"get_simple_data_table\",\r\n        epg_id: epg_id,\r\n        limit: limit,\r\n        start: parseInt(new Date(now.getFullYear(), now.getMonth(), now.getDate() + limit - 1, 0, 0, 0, 0).getTime() / 1000),\r\n        stop: parseInt(new Date(now.getFullYear(), now.getMonth(), now.getDate() + limit - 1, 23, 59, 59, 9999).getTime() / 1000),\r\n    }, true).catch(err => [])\r\n        .then(result => {\r\n            return result.data;\r\n        });\r\n}\r\n\r\n\r\nexport async function loadEpgArray(epg_ids, limit = 2) {\r\n    if (axios.getIsIptveditor() === false) return []\r\n    let now = new Date();\r\n    const programmes = [];\r\n\r\n    const set = new Set()\r\n    const map = {}\r\n\r\n    epg_ids.filter(x=>!!x).forEach(x=> {\r\n        const id = x.replace(/\\.(plus|minus)\\d+$/,\"\")\r\n        set.add(id)\r\n\r\n        const shift = x.match(/\\.(plus|minus)(?<number>\\d+)$/)\r\n        if(shift && shift.groups){\r\n            const list = map[id] || []\r\n            list.push(shift.groups.number)\r\n            map[id] = list\r\n        }\r\n    })\r\n    epg_ids = Array.from(set)\r\n\r\n    for (let i = 0, j = epg_ids.length; i < j; i += 50) {\r\n        let sliced = epg_ids.slice(i, i + 50)\r\n\r\n        const result = await Axios.post( `${process.env.REACT_APP_IPTVEDITOR_API}webplayer`, {\r\n                username: getInfo().username,\r\n            password: getInfo().password,\r\n            action: \"get_simple_data_table_array\",\r\n            epg_ids: sliced,\r\n            limit: limit,\r\n            start: parseInt(new Date(now.getFullYear(), now.getMonth(), now.getDate() + limit - 1, 0, 0, 0, 0).getTime() / 1000),\r\n            stop: parseInt(new Date(now.getFullYear(), now.getMonth(), now.getDate() + limit - 1, 23, 59, 59, 9999).getTime() / 1000),\r\n        }).then(result=> result.data).catch(err=> [])\r\n        \r\n        Object.keys(map).filter(c=> sliced.includes(c)).forEach(c=>{\r\n            const pgs = result.filter(x=>x.id === c)\r\n            map[c].forEach(shift => {\r\n                const id = c + (shift > 0 ? `.plus${shift}` : `.minus${shift}`)\r\n                pgs.forEach(p=> result.push({\r\n                    ...p,\r\n                    id,\r\n                    start: p.start + (shift * 3600),\r\n                    stop: p.stop + (shift * 3600)\r\n                }))\r\n            })\r\n            \r\n        })\r\n\r\n        result.forEach(p=> programmes.push(p))\r\n    }\r\n\r\n    const toReturn = groupBy(programmes, \"id\")\r\n\r\n    return toReturn;\r\n}\r\n\r\nexport async function getVodInfo(vod_id, name, existingTmdb) {\r\n    let result = null;\r\n    if (axios.getIsIptveditor() === false) {\r\n        result = await axios.post(\"player_api.php\", {\r\n            username: getInfo().username,\r\n            password: getInfo().password,\r\n            action: \"get_vod_info\",\r\n            vod_id: vod_id,\r\n        }).catch(err => null)\r\n            .then(result => {\r\n                return result.data;\r\n            });\r\n    }\r\n\r\n    if (result && result.info && result.info.cover_big)\r\n        return result;\r\n\r\n    return await getVodTmdbData(name, existingTmdb)\r\n}\r\n\r\nexport async function getSeriesInfo(series_id, name, only_info, existingTmdb) {\r\n    let result = null;\r\n    if (axios.getIsIptveditor() === false || only_info === false) {\r\n        result = await axios.post(\"player_api.php\", {\r\n            username: getInfo().username,\r\n            password: getInfo().password,\r\n            action: \"get_series_info\",\r\n            series_id: series_id,\r\n        }).catch(err => null)\r\n            .then(result => {\r\n                if (result.data && Array.isArray(result.data)) {\r\n                    result.data.forEach(x => {\r\n                        if (!x.episode_num && x.episode)\r\n                            x.episode_num = x.episode\r\n                    })\r\n                }\r\n                return result.data;\r\n            });\r\n    }\r\n\r\n    if (axios.getIsIptveditor() === true)\r\n        return await getSeriesTmdbData(name, result, existingTmdb)\r\n    else if (only_info === false)\r\n        clearEpisodeName(name, result)\r\n    return result;\r\n}\r\n\r\n\r\nconst getAddress = (mode, group) => {\r\n    switch (mode) {\r\n        case \"live\":\r\n            if (!group)\r\n                return \"get_live_streams\"\r\n            else return \"get_live_categories\"\r\n        case \"movie\":\r\n            if (!group)\r\n                return \"get_vod_streams\"\r\n            else return \"get_vod_categories\"\r\n        case \"series\":\r\n            if (!group)\r\n                return \"get_series\"\r\n            else return \"get_series_categories\"\r\n        default:\r\n            return \"\";\r\n    }\r\n}\r\n\r\n\r\n","import { loadEpg, loadEpgArray } from \"./load-playlist\"\r\nimport { getIsIptveditor } from \"./axios\"\r\n\r\nconst epgMap = new Map();\r\n/*\r\nepgMap (map -> key id string)\r\n------id (string -> object)\r\n------------day1  (object -> array)\r\n------------------title\r\n------------------description\r\n------------------start\r\n------------------end\r\n\r\n------------day2\r\n------------------title\r\n------------------description\r\n------------------start\r\n------------------end\r\n\r\n------------day3\r\n------------------title\r\n------------------description\r\n------------------start\r\n------------------end\r\n*/\r\n\r\n\r\nexport async function downloadEpgData(chId, epgId, limit = 1, shift = 0) {\r\n    if(epgId === \"NULL\" || !epgId)\r\n        return []\r\n    let available = isAvailable(epgId, limit);\r\n\r\n    if (available === -1 || !epgId)\r\n        return [];\r\n    else if (available === 1)\r\n        return getEpg(epgId, limit, shift);\r\n    else {\r\n        await loadEpg(epgId, limit).then(result => {\r\n            if (!result)\r\n                return null;\r\n            result = result.epg_listings;\r\n            if (result && result.length > 0) {\r\n                result = convertEpgListing(result);\r\n\r\n                const dataset = epgMap.has(epgId) ? epgMap.get(epgId) : { days: {}, data: [] }\r\n                mergeDay(dataset, result, limit);\r\n                epgMap.set(epgId, dataset)\r\n\r\n            } else {\r\n                if (epgMap.has(epgId)) {\r\n                    if (!epgMap.get(epgId))\r\n                        return [];\r\n                    if (!epgMap.get(epgId).days)\r\n                        epgMap.get(epgId).days = {}\r\n                    epgMap.get(epgId).days[limit] = false;\r\n                } else if (limit === 1)\r\n                    epgMap.set(epgId, false);\r\n                else {\r\n                    let obj = { days: {}, data: [] };\r\n                    obj.days[limit] = false;\r\n                    epgMap.set(epgId, obj);\r\n                }\r\n                return [];\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport function isAvailable(id, day = 1) {\r\n    if (epgMap.has(id)) {\r\n        if (!epgMap.get(id).days || !epgMap.get(id).days[day])\r\n            return 0;\r\n        else if (epgMap.get(id).days[day] === false)\r\n            return -1\r\n        else if (epgMap.get(id).days[day] === true)\r\n            return 1;\r\n    }\r\n    return 0;\r\n}\r\n\r\n\r\n/*\r\nepgs_multiple:[\r\n    {id: \"ciao.it\", data:[{title:\"....\"}]}\r\n]\r\n*/\r\n\r\nexport async function downloadEpgDataFromCategories(channels) {\r\n    const limit = 1\r\n    let epgIds = Array.from(new Set(channels.map(x => x.epg_channel_id))).filter(x=>x && x !== \"NULL\")\r\n    let toDownload = isAvailableArray(epgIds);\r\n\r\n    if (toDownload.length === 0)\r\n        return;\r\n    else {\r\n        const result = await loadEpgArray(toDownload, limit)\r\n        toDownload.forEach(id => {\r\n            let data = result[[id]]\r\n            if (data && data.length > 0) {\r\n                data = convertEpgListing(data);\r\n                const dataset = epgMap.has(id) ? epgMap.get(id) : { days: {}, data: [] }\r\n                mergeDay(dataset, data, limit);\r\n                epgMap.set(id, dataset)\r\n            } else {\r\n                if (epgMap.has(id)) {\r\n                    if (!epgMap.get(id)){\r\n\r\n                    }\r\n                    if (!epgMap.get(id).days)\r\n                        epgMap.get(id).days = {}\r\n                    epgMap.get(id).days[limit] = false;\r\n                } else if (limit === 1)\r\n                    epgMap.set(id, false);\r\n                else {\r\n                    let obj = { days: {}, data: [] };\r\n                    obj.days[limit] = false;\r\n                    epgMap.set(id, obj);\r\n                }\r\n            }\r\n        })\r\n\r\n    }\r\n}\r\n\r\n\r\nexport function isAvailableArray(ids) {\r\n    const toReturn = []\r\n    ids.forEach(id => {\r\n        if (!epgMap.has(id)) {\r\n            toReturn.push(id)\r\n        }\r\n    })\r\n    return toReturn\r\n}\r\n\r\n\r\n\r\nexport function getEpg(id, day = 1, shift = 0) {\r\n    if (!id || isAvailable(id, day) !== 1)\r\n        return [];\r\n    let arr = epgMap.get(id).data.map((x) => ({ ...x }));;\r\n\r\n    let start = new Date();\r\n    start.setHours(0, 0, 0, 0);\r\n    start = start.getTime() + ((day - 1) * 3600000 * 24)\r\n\r\n    let end = new Date();\r\n    end.setHours(23, 59, 59, 999);\r\n    end = end.getTime() + ((day - 1) * 3600000 * 24)\r\n\r\n    if (shift !== 0) {\r\n        arr.forEach(x => {\r\n            const sh = shift * 60 * 60 * 1000;\r\n            x.start += sh;\r\n            x.end += sh\r\n        })\r\n    }\r\n\r\n    return arr.filter(x => (x.start >= start && x.start < end) || (x.start < start && x.end > start));\r\n}\r\n\r\nexport function getSingleEpgNow(id, shift) {\r\n    let arr = getEpg(id, 1, shift);\r\n    return arr.find(x => x.start <= Date.now() && x.end > Date.now())\r\n}\r\n\r\nexport function getEpgNow(id, shift) {\r\n    let arr = getEpg(id, 1, shift);\r\n    let end = new Date();\r\n    end.setHours(23, 59, 59, 999);\r\n    return arr.filter(x =>\r\n        (x.start <= Date.now() && x.end > Date.now()) ||\r\n        (x.start > Date.now() && x.start < end.getTime()))\r\n}\r\n\r\n\r\n\r\nfunction convertEpgListing(data) {\r\n    return data.map(x => {\r\n        return {\r\n            title: x.title,\r\n            description: x.description,\r\n            start: convertTimestamp(x.start || x.start_timestamp),\r\n            end: convertTimestamp(x.stop || x.stop_timestamp)\r\n        }\r\n    })\r\n}\r\n\r\nfunction convertTimestamp(time) {\r\n    return parseInt(time + \"000\");\r\n}\r\n\r\n\r\nfunction mergeDay(dataset, entries, day) {\r\n    dataset.days[day] = true\r\n    dataset.data = dataset.data.concat(entries);\r\n    dataset.data = dataset.data.sort((a, b) => a.start - b.start).filter((x, index, self) =>\r\n        index === self.findIndex((t) => (\r\n            t.start === x.start\r\n        ))\r\n    )\r\n    return dataset;\r\n}","import React, { useState, useEffect, useRef} from 'react'\r\nimport styled from \"styled-components\"\r\nimport ChannelEpgBar from \"./ChannelEpgBar\"\r\nimport {getSingleEpgNow, downloadEpgData} from \"../../other/epg-database\"\r\nimport {useSelector} from \"react-redux\"\r\n\r\nconst dateFormat = require(\"dateformat\");\r\n\r\nconst EpgChName = styled.div`\r\n    position: absolute;\r\n    background-image: linear-gradient(to bottom, #212121 -70% , transparent);\r\n    top:0;\r\n    left:0;\r\n    width:100%;\r\n    height:40%;\r\n    z-index:1000000000000000000000;\r\n\r\n    & > div{\r\n        padding-top: 2%;\r\n        padding-bottom: 3%;\r\n        position: relative;\r\n        width: 70%;\r\n        left: 15%;\r\n    } `;\r\n\r\nconst EpgInfoBox = styled.div`\r\n    position: absolute;\r\n    background-image: linear-gradient(to top, #212121 0% , transparent);\r\n    height:47%;\r\n\r\n    & > div{\r\n        padding-bottom: 5%;\r\n        padding-top: 10%;\r\n        position: relative;\r\n        width: 70%;\r\n        left: 15%;\r\n    } `;\r\n\r\nconst Title = styled.h2`\r\n-webkit-line-clamp: 1;\r\noverflow: hidden;\r\n/*word-wrap: break-word;\r\nword-break: break-all;*/\r\ntext-overflow: ellipsis;\r\ndisplay: -webkit-box;\r\n-webkit-box-orient: vertical;\r\n`\r\n\r\nconst Description = styled.h4`\r\nfont-weight: 100;\r\noverflow-wrap: break-word;\r\noverflow: hidden;\r\n-webkit-line-clamp: 5;\r\nmax-height: 30%;\r\n/*word-wrap: break-word;\r\nword-break: break-all;*/\r\ntext-overflow: ellipsis;\r\ndisplay: -webkit-box;\r\n-webkit-box-orient: vertical;\r\n`\r\n\r\nconst MainDiv = styled.div`\r\nwidth: 100%;\r\nheight: 100%;\r\nposition: absolute;\r\ntop:0;\r\nleft:0;\r\ncolor: white;\r\noverflow: hidden;\r\n\r\n& > div{\r\n    width: 100%;\r\n    transition: bottom .5s ease 0s, top .5s ease 0s;\r\n}\r\n&:focus{\r\n    outline-width: 0px;\r\n}\r\n`\r\n\r\nconst StopTime = styled.label`\r\nright: 0;\r\nposition: absolute;\r\n`\r\n\r\nconst Logo = styled.div`\r\n/*background: #203d79;*/\r\npadding: .1rem .1rem;\r\nborder-radius: .2rem;\r\ntext-align: center;\r\nwidth: 100%;\r\nfont-weight: bold;\r\nmin-height: 2.4rem;\r\nmax-height: 2.4rem;\r\n\r\n&>img{\r\n    max-height: 2.2rem;\r\n    height: auto;\r\n    width: auto;\r\n    padding-left: 0.5rem;\r\n    padding-right: 0.5rem;\r\n}\r\n`\r\n\r\nconst FullscreenMag = ({externalShow, cTitle, cDesc, cDuration}) => {\r\n    const EpgChNameRef = useRef(0);\r\n    const EpgInfoBoxRef = useRef(0);\r\n    const mainRef = useRef(null);\r\n\r\n    const playingChannel = useSelector(state => state.playingCh);\r\n    const Epg = playingChannel && !cTitle && (playingChannel.epg_channel_id);\r\n    const Shift = playingChannel && (playingChannel.shift);\r\n    const chId = playingChannel && (playingChannel.stream_id);\r\n\r\n    const timer = useSelector(state => state.timer5);\r\n    const h24Format = useSelector(state => state.h24);\r\n\r\n    const [epgNow, setEpgNow] = useState(cDuration ? {\r\n        title : cTitle,\r\n        description: cDesc\r\n    } : false);\r\n\r\n    \r\n    const title = epgNow && epgNow.start ? epgNow.title : \"\"\r\n    const description = epgNow && epgNow.start ? epgNow.description : \"\"\r\n    const start = epgNow && epgNow.start ? dateFormat(new Date(epgNow.start), h24Format) : \"\"\r\n    const stop = epgNow && epgNow.start ? dateFormat(new Date(epgNow.end), h24Format) : \"\"\r\n\r\n    /*const remoteController = (event) => {\r\n        if(event.keyCode === 27 || event.keyCode === 8){\r\n            //dispatch(setFullScreen(false));\r\n            clearTimeout(showOverlay);\r\n            history.replace(location.pathname.split(\"fullscreen\")[0])\r\n            setTimeout(function () {\r\n                document.getElementById(\"selectedCh\") && (document.getElementById(\"selectedCh\").focus());\r\n            }, 100);\r\n        }else if(event.keyCode === 107 || event.keyCode === 109){\r\n            dispatch(setVolume(event.keyCode === 107))\r\n        }else{\r\n            clearTimeout(showOverlay);\r\n            EpgInfoBoxRef.current && (EpgInfoBoxRef.current.style.bottom = \"0px\");\r\n            EpgChNameRef.current && (EpgChNameRef.current.style.top = \"0px\");\r\n            \r\n            showOverlay = setTimeout(function () {\r\n                EpgInfoBoxRef.current && (EpgInfoBoxRef.current.style.bottom = \"-50%\");\r\n                EpgChNameRef.current && (EpgChNameRef.current.style.top = \"-40%\");\r\n            }, 6000);\r\n        }\r\n    }*/\r\n\r\n    useEffect(()=>{\r\n        if(externalShow){\r\n            EpgInfoBoxRef.current && (EpgInfoBoxRef.current.style.bottom = \"0px\");\r\n            EpgChNameRef.current && (EpgChNameRef.current.style.top = \"0px\");\r\n        }else{\r\n            EpgInfoBoxRef.current && (EpgInfoBoxRef.current.style.bottom = \"-50%\");\r\n            EpgChNameRef.current && (EpgChNameRef.current.style.top = \"-40%\");\r\n        }\r\n    },[externalShow])\r\n\r\n    useEffect(()=>{\r\n        if(!Epg || cDuration)\r\n            return;\r\n        async function fetchData(){\r\n            await downloadEpgData(chId, Epg, 1, Shift);\r\n            const newEpg = getSingleEpgNow(Epg,Shift);\r\n            if(!newEpg)\r\n                setEpgNow(false);\r\n            else if(newEpg && (epgNow === false || epgNow.start !== newEpg.start)){\r\n                setEpgNow({...newEpg});\r\n            } \r\n        }\r\n        \r\n        fetchData()\r\n    },[playingChannel]);\r\n\r\n    useEffect(() => {\r\n        if(cDuration)\r\n            return;\r\n        const newEpg = getSingleEpgNow(Epg,Shift);\r\n        if(!newEpg)\r\n            setEpgNow(false);\r\n        else if(newEpg && (epgNow === false || epgNow.start !== newEpg.start)){\r\n            setEpgNow({...newEpg});\r\n        } \r\n    }, [timer, Epg, Shift, cDuration, epgNow]);\r\n\r\n    return (\r\n        <MainDiv tabIndex={0} ref={mainRef}>\r\n            <EpgChName ref={EpgChNameRef} style={{top : \"-40%\"}}>\r\n                <div className=\"row\">\r\n                    <div className=\"col-3\">\r\n                        <Logo>\r\n                            <img src={playingChannel && (playingChannel.stream_icon)} loading={\"lazy\"} /*onError={()=>{this.onerror=null;this.src='../images/nologo.png?1'}} */ align=\"middle\" alt=\"\" />\r\n                        </Logo>\r\n                    </div>\r\n                    <div className=\"col-auto\">\r\n                        <h2>{playingChannel && (playingChannel.name)}</h2> \r\n                    </div>\r\n                </div>\r\n            </EpgChName>\r\n            <EpgInfoBox ref={EpgInfoBoxRef} style={{bottom : \"-50%\", display : !epgNow.start && (\"none\")}}>\r\n                <div>\r\n                    <Title>{title}</Title>\r\n                    <Description>{description}</Description>\r\n                    <label>{start}</label>\r\n                    <StopTime>{stop}</StopTime>\r\n                    {epgNow.start ?\r\n                    (<ChannelEpgBar key={playingChannel && (playingChannel.epg_channel_id)+ \" \" +epgNow.start} start={epgNow.start} stop={epgNow.end}/>)\r\n                    :\r\n                    <ChannelEpgBar />\r\n                    }\r\n                </div>\r\n            </EpgInfoBox>\r\n        </MainDiv>\r\n    )\r\n}\r\n\r\nexport default FullscreenMag\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst ButtonObj = styled.button`\r\ncursor: pointer;\r\nposition: relative;\r\ntext-align: center;\r\nmargin: 0;\r\npadding: 0;\r\nheight: 100%;\r\nwidth: 4em;\r\n-webkit-flex: none;\r\nflex: none;\r\nbackground: none;\r\nborder: none;\r\ncolor: inherit;\r\ndisplay: inline-block;\r\nfont-size: inherit;\r\nline-height: inherit;\r\ntext-transform: none;\r\ntext-decoration: none;\r\ntransition: none;\r\n-webkit-appearance: none;\r\nappearance: none;\r\ntransition: text-shadow .2s ease;\r\n\r\n&:focus{\r\n    outline: 0!important;\r\n}\r\n\r\n&:hover{\r\n    text-shadow: 0em 0em 1em white;\r\n}\r\n\r\n`\r\n\r\nconst PopupText = styled.span`\r\nborder: 0;\r\nclip: rect(0 0 0 0);\r\nheight: 1px;\r\noverflow: hidden;\r\npadding: 0;\r\nposition: absolute;\r\nwidth: 1px;\r\n`\r\n\r\nconst Button = ({onClick, enabled, iconOn, iconOff, textOn, textOff}) => {\r\n    return (\r\n        <ButtonObj type=\"button\" title={!enabled ? textOn : textOff} onClick={onClick}>\r\n          <i className={!enabled ? iconOn : iconOff}></i>\r\n        \t<PopupText aria-live={!enabled ? textOn : textOff}>{!enabled ? textOn : textOff}</PopupText>\r\n        </ButtonObj>\r\n    )\r\n}\r\n\r\nexport default Button\r\n","import React from 'react'\r\nimport Button from \"./Button\"\r\nimport \"./VolumeButton.css\"\r\n\r\nconst VolumeButton = ({enabled, volume, onChangeInput, onClick}) => {\r\n    return (\r\n        <div className=\"volume-container\">\r\n            <Button enabled={enabled} iconOn={\"fas fa-volume-up\"} iconOff={\"fas fa-volume-mute\"} textOn={\"Mute\"} textOff={\"Unmute\"} onClick={onClick}/>\r\n            <input \r\n                value={volume} \r\n                type={'range'} \r\n                min={0}\r\n                max={100}\r\n                step={5}\r\n                onChange={onChangeInput}\r\n                >\r\n            </input>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VolumeButton\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst ButtonObj = styled.button`\r\ncursor: pointer;\r\nposition: relative;\r\ntext-align: center;\r\nmargin: 0;\r\npadding: 0;\r\nheight: 100%;\r\nwidth: 4em;\r\n-webkit-flex: none;\r\nflex: none;\r\nbackground: none;\r\nborder: none;\r\ncolor: inherit;\r\ndisplay: inline-block;\r\nfont-size: inherit;\r\nline-height: inherit;\r\ntext-transform: none;\r\ntext-decoration: none;\r\ntransition: none;\r\n-webkit-appearance: none;\r\nappearance: none;\r\ntransition: text-shadow .2s ease;\r\nmargin-left: auto;\r\n&:focus{\r\n    outline: 0!important;\r\n}\r\n\r\n&:hover{\r\n    text-shadow: 0em 0em 1em white;\r\n}\r\n\r\n`\r\n\r\nconst PopupText = styled.span`\r\nborder: 0;\r\nclip: rect(0 0 0 0);\r\nheight: 1px;\r\noverflow: hidden;\r\npadding: 0;\r\nposition: absolute;\r\nwidth: 1px;\r\n`\r\n\r\nconst PiPButton = ({onClick, enabled}) => {\r\n    return (\r\n        <ButtonObj type=\"button\" title={!enabled ? \"Picture in Picture\" : \"Exit Picture in Picture\"} onClick={onClick}>\r\n          <i>\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\"  viewBox=\"0 0 16 16\">\r\n              <path d=\"M0 3.5A1.5 1.5 0 0 1 1.5 2h13A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 12.5v-9zM1.5 3a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-13z\"/>\r\n              <path d=\"M8 8.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-3z\"/>\r\n            </svg>\r\n          </i>\r\n        \t<PopupText aria-live={!enabled ? \"Picture in Picture\" : \"Exit Picture in Picture\"}>{!enabled ? \"Picture in Picture\" : \"Exit Picture in Picture\"}</PopupText>\r\n        </ButtonObj>\r\n    )\r\n}\r\n\r\nexport default PiPButton\r\n","import {getInfo} from \"./user_info\"\r\nimport {getDns, getIsIptveditor} from \"./axios\"\r\n\r\nexport function generateUrl (type, id, extension){\r\n    const dns = getIsIptveditor()===true ? process.env.REACT_APP_IPTVEDITOR_API : getDns();\r\n    const user = getInfo().username;\r\n    const pass = getInfo().password;\r\n    return `${dns}${type}/${user}/${pass}/${id}.${ getIsIptveditor()===true ? \"mp4\" : extension}`\r\n}\r\n\r\nexport function convertTsToM3u8(ip) {\r\n    let url = ip;\r\n    url = url.replace(\"/live/\",\"/\").replace(/\\.ts|\\.m3u8/g,\"\")\r\n    const splitted = url.split(\"/\");\r\n\r\n    const id = splitted[splitted.length-1];\r\n    if(isNaN(id))\r\n        return ip;\r\n    const user = splitted[splitted.length-3];\r\n    const pass = splitted[splitted.length-2];\r\n    const domain = splitted.slice(0,splitted.length-3).join(\"/\");\r\n\r\n    return domain + \"/live/\" + user + \"/\" + pass + \"/\" + id + \".m3u8\";\r\n}\r\n\r\nexport function catchupUrlGenerator (ip,time, duration){\r\n    let url = ip;\r\n    time = timeConverter(time)\r\n    url = url.replace(\"/live/\",\"/\").replace(/\\.ts|\\.m3u8/g,\"\")\r\n    const splitted = url.split(\"/\");\r\n\r\n    const id = splitted[splitted.length-1];\r\n    if(isNaN(id))\r\n        return ip;\r\n    const user = splitted[splitted.length-3];\r\n    const pass = splitted[splitted.length-2];\r\n    const domain = splitted.slice(0,splitted.length-3).join(\"/\");\r\n\r\n    return domain + \"/timeshift/\" + user + \"/\" + pass + \"/\" + duration + \"/\" + time.split(\":\").slice(0,-1).join(\":\").replace(\" \",\":\") + \"/\" + id + \".m3u8\";\r\n}\r\n\r\nconst timeConverter = (time) =>{\r\n    const a = new Date(time);\r\n    const year = a.getFullYear();\r\n    const month = a.getMonth()+1;\r\n    const day = a.getDate();\r\n    const hour = a.getHours();\r\n    const min = a.getMinutes();\r\n    const sec = a.getSeconds();\r\n\r\n    return year + \"-\" + (month < 10 ? \"0\"+month : month) + \"-\" + (day < 10 ? \"0\"+day : day) + \" \" + (hour < 10 ? \"0\"+hour : hour) + ':' + (min < 10 ? \"0\"+min : min) + ':' + (sec < 10 ? \"0\"+sec : sec);\r\n};\r\n\r\nexport default {generateUrl, catchupUrlGenerator}\r\n","import styled, { css, keyframes } from 'styled-components';\r\n\r\nconst toUpOpacity = keyframes`\r\n  0% {\r\n    opacity: 0;\r\n    transform: translateY(0);\r\n  }\r\n\r\n  30% {\r\n    opacity: 1;\r\n    transform: translateY(-20px);\r\n  }\r\n\r\n  100% {\r\n    opacity: 0;\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\nexport const Container = styled.div`\r\n  & > * {\r\n    outline: 0;\r\n    box-sizing: border-box;\r\n    margin: 0;\r\n    padding: 0;\r\n    font-family: ${props =>\r\n      props.fontFamily\r\n        ? props.fontFamily\r\n        : \"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif\"};\r\n  }\r\n\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n  background: #000;\r\n  overflow: hidden;\r\n\r\n  video {\r\n    height: 100% !important;\r\n    max-height: 100% !important;\r\n    width: 100% !important;\r\n    max-width: 100% !important;\r\n    cursor: none;\r\n    opacity: ${props => (props.hideVideo ? 0 : 1)};\r\n\r\n    &::cue {\r\n      color: #eee;\r\n      z-index: 4;\r\n      text-shadow: #222 0 0 5px;\r\n      background: none;\r\n      font-family: ${props =>\r\n        props.fontFamily\r\n          ? props.fontFamily\r\n          : \"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif\"};\r\n    }\r\n  }\r\n\r\n  ${props =>\r\n    props.fullPlayer &&\r\n    css`\r\n      position: fixed;\r\n      top: 0;\r\n      left: 0;\r\n      z-index: 10000;\r\n    `}\r\n`;\r\n\r\nexport const Controlls = styled.div`\r\n  opacity: ${props => (props.show ? 1 : 0)};\r\n  transform: ${props => (props.show ? 'scale(1)' : 'scale(1.2)')};\r\n\r\n  position: absolute;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  transition: all 0.2s ease-out;\r\n\r\n  padding: 10px;\r\n  color: #fff;\r\n  font-size: 1.5em;\r\n  background: rgb(0, 0, 0);\r\n  background: linear-gradient(\r\n    0deg,\r\n    rgba(0, 0, 0, 1) 0%,\r\n    rgba(0, 0, 0, 0.7) 20%,\r\n    rgba(0, 0, 0, 0) 40%,\r\n    rgba(0, 0, 0, 0) 60%,\r\n    rgba(0, 0, 0, 0.7) 80%,\r\n    rgba(0, 0, 0, 1) 100%\r\n  );\r\n\r\n  .back {\r\n    margin-bottom: auto;\r\n    margin-top: 30px;\r\n    margin-left: 50px;\r\n    display: flex;\r\n\r\n    div {\r\n      display: flex;\r\n      font-size: 20px;\r\n      align-items: center;\r\n      opacity: 0.3;\r\n      transition: all 0.2s ease-out;\r\n      overflow: hidden;\r\n\r\n      span {\r\n        margin-left: -100%;\r\n        opacity: 0;\r\n        transition: all ease-out 0.2s;\r\n      }\r\n\r\n      &:hover {\r\n        opacity: 1;\r\n        transform: translateX(-10px);\r\n\r\n        span {\r\n          margin-left: 0;\r\n          opacity: 1;\r\n        }\r\n      }\r\n\r\n      svg {\r\n        font-size: 35px;\r\n        margin-right: 5px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .line-reproduction {\r\n    display: flex;\r\n    margin-bottom: 10px;\r\n\r\n    input {\r\n      margin: auto;\r\n    }\r\n\r\n    span {\r\n      font-size: 14px;\r\n      margin-left: 5px;\r\n    }\r\n  }\r\n\r\n  .controlls {\r\n    margin: 20px 0;\r\n    display: flex;\r\n    justify-items: center;\r\n\r\n    .end {\r\n      margin-left: auto;\r\n    }\r\n\r\n    div {\r\n      display: flex;\r\n      justify-items: center;\r\n    }\r\n\r\n    .item-control {\r\n      position: relative;\r\n      margin: auto 15px;\r\n    }\r\n\r\n    .info-video {\r\n      font-size: 16px;\r\n      margin-top: -1px;\r\n\r\n      .info-first {\r\n        font-weight: bold;\r\n        opacity: 1;\r\n        margin-right: 5px;\r\n      }\r\n\r\n      .info-secund {\r\n        font-weight: lighter;\r\n        opacity: 0.5;\r\n      }\r\n    }\r\n\r\n    svg {\r\n      cursor: pointer;\r\n      opacity: 0.2;\r\n      font-size: 25px;\r\n      transition: all 0.2s ease-out;\r\n\r\n      &:hover {\r\n        opacity: 1;\r\n        transform: scale(1.2);\r\n      }\r\n    }\r\n  }\r\n\r\n  .progress-bar {\r\n    width: 100%;\r\n    margin-bottom: 15px;\r\n    appearance: none;\r\n    height: 3px;\r\n    transition: height 0.2s ease-out;\r\n    border-radius: 5px;\r\n    background: linear-gradient(\r\n      93deg,\r\n      ${props => props.primaryColor} ${props => props.progressVideo}%,\r\n      #fff ${props => props.progressVideo}%\r\n    );\r\n    -webkit-appearance: none;\r\n    -moz-appearance: none;\r\n\r\n    &:focus {\r\n      outline: none !important;\r\n    }\r\n\r\n    &::-moz-focus-outer {\r\n      border: 0;\r\n    }\r\n\r\n    &::-ms-track {\r\n      background: transparent;\r\n      border-color: transparent;\r\n      color: transparent;\r\n    }\r\n\r\n    &::-webkit-slider-thumb {\r\n      -webkit-appearance: none;\r\n      border: none;\r\n      width: 18px;\r\n      height: 18px;\r\n      border-radius: 50%;\r\n      background: ${props => props.primaryColor};\r\n      cursor: pointer;\r\n\r\n      outline: none !important;\r\n      border-color: transparent;\r\n      border: 0 !important;\r\n      box-shadow: none !important;\r\n      box-sizing: none;\r\n    }\r\n\r\n    &::-moz-range-thumb {\r\n      -webkit-appearance: none;\r\n      border: none;\r\n      width: 18px;\r\n      height: 18px;\r\n      border-radius: 50%;\r\n      background: ${props => props.primaryColor};\r\n      cursor: pointer;\r\n\r\n      outline: none !important;\r\n      border-color: transparent;\r\n      border: 0 !important;\r\n      box-shadow: none !important;\r\n      box-sizing: none;\r\n    }\r\n\r\n    &:hover {\r\n      height: 1rem;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const VideoPreLoading = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 30px;\r\n  transition: all 0.5s ease-out;\r\n  z-index: ${props => (props.show ? 2 : 0)};\r\n  display: flex;\r\n  flex-direction: column;\r\n  opacity: ${props => (props.show ? 1 : 0)};\r\n\r\n  header {\r\n    display: flex;\r\n    color: #ffffff;\r\n    align-items: center;\r\n\r\n    h1 {\r\n      color: ${props => props.colorTitle};\r\n      font-size: 1.5em;\r\n      font-weight: bold;\r\n    }\r\n\r\n    h2 {\r\n      color: ${props => props.colorSubTitle};\r\n      font-size: 1.1em;\r\n    }\r\n\r\n    svg {\r\n      color: ${props => props.colorIcon};\r\n      opacity: 0.5;\r\n      margin-left: auto;\r\n      font-size: 4em;\r\n      padding: 10px;\r\n      cursor: pointer;\r\n      transition: all 0.2s ease;\r\n\r\n      &:hover {\r\n        transform: scale(1.2);\r\n        opacity: 1;\r\n      }\r\n    }\r\n  }\r\n\r\n  section {\r\n    text-align: center;\r\n    color: #ddd;\r\n    margin: auto;\r\n    transition: all 0.2s ease;\r\n    opacity: ${props => (props.showError ? 1 : 0)};\r\n\r\n    .links-error {\r\n      display: inline-flex;\r\n      margin: auto;\r\n\r\n      div {\r\n        color: ${props => props.colorButtonError};\r\n        background: ${props => props.backgroundColorButtonError};\r\n        display: flex;\r\n        align-items: center;\r\n        margin: 0 5px;\r\n        padding: 10px;\r\n        font-weight: bold;\r\n        cursor: pointer;\r\n        border-radius: 5px;\r\n        transition: all 0.2s ease;\r\n\r\n        &:hover {\r\n          background: ${props => props.backgroundColorHoverButtonError};\r\n          color: ${props => props.colorHoverButtonError};\r\n        }\r\n      }\r\n    }\r\n\r\n    h1 {\r\n      font-size: 2em;\r\n    }\r\n\r\n    p {\r\n      font-size: 1.5em;\r\n      margin: 20px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const StandyByInfo = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  background: rgba(0, 0, 0, 0.8);\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  padding: 0 50px;\r\n  transition: all 0.5s ease-out;\r\n  opacity: ${props => (props.show ? 1 : 0)};\r\n\r\n  section {\r\n    margin: auto 0;\r\n    padding-top: 100px;\r\n    padding-left: 100px;\r\n\r\n    h3 {\r\n      color: #fff;\r\n      font-size: 1.1em;\r\n      margin-bottom: 5px;\r\n    }\r\n\r\n    h1 {\r\n      font-weight: bold;\r\n      font-size: 3em;\r\n      color: ${props => props.primaryColor};\r\n      margin: 10px 0;\r\n    }\r\n\r\n    h2 {\r\n      color: ${props => props.secundaryColor};\r\n      font-size: 20px;\r\n      margin-top: -5px;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n\r\n  footer {\r\n    margin-top: auto;\r\n    margin-bottom: 50px;\r\n    margin-left: auto;\r\n    text-transform: uppercase;\r\n    color: #ffffff;\r\n  }\r\n`;\r\n\r\nexport const Loading = styled.div`\r\n  position: absolute;\r\n  height: 100% !important;\r\n  width: 100% !important;\r\n  display: flex;\r\n\r\n  div {\r\n    display: flex;\r\n    margin: auto;\r\n\r\n    div {\r\n      &:nth-child(2) {\r\n        animation-delay: 0.1s;\r\n      }\r\n\r\n      &:nth-child(3) {\r\n        animation-delay: 0.2s;\r\n      }\r\n\r\n      animation: 1s linear ${toUpOpacity} infinite;\r\n      width: 20px;\r\n      height: 20px;\r\n      border-radius: 50%;\r\n      background: ${props => props.color};\r\n      margin: auto 5px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const VolumeControll = styled.div`\r\n  .volumn-controll {\r\n    bottom: 70px;\r\n    left: -50px;\r\n    position: absolute;\r\n    transform: rotate(-90deg);\r\n\r\n    .box {\r\n      background: #222222;\r\n      padding: 10px 18px;\r\n      border-radius: 5px;\r\n    }\r\n\r\n    .box-connector {\r\n      width: 20px;\r\n    }\r\n\r\n    input {\r\n      border: none;\r\n      appearance: none;\r\n      height: 5px;\r\n      border-radius: 5px;\r\n      background: #999;\r\n      background: linear-gradient(\r\n        93deg,\r\n        ${props => props.primaryColor} ${props => props.percentVolume}%,\r\n        #fff ${props => props.percentVolume}%\r\n      );\r\n      width: 70px;\r\n\r\n      &::-webkit-slider-thumb {\r\n        -webkit-appearance: none;\r\n        border: none;\r\n        width: 18px;\r\n        height: 18px;\r\n        border-radius: 50%;\r\n        background: ${props => props.primaryColor};\r\n        cursor: pointer;\r\n      }\r\n\r\n      &::-moz-range-thumb {\r\n        -webkit-appearance: none;\r\n        border: none;\r\n        width: 18px;\r\n        height: 18px;\r\n        border-radius: 50%;\r\n        background: ${props => props.primaryColor};\r\n        cursor: pointer;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst ItemControllBar = styled.div`\r\n  bottom: 20px;\r\n  right: -20px;\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 300px;\r\n\r\n  .box-connector {\r\n    height: 20px;\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nexport const IconPlayBackRate = styled.div`\r\n  cursor: pointer;\r\n  font-weight: bold;\r\n\r\n  small {\r\n    font-weight: lighter;\r\n    font-weight: 10px;\r\n  }\r\n\r\n  span {\r\n    opacity: 0.2;\r\n    font-size: 25px;\r\n    transition: all 0.2s ease-out;\r\n\r\n    &:hover {\r\n      opacity: 1;\r\n      transform: scale(1.2);\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ItemPlaybackRate = styled(ItemControllBar)`\r\n  cursor: pointer;\r\n  font-weight: bold;\r\n  max-width: 150px;\r\n\r\n  & > div:first-child {\r\n    background: #333;\r\n    display: flex;\r\n    flex-direction: column;\r\n    border-radius: 5px;\r\n\r\n    .title {\r\n      font-size: 18px;\r\n      font-weight: bold;\r\n      padding: 10px;\r\n      margin: 0;\r\n    }\r\n\r\n    .item {\r\n      background: #222;\r\n      display: flex;\r\n      font-size: 14px;\r\n      padding: 10px;\r\n      cursor: pointer;\r\n      transition: all 0.2s ease-out;\r\n      flex-direction: row;\r\n      align-items: center;\r\n\r\n      &:hover {\r\n        background: #333;\r\n      }\r\n    }\r\n\r\n    svg {\r\n      font-size: 14px !important;\r\n      margin-right: 5px;\r\n    }\r\n\r\n    .bold {\r\n      font-weight: bold;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ItemNext = styled(ItemControllBar)`\r\n  & > div:first-child {\r\n    background: #333;\r\n    display: flex;\r\n    flex-direction: column;\r\n    border-radius: 5px;\r\n\r\n    .title {\r\n      font-size: 18px;\r\n      font-weight: bold;\r\n      padding: 10px;\r\n      margin: 0;\r\n    }\r\n\r\n    .item {\r\n      background: #222;\r\n      display: flex;\r\n      flex-direction: column;\r\n      font-size: 14px;\r\n      padding: 10px;\r\n      cursor: pointer;\r\n      transition: all 0.2s ease-out;\r\n\r\n      &:hover {\r\n        background: #333;\r\n      }\r\n    }\r\n    .bold {\r\n      font-weight: bold;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ItemListReproduction = styled(ItemControllBar)`\r\n  max-width: 400px;\r\n  overflow: hidden;\r\n\r\n  & > div:first-child {\r\n    background: #333;\r\n    display: flex;\r\n    flex-direction: column;\r\n    border-radius: 5px;\r\n    overflow: hidden;\r\n\r\n    .bold {\r\n      font-weight: bold;\r\n    }\r\n\r\n    .title {\r\n      font-size: 18px;\r\n      font-weight: bold;\r\n      padding: 10px;\r\n      margin: 0;\r\n    }\r\n\r\n    .list-list-reproduction {\r\n      display: flex;\r\n      flex-direction: column;\r\n      max-height: 400px;\r\n      overflow: auto;\r\n\r\n      &::-webkit-scrollbar-track {\r\n        background-color: #222;\r\n      }\r\n\r\n      &::-webkit-scrollbar {\r\n        width: 8px;\r\n      }\r\n\r\n      &::-webkit-scrollbar-thumb {\r\n        background: #333;\r\n      }\r\n\r\n      .item-list-reproduction {\r\n        background: #222;\r\n        display: flex;\r\n        flex-direction: row;\r\n        font-size: 14px;\r\n        padding: 10px;\r\n        cursor: pointer;\r\n        transition: all 0.2s ease-out;\r\n        align-items: center;\r\n\r\n        &:hover {\r\n          background: #333;\r\n        }\r\n\r\n        .percent {\r\n          height: 3px;\r\n          width: 100px;\r\n          margin-left: auto;\r\n        }\r\n      }\r\n\r\n      .selected {\r\n        background: #333;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ItemListQuality = styled(ItemControllBar)`\r\n  max-width: 200px;\r\n  min-width: 200px;\r\n\r\n  & > div:first-child {\r\n    font-size: 14px;\r\n    background: #222222;\r\n    border-radius: 5px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    overflow: hidden;\r\n\r\n    div {\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 10px;\r\n      cursor: pointer;\r\n\r\n      &:hover {\r\n        background: #333;\r\n      }\r\n    }\r\n\r\n    span {\r\n      margin-right: 5px;\r\n\r\n      &:nth-child(1) {\r\n        font-weight: bold;\r\n      }\r\n    }\r\n\r\n    svg {\r\n      color: #f78b28;\r\n      font-size: 2em;\r\n      margin-left: auto;\r\n    }\r\n  }\r\n`;\r\n","import React, {useRef,useState,useEffect} from \"react\"\r\nimport ReactPlayer from 'react-player'\r\nimport {useSelector} from \"react-redux\"\r\nimport Fullscreen from \"../Live/Fullscreen.js\"\r\nimport Button from \"./Buttons/Button\"\r\nimport VolumeButton from \"./Buttons/VolumeButton\"\r\nimport PiPButton from \"./Buttons/PiPButton\"\r\nimport {generateUrl, catchupUrlGenerator, convertTsToM3u8} from \"../../other/generate-url\"\r\nimport {Loading} from '../../other/Player-github/style';\r\n\r\nimport \"./Player.css\"\r\n\r\nimport styled from \"styled-components\"\r\nconst PlayerDiv = styled.div`\r\nwidth: 100%;\r\nbackground: #0000003d;\r\npadding: 0.7rem;\r\nborder-radius: 0.4rem;\r\nheight: 40vh;\r\nposition: relative;\r\noverflow: hidden;\r\nuser-select:none;\r\n`\r\n\r\nconst ContainerButtons = styled.div`\r\ndisplay: flex;\r\nwidth: 100%;\r\nposition: absolute;\r\nbottom: 0;\r\nleft: 0;\r\nright: 0;\r\nheight: 3em;\r\nbackground-color: rgba(43, 51, 63, 0.7);\r\ncolor: white;\r\ntransition:  bottom .5s ease;\r\n`\r\n\r\nconst Spin = styled.div`\r\nheight: 100%;\r\noverflow: auto;\r\noverflow-y: auto;\r\nmax-width: 100%;\r\nwidth: 100%;\r\noverflow-x: hidden;\r\nbackground-color: transparent;\r\nposition: absolute;\r\nz-index: 5;\r\ntop: 0;\r\nleft: 0;\r\n\r\ndisplay:flex;\r\njustify-content:center;\r\nalign-items:center;\r\n\r\n`\r\n\r\nlet timeout = null;\r\nconst Player = () => {\r\n  const ref = useRef();\r\n\r\n  const playingChannel = useSelector(state => state.playingCh || {disabled:true});\r\n  const [play, setPlay] = useState(!!playingChannel);\r\n  const [volume, setVolume] = useState(50);\r\n  const [pip, setPip] = useState(false);\r\n  const [fullscreen, setFullscreen] = useState(false);\r\n\r\n  const [hoverStyle, setHoverStyle] = useState({bottom:\"-3rem\"});\r\n  const [showCursor, setShowCursor] = useState({cursor: \"\"})\r\n\r\n  const [url, setUrl] = useState();\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [error, setError] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (ref.current) {\r\n      const elem = ref.current;\r\n      if (fullscreen) {\r\n        if (elem.requestFullscreen) {\r\n          elem.requestFullscreen();\r\n        } else if (elem.webkitRequestFullscreen) { /* Safari */\r\n          elem.webkitRequestFullscreen();\r\n        } else if (elem.msRequestFullscreen) { /* IE11 */\r\n          elem.msRequestFullscreen();\r\n        }\r\n        showOverlayTimer();\r\n      }\r\n      else {\r\n        setShowCursor({cursor: \"\"})\r\n        if (document.exitFullscreen) {\r\n          document.exitFullscreen().catch(() => { });\r\n        } else if (document.webkitExitFullscreen) {\r\n          document.webkitExitFullscreen();\r\n        } else if (document.mozCancelFullScreen) {\r\n          document.mozCancelFullScreen();\r\n        } else if (document.msExitFullscreen) {\r\n          document.msExitFullscreen();\r\n        }\r\n      }\r\n    }\r\n  }, [fullscreen])\r\n\r\n  useEffect(() => {\r\n    if(!play)\r\n      showOverlay(true)\r\n  }, [play])\r\n  \r\n  useEffect(() => {\r\n    if (!playingChannel || playingChannel.disabled){\r\n      setIsLoading(false)\r\n      return;\r\n    }\r\n\r\n    setError(false)\r\n\r\n    let ip = playingChannel.direct_source ? convertTsToM3u8(playingChannel.direct_source) : generateUrl(\"live\", playingChannel.stream_id, \"m3u8\")\r\n\r\n    if (playingChannel.timeshift)\r\n      ip = catchupUrlGenerator(ip, playingChannel.timeshift, playingChannel.duration);\r\n\r\n      setUrl(ip)\r\n    setPlay(true)\r\n  }, [playingChannel])\r\n\r\n  const showOverlay = (show) =>{\r\n    setShowCursor({cursor: \"\"})\r\n    setHoverStyle({\r\n      bottom: show ? \"0rem\" : \"-3rem\"\r\n    })\r\n  }\r\n\r\n  const showOverlayTimer = () =>{\r\n    setShowCursor({cursor: \"\"})\r\n    clearTimeout(timeout);\r\n    showOverlay(true);\r\n    timeout = setTimeout(()=>{\r\n      showOverlay(false);\r\n      setShowCursor({cursor: \"none\"})\r\n    },4000);\r\n  }\r\n \r\n\r\n    return (\r\n      <PlayerDiv ref={ref} \r\n      onDoubleClick={() => setFullscreen(!fullscreen)} \r\n      onMouseEnter={()=> showOverlay(true)} \r\n      onMouseLeave = {()=> showOverlay(false)} \r\n      onMouseMove={() => fullscreen && showOverlayTimer()} \r\n      style={showCursor}>\r\n        <ReactPlayer\r\n         className='react-player'\r\n         width='100%'\r\n         height='100%'\r\n         playing={play}\r\n         volume={volume/100}\r\n         url={url}\r\n         pip={pip}\r\n         controls={false}\r\n         onProgress={(state)=>{\r\n          setError(false)\r\n         }}\r\n         onPlay={()=>{\r\n          setError(false)\r\n        }}\r\n         onError={(error, data)=> {\r\n          setError(true)\r\n          setIsLoading(false)\r\n         }}\r\n         onBufferEnd={()=>{\r\n          setError(false)\r\n          setIsLoading(false)\r\n         }}\r\n         onBuffer={()=>{\r\n          setIsLoading(true);\r\n          setError(false)\r\n        }}\r\n        />\r\n        { isLoading === true && (<Spin>\r\n            <Loading color={\"var(--second-color);\"}>\r\n                <div>\r\n                  <div />\r\n                  <div />\r\n                  <div />\r\n                </div>\r\n            </Loading>\r\n        </Spin>)}\r\n        {error === true ? (<Spin>\r\n          <label style={{color:\"white\"}}>An error occurred. Can't play stream.</label>\r\n        </Spin>)\r\n        :\r\n        <>\r\n        <Fullscreen externalShow={fullscreen && hoverStyle.bottom !== \"-3rem\"} cTitle={playingChannel.title} cDesc={playingChannel.desc} cDuration={playingChannel.duration}/>\r\n        <ContainerButtons dir=\"ltr\" style={hoverStyle}>\r\n        \t<Button enabled={play} onClick={() => setPlay(!play)} iconOn={\"fas fa-play\"} iconOff={\"fas fa-pause\"} textOn={\"Play\"} textOff={\"Pause\"}/>\r\n          <VolumeButton enabled={volume===0} onClick={() => setVolume(0)} onChangeInput={(e) => setVolume(e.target.value)} volume={volume}/>\r\n          <PiPButton enabled={pip} onClick={() => setPip(!pip)}/>\r\n          <Button enabled={fullscreen} onClick={() => setFullscreen(!fullscreen)} iconOn={\"fas fa-expand\"} iconOff={\"fas fa-compress\"} textOn={\"Fullscreen\"} textOff={\"Exit fullscreen\"}/>\r\n        </ContainerButtons>\r\n        </>\r\n      }\r\n      </PlayerDiv>\r\n      \r\n    )\r\n}\r\n\r\nexport default Player\r\n","import React from 'react'\r\nimport styled from \"styled-components\"\r\n\r\n/*\r\nconst Pulse = styled.div`\r\nborder: .3rem solid #62bd19;\r\n-webkit-border-radius: 99rem;\r\nheight: 2rem;\r\nwidth: 2rem;\r\nposition: absolute;\r\nleft: -0.55rem;\r\ntop: -.5rem;\r\n-webkit-animation: pulsate 1s ease-out;\r\n-webkit-animation-iteration-count: infinite; \r\nopacity: 0.0;\r\n\r\n@keyframes pulsate {\r\n0% {-webkit-transform: scale(0.1, 0.1); opacity: 0.0;}\r\n50% {opacity: 1.0;}\r\n100% {-webkit-transform: scale(1.2, 1.2); opacity: 0.0;}\r\n}\r\n`*/\r\n\r\nconst Circle = styled.div`\r\ncontent: \"\";\r\ntop: calc(50%);\r\ndisplay: inline-block;\r\nheight: .7rem;\r\nwidth: .7rem;\r\nborder-radius: 50%;\r\nbackground-color: #b9b9b9;\r\n`\r\n\r\n\r\nconst PulsingDot = ({isPlaying}) => {\r\n\r\n    const CircleStyle = {backgroundColor: isPlaying ? \"#54ca28\" : \"b9b9b9\"};\r\n\r\n    return (\r\n        <div className={isPlaying ? \"mr-1\" : \"mr-2 ml-2\"} >\r\n            {isPlaying ? <img style={{height:\"1.5rem\"}} src=\"/img/dot.gif\" alt=\"\"></img> :  <Circle style={CircleStyle}/>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PulsingDot\r\n","import React from 'react'\r\nimport styled from \"styled-components\"\r\nimport PulsingDot from \"./PulsingDot\"\r\nimport {useSelector} from \"react-redux\"\r\n\r\nconst dateFormat = require(\"dateformat\");\r\n\r\nconst EpgTitle = styled.div`\r\npadding-left: 1rem!important;\r\nwhite-space: nowrap;\r\noverflow: hidden;\r\ntext-overflow: ellipsis;\r\nmax-width: 29vw;\r\n`\r\nconst EpgDescription = styled.div`\r\nfont-weight: 100;\r\noverflow-wrap: break-word;\r\noverflow: hidden;\r\n/*word-wrap: break-word;\r\nword-break: break-all;*/\r\ntext-overflow: ellipsis;\r\ndisplay: -webkit-box;\r\n-webkit-box-orient: vertical;\r\n-webkit-line-clamp: 6;\r\npadding-right: 12px;\r\n`\r\nconst EpgList = styled.div`\r\n   & > div {\r\n    place-self: center;\r\n    padding-right: 0;\r\n    padding-left: 0;\r\n   }\r\n`\r\n\r\n\r\nfunction EpgRow({title,description,start,stop,first}) {\r\n    const h24Format = useSelector(state => state.h24);\r\n\r\n    return (\r\n        <div style={{color:\"white\"}}  className=\"ml-4 pb-1\">\r\n            <EpgList className=\"row\">\r\n                <div className=\"col-auto\">\r\n                    <PulsingDot isPlaying={start <= Date.now() && stop > Date.now()}></PulsingDot>\r\n                </div>\r\n                <div className=\"col-auto\">\r\n                {dateFormat(new Date(start), h24Format)} - {dateFormat(new Date(stop), h24Format)}\r\n                </div>\r\n                <div className=\"col-auto\">\r\n                    <EpgTitle><b>{title}</b></EpgTitle>\r\n                </div>\r\n            </EpgList>\r\n            {first && (\r\n            <div className=\"row mt-1\">\r\n                <EpgDescription>{description}</EpgDescription>\r\n            </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EpgRow\r\n","import React, { useState, useEffect } from 'react'\r\nimport styled from \"styled-components\"\r\nimport EpgRow from \"./Epg\"\r\nimport {useSelector} from \"react-redux\"\r\nimport {getEpgNow} from \"../../other/epg-database\"\r\n\r\n\r\nconst EpgSummary = styled.div`\r\nmargin-top: 1rem;\r\nmax-height: 40vh;\r\noverflow: hidden;\r\n`\r\n\r\nconst EpgListing = ({Epg, Shift}) => {\r\n    const timer = useSelector(state => state.timer60);\r\n\r\n    const [epgListing, setEpgListing] = useState([]);\r\n\r\n    useEffect(()=>{\r\n        const arr = getEpgNow(Epg,Shift);\r\n        if(!arr || arr.length === 0 )\r\n            setEpgListing([]);\r\n        else setEpgListing(arr);\r\n    },[Epg,Shift]);\r\n\r\n    \r\n    useEffect(() => {\r\n        const arr = getEpgNow(Epg,Shift);\r\n        if(!arr || arr.length === 0 )\r\n            setEpgListing([]);\r\n        else if(arr && arr.length > 0 && epgListing.length>0){\r\n            if(arr[0].start !== epgListing[0].start)\r\n                setEpgListing(arr);\r\n        }else if(arr && arr.length >0 && (!epgListing || epgListing.length===0)){\r\n            setEpgListing(arr);\r\n        }\r\n    }, [timer, Epg, Shift]);\r\n\r\n    return (\r\n        <EpgSummary>\r\n            {epgListing.slice(0, 4).map((epg,id) => (\r\n                <EpgRow key={Epg+\" \" + id} first={id===0} start={epg.start} stop={epg.end} title={epg.title} description={epg.description}/>\r\n            ))}\r\n        </EpgSummary>\r\n    )\r\n}\r\n\r\nexport default EpgListing\r\n","import React, { useState, useEffect } from 'react'\r\nimport styled from \"styled-components\"\r\nimport {useSelector} from \"react-redux\"\r\nimport ChannelEpgBar from \"./ChannelEpgBar\"\r\nimport DB from \"../../other/local-db\"\r\n\r\nimport {getSingleEpgNow, downloadEpgData} from \"../../other/epg-database\"\r\n\r\nconst dateFormat = require(\"dateformat\");\r\n\r\nconst HeaderChannel = styled.div`\r\npadding-bottom: .4rem!important;\r\nline-height: 1!important;\r\nfont-size: 0.65rem;\r\nfont-weight: 700;\r\n`\r\n\r\nconst BodyChannel = styled.div`\r\ntext-transform: capitalize;\r\noverflow: hidden;\r\nwhite-space: nowrap;\r\ntext-overflow: ellipsis;\r\n`\r\nconst Title = styled.label`\r\nfont-size: 1rem;\r\nmax-width: 100%;\r\nwhite-space: nowrap;\r\noverflow: hidden;\r\ntext-overflow: ellipsis;`\r\n\r\nconst TitleEpg = styled.label`\r\npadding-left: 2%;\r\nfont-size: 0.9rem;\r\nfont-weight: 100;\r\nmax-width: 70%;\r\nwhite-space: nowrap;\r\noverflow: hidden;\r\ntext-overflow: ellipsis;`\r\n\r\n/*const PlayingButton = styled.i`\r\nfont-size: 2.2rem;\r\ncolor: #fff;\r\nmargin-left:2px;\r\n`*/\r\n\r\nconst Favorite = styled.div`\r\nwidth: 1rem;\r\ndisplay: flex;\r\nalign-content: center;\r\nalign-self: center;\r\nz-index:10;\r\n\r\n& > i {\r\n    margin-left:2px;\r\n}\r\n`\r\n\r\nconst ChannelEpg = ({chId, Name, Epg, Shift, isPlaying}) => {\r\n    const h24Format = useSelector(state => state.h24);\r\n    const timer = useSelector(state => state.timer60);\r\n    const [epgNow, setEpgNow] = useState(false);\r\n    const [favorite, setFavorite] = useState(null)\r\n\r\n    useEffect(() => {\r\n        setFavorite(!!DB.findOne(\"live\",chId,true))\r\n        if(!Epg)\r\n            return;\r\n        async function fetchData() {\r\n            await downloadEpgData(chId, Epg, 1, Shift);\r\n            const newEpg = getSingleEpgNow(Epg,Shift);\r\n            if(!newEpg)\r\n                setEpgNow(false);\r\n            else if(newEpg && (epgNow === false || epgNow.start !== newEpg.start)){\r\n                setEpgNow({...newEpg});\r\n            } \r\n        }\r\n        fetchData();\r\n      }, []);\r\n\r\n    useEffect(() => {\r\n        setFavorite(!!DB.findOne(\"live\",chId,true))\r\n    }, [isPlaying])\r\n    \r\n    useEffect(() => {\r\n        const newEpg = getSingleEpgNow(Epg,Shift);\r\n        if(!newEpg)\r\n            setEpgNow(false);\r\n        else if(newEpg && (epgNow === false || epgNow.start !== newEpg.start)){\r\n            setEpgNow({...newEpg});\r\n        } \r\n    }, [timer]);\r\n\r\n    const setFavoriteGlob = (event) =>{\r\n        event.stopPropagation();\r\n\r\n        if(!!favorite)\r\n            DB.del(\"live\",chId,true)\r\n        else DB.set(\"live\",chId,{id: chId}, true)\r\n        setFavorite(!favorite);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className= {/*isPlaying ?*/ \"col-md-8 col-sm-6 col-xs-5 order-3\" /*: \"col-md-9 col-sm-8 col-xs-7 order-3\"*/}>\r\n                <HeaderChannel className=\"lh-1\">\r\n                    <span>{epgNow !== false && `${dateFormat(new Date(epgNow.start), h24Format)} - ${dateFormat(new Date(epgNow.end), h24Format)}`}</span>\r\n                </HeaderChannel>\r\n                <BodyChannel className={\"lh-sm\"}>\r\n                    <Title><b>{Name}</b></Title>\r\n                    <TitleEpg>{epgNow.title}</TitleEpg>\r\n                </BodyChannel>\r\n            </div>\r\n            {/*isPlaying ? (<div className=\"col-md-1 text-center order-4 p-0\" style={{width:\"1rem\"}}>\r\n                <PlayingButton className=\"far fa-play-circle\"></PlayingButton>\r\n    </div>)*/}\r\n            <Favorite className={`col-md-1 text-center order-4 p-0 ${isPlaying ? \"playing\" : \"\"}`} onClick={setFavoriteGlob}>\r\n                <i className={favorite !== false ? \"fas fa-star\" : \"far fa-star\"}></i>\r\n            </Favorite>\r\n            <div className=\"col-12 order-5\">\r\n                {epgNow !== false ?\r\n                (<ChannelEpgBar key={chId+ \" \" +epgNow.start} start={epgNow.start} stop={epgNow.end} isPlaying={isPlaying} />)\r\n                :\r\n                <ChannelEpgBar />\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ChannelEpg\r\n\r\n","import React, {useEffect} from \"react\"\r\nimport styled from \"styled-components\"\r\nimport ChannelEpg from \"./ChannelEpg\"\r\nimport \"../../other/Transition.css\"\r\n\r\nconst Li = styled.li`\r\n/*border-radius: .4rem;*/\r\nvertical-align: middle;\r\ndisplay: inline-flex;\r\njustify-content: center;\r\nalign-items: center;\r\ncolor: #829196;\r\nwidth: 90% !important;\r\nleft: 5% !important;\r\nborder-bottom: #000 1px solid;\r\n\r\n&:focus, &:hover{\r\n    outline-width: 0px;\r\n    /*background-color: #fff;\r\n    transition: background-color .3s ease-in-out;\r\n    color: #020d18 !important;\r\n    border-radius: 5px;*/\r\n    cursor: pointer;\r\n    border-bottom: #000 0px solid !important;\r\n}\r\n\r\n&:hover *, &:focus *{\r\n    /*color: #020d18 !important;*/\r\n    cursor :pointer;\r\n}\r\n\r\n\r\n& + & {\r\n    margin-top: 10px;\r\n    padding-top: 10px;\r\n    padding-bottom: 10px;\r\n}\r\n\r\n`\r\n\r\nconst ChannelNumber = styled.div`\r\nalign-self: center;\r\ntext-align: left;\r\npadding: 0;\r\npadding-left: 1rem;\r\n\r\n& > div{\r\n    font-size: 1rem !important;\r\n}\r\n`\r\nconst HeaderChannel = styled.div`\r\npadding-bottom: .4rem!important;\r\nline-height: 1!important;\r\nfont-size: 1rem;\r\nfont-weight: 700;\r\n`\r\nconst Logo = styled.div`\r\n/*background: #203d79;*/\r\npadding: .1rem .1rem;\r\nborder-radius: .2rem;\r\ntext-align: center;\r\nwidth: 100%;\r\nfont-weight: bold;\r\nmin-height: 3rem;\r\nmax-height: 3rem;\r\n\r\nbackground-position-x: center;\r\nbackground-position-y: center;\r\nbackground-size: contain;\r\nbackground-repeat: no-repeat;\r\n\r\n&>img{\r\n    max-height: 3rem;\r\n    height: auto;\r\n    width: auto;\r\n    padding-left: 0.5rem;\r\n    padding-right: 0.5rem;\r\n}\r\n`\r\n\r\nconst ChannelContainer = styled.div`\r\n/*padding-bottom: .2rem;\r\npadding-top: .2rem;*/\r\n`\r\n\r\nconst Channel = ({ Name, Image, Epg, Shift, Number, id, selected, selectEvent, virtualScrollStyle }) => {\r\n    const style = {}\r\n\r\n    useEffect(()=>{       \r\n        if(selected){\r\n            setTimeout(() => {\r\n                document.getElementById(\"selectedCh\") && (document.getElementById(\"selectedCh\").className += \" hvr-shutter-in-horizontal-on\")\r\n            }, 100)\r\n        }\r\n    },[])    \r\n    \r\n    \r\n\r\n    return (\r\n        <Li tabIndex={-1} onClick={!selected ? selectEvent : undefined} style={virtualScrollStyle} id={selected ? \"selectedCh\" : \"\"} className={selected ? \"channel hvr-grow-shadow  hvr-shutter-in-horizontal\" : \"channel hvr-reveal hvr-grow-shadow\"}> \r\n            <ChannelContainer className=\"container\" style={{style}}>\r\n                <div className=\"row\">\r\n                    <ChannelNumber className=\"col-sm-1 order-1\">\r\n                        <HeaderChannel>\r\n                            <span>{Number}</span>\r\n                        </HeaderChannel>\r\n                    </ChannelNumber>\r\n                    <div className=\"col-md-2 col-sm-3 order-2\">\r\n                        <Logo style={{backgroundImage:`url(${Image})`}}>\r\n                            {//<img src={Image} loading={\"lazy\"} /*onError={()=>{this.onerror=null;this.src='../images/nologo.png?1'}} */ align=\"middle\" alt=\"\" />\r\n                            }\r\n                        </Logo>\r\n                    </div>\r\n                    <ChannelEpg Name={Name} Epg={Epg} Shift={Shift} chId={id} isPlaying={selected}/>\r\n                </div>\r\n            </ChannelContainer>\r\n        </Li>\r\n        \r\n    )\r\n}\r\n\r\nexport default Channel\r\n","export const setPlayingChannel = (channel) => {\r\n    return{\r\n        type: \"SET_CHANNEL\",\r\n        payload: channel\r\n    }\r\n}\r\n","import React, {useEffect,useRef, useState} from 'react'\r\nimport styled from \"styled-components\"\r\nimport {useSelector, useDispatch} from \"react-redux\"\r\nimport Channel from \"./Channel\"\r\nimport {setPlayingChannel} from \"../../actions/playingChannel\"\r\nimport { FixedSizeList as List } from \"react-window\";\r\nimport {convertRemToPixels,convertVhToPixels} from \"../../other/convert-rem\"\r\nimport {useHistory,useLocation} from \"react-router-dom\";\r\nimport Popup from \"../Popup/Popup\"\r\n\r\nconst ChannelsList = styled.ul`\r\nheight: calc(95vh - 3rem);\r\npadding: .8rem .6rem;\r\nbackground-color: var(--first-color);\r\nlist-style-type: none;\r\nborder-left: 1px solid #000;\r\ntransform: translateY(-1px);\r\nbox-shadow: 0 7px 14px rgb(50 50 93 / 10%), 0 3px 6px rgb(0 0 0 / 8%);\r\n&:focus{\r\n    outline-width: 0px;\r\n}\r\n`\r\n\r\nconst Channels = ({playlist}) => {\r\n    const playingChannel = useSelector(state => state.playingCh);\r\n    \r\n    const query = useQuery();\r\n    const searchText = query.get(\"search\");\r\n    \r\n    const [showPopup, setShowPopup] = useState(false);\r\n    const [channelsPlaylist, setChannelsPlaylist] = useState(playlist);\r\n\r\n\r\n    const dispatch = useDispatch()\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n    const listRef = useRef();\r\n\r\n    \r\n    useEffect(() => {\r\n      if(playingChannel){\r\n        setTimeout(()=>focusChannel(),100)\r\n      }\r\n    }, [playingChannel]);\r\n\r\n    useEffect(() => {\r\n      setChannelsPlaylist(playlist)\r\n      setTimeout(()=>focusChannel(),100)\r\n    }, [playlist]);\r\n\r\n\r\n    useEffect(() => {\r\n      const searched = searchText ? playlist.filter(x=> x.name.toLowerCase().includes(searchText.toLowerCase())) : playlist\r\n      if(searched.length>0){\r\n        setChannelsPlaylist(searched)\r\n        setTimeout(() => focusChannel(), 100);\r\n      }else if(searchText)\r\n        setShowPopup(1)\r\n      else history.push(\"/live/category/\")\r\n    }, [searchText]);\r\n\r\n    const focusChannel = () => {\r\n      if(document.getElementById(\"selectedCh\"))\r\n        document.getElementById(\"selectedCh\").focus()\r\n      else if(document.querySelector(\".channel\"))\r\n        document.querySelector(\".channel\").focus()\r\n    }\r\n\r\n\r\n    const Row = ({ index, style }) => (\r\n        <Channel key={channelsPlaylist[index].stream_id} \r\n                Name={channelsPlaylist[index].name} \r\n                Shift = {channelsPlaylist[index].shift} \r\n                Epg={channelsPlaylist[index].epg_channel_id} \r\n                id={channelsPlaylist[index].stream_id} Image={channelsPlaylist[index].stream_icon} \r\n                Number={channelsPlaylist[index].num} \r\n                selectEvent={() => {\r\n                    dispatch(setPlayingChannel(channelsPlaylist[index]))\r\n                }}\r\n                virtualScrollStyle={style} \r\n                selected={playingChannel && playingChannel.stream_id === channelsPlaylist[index].stream_id} />\r\n    );\r\n\r\n    return (\r\n      <>\r\n        <ChannelsList tabIndex={0} >\r\n            <List\r\n              height={convertVhToPixels(\"95vh\")-convertRemToPixels(5)}\r\n              itemCount={channelsPlaylist.length}\r\n              itemSize={convertRemToPixels(5)}\r\n              style={{overflowY:\"auto\", maxHeight: \"calc(95vh - 3rem)\"}}\r\n              useIsScrolling={true}\r\n              ref={listRef}\r\n            >\r\n              {Row}\r\n            </List>          \r\n        </ChannelsList>\r\n        {showPopup && <Popup title={`No stream found with '${searchText}'`} description={\"Search will be resetted.\"} icon={\"fas fa-search\"}  onclick={()=>{\r\n          setShowPopup(0);\r\n          focusChannel();\r\n          history.replace(location.pathname.split(\"?\")[0])\r\n        }}/>}\r\n      </>\r\n    )\r\n}\r\n\r\nconst useQuery = () => {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport default Channels\r\n","export const setPlaylist = (playlist) => {\r\n    return{\r\n        type: \"SET_PLAYLIST\",\r\n        payload: playlist\r\n    }\r\n}\r\n","export const setGroupList = (groups) => {\r\n    return{\r\n        type: \"SET_GROUP\",\r\n        payload: groups\r\n    }\r\n}\r\n","import React, { useEffect, useState} from 'react'\r\nimport Player from \"../Player/Player\"\r\nimport EpgListing from \"./EpgListing\"\r\nimport Channels from \"./Channels\"\r\n\r\nimport styled from \"styled-components\"\r\nimport {useSelector, useDispatch} from \"react-redux\"\r\n\r\nimport {setPlaylist} from \"../../actions/set-Playlist\"\r\nimport {setGroupList} from \"../../actions/set-Group\"\r\n\r\nimport {resetMemory, setGroup} from \"../../other/last-opened-mode\"\r\n\r\nimport {loadGroup,loadPlaylist} from \"../../other/load-playlist\"\r\nimport {useParams, useHistory} from \"react-router-dom\";\r\n\r\nimport Popup from \"../Popup/Popup\"\r\n\r\nimport DB from \"../../other/local-db\"\r\n\r\nconst Main = styled.div`\r\npadding: 3vh 1vw;\r\nbackground-color: var(--first-color);\r\nheight: calc(100vh - 3rem);\r\nz-index:1;\r\ntransition: filter 0.5s ease;\r\n\r\n`\r\n\r\nconst ChannelTitle = styled.h5`\r\ncolor:white;\r\nwhite-space: nowrap;\r\ntext-overflow: ellipsis;\r\n`\r\n\r\n\r\nconst MainLive = () => {\r\n    const [blurBackground, setBlurBackground] = useState()\r\n\r\n    const playingChannel = useSelector(state => state.playingCh);\r\n    const playlist = useSelector(state => state.playlist);\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n\r\n    const { category } = useParams();\r\n    const [showPopup, setShowPopup] = useState(false);\r\n\r\n    useEffect(()=>{\r\n        const fun = async() => {\r\n            setBlurBackground(((isNaN(category) || category === undefined) || history.location.pathname.includes(\"menu\")) ? {filter:\"blur(.5rem)\",  pointerEvents: \"none\"} : {});\r\n            \r\n            if(category != undefined && category != 0){\r\n                let chs = await loadPlaylist(\"live\",category)\r\n                chs = chs || [];\r\n                if(category===\"fav\")\r\n                    chs = chs.filter(x=> DB.findOne(\"live\",x.stream_id,true))\r\n                dispatch(setPlaylist(chs));\r\n                if(chs.length === 0)\r\n                    setShowPopup(1)\r\n            }else if(resetMemory(\"live\")){\r\n                await loadGroup(\"live\").then(gps => {\r\n                    if(!gps || gps.length===0){\r\n                        history.replace(\"/\")\r\n                        return;\r\n                    }\r\n                    gps.unshift({category_name : \"Only favorites\", category_id:\"fav\"})\r\n                    setGroup(gps[1].category_id)\r\n                    dispatch(setGroupList(gps));\r\n                    history.replace(\"/live/category/\"+gps[1].category_id+\"/\")           \r\n                })\r\n            }else history.replace(\"/live/category/\");\r\n        }\r\n        fun()\r\n    },[dispatch,category])\r\n\r\n    useEffect(() => {\r\n        if(history.location)\r\n            setBlurBackground(((isNaN(category) && category === undefined) || history.location.pathname.includes(\"menu\")) ? {filter:\"blur(.5rem)\",  pointerEvents: \"none\"} : {});\r\n    }, [history.location.pathname, category])\r\n\r\n\r\n    return (\r\n        <div>\r\n        <Main style={blurBackground}>\r\n            <div className=\"row\">\r\n                <div className=\"col-5\" style={{paddingLeft:\"15px\", maxHeight : \"calc(100vh - 4rem)\"}}>\r\n                    <ChannelTitle>{playingChannel ? playingChannel.name : \"No channel selected\"}</ChannelTitle>\r\n                    {<Player/>}\r\n                    <EpgListing Epg={playingChannel ? playingChannel.epg_channel_id : null} Shift={playingChannel ? playingChannel.shift : 0}/>\r\n                </div>\r\n                <div className=\"col-7\" style={{paddingLeft:0}}>\r\n                    <Channels playlist={playlist}/>\r\n                </div>\r\n            </div>\r\n        </Main>\r\n        {showPopup && <Popup title={`No stream found in selected category.`} icon={\"fas fa-times\"}  onclick={()=>{\r\n        setBlurBackground({})\r\n          setShowPopup(0);\r\n          history.replace(\"/live/category/\")\r\n        }}/>}\r\n        {/*window.gSTB && (<Tips/>)*/}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MainLive\r\n","import React, {useState, useEffect} from \"react\"\r\nimport \"./Groups.css\"\r\nimport styled from \"styled-components\"\r\nimport {useSelector} from \"react-redux\"\r\nimport {useHistory, useParams} from \"react-router-dom\";\r\nimport {getGroup} from \"../../other/last-opened-mode\"\r\n\r\n\r\n\r\nconst Input = styled.input`\r\n&:focus{\r\n    border-color: var(--second-color);\r\n    box-shadow: 0 0 0 0.2rem var(--second-color-shadow);\r\n    transition: all .5s ease;\r\n}`\r\n\r\n\r\nconst Groups = () => {\r\n    const [navbar,setNavbar] = useState(false)\r\n    const [searchValue, setSearchValue] = useState(\"\");\r\n\r\n    const history = useHistory();\r\n    const { playingMode, category } = useParams();\r\n    \r\n    const groupsTemp = useSelector(state => state.groupsList);\r\n    const [groups, setGroups] = useState(groupsTemp)\r\n\r\n    const closeBar = () => {\r\n        setNavbar(false)\r\n        setTimeout(()=> history.goBack(),500);\r\n    }\r\n\r\n    useEffect(()=>{\r\n        setNavbar(isNaN(category))\r\n    },[category])\r\n\r\n    const searchGroup = (text) =>{\r\n        setSearchValue(text);\r\n        setGroups(text ? groupsTemp.filter(x=> x.category_name.toLowerCase().includes(text.toLowerCase())) : groupsTemp)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        setSearchValue()\r\n        setGroups(groups)\r\n    },[groupsTemp])\r\n\r\n    const selectGroup = (gp) =>{\r\n        setNavbar(false);\r\n        if(gp===-1 && playingMode !== \"live\")\r\n            setTimeout(()=>history.replace(`/${playingMode}/`), 500);\r\n        else{\r\n            setGroups(groups[gp].category_id)\r\n            setTimeout(()=>history.replace(`/${playingMode}/category/${groups[gp].category_id}/`), 500);\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if(!groups || groups.length===0)\r\n            history.replace(\"/\")\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n        <div className={`netflix-nav-rev netflix-nav-rev-black ${navbar ? \"visible\" : \"\"}`}>\r\n        \t<div className={`netflix-nav-rev netflix-nav-rev-red ${navbar ? \"visible\" : \"\"}`}>\r\n        \t\t<div className={`netflix-nav-rev netflix-nav-rev-white ${navbar ? \"visible\" : \"\"}`}>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-7\">\r\n                            < Input className = \"form-control\"\r\n                                type = \"text\"\r\n                                spellCheck = {false}\r\n                                placeholder = \"Search category...\"\r\n                                onChange = {(e) => searchGroup(e.target.value)}\r\n                                value = {searchValue}\r\n                            />\r\n                        </div>\r\n                        <div className=\"col-auto\">\r\n                            <button className=\"netflix-nav-rev-btn netflix-close-btn netflix-close-btn-reverse\" onClick={closeBar}><i className=\"fas fa-times\"></i></button>\r\n                        </div>\r\n                    </div>\r\n                   \r\n\r\n        \t\t\t<ul className=\"netflix-list netflix-list-reverse\">\r\n                    {playingMode !== \"live\" && (\r\n                        <li key={\"GP-1\"}>\r\n                            <button tabIndex = {-1}\r\n                                href = \"#\"\r\n                                id={\"*\"} \r\n                                className = \"lateral-focus hvr-grow-shadow group\"\r\n                                onClick={()=> selectGroup(-1)}\r\n                                >\r\n                                    All\r\n                            </button>\r\n                        </li>\r\n                    )}\r\n                    {groups && Array.isArray(groups) &&  (groups.map((gp,id) => (\r\n                        <li key={\"GP\"+gp.category_id}>\r\n                            <button tabIndex = {-1}\r\n                                href = \"#\"\r\n                                id={gp.category_id===getGroup() ? \"selectedGp\" : \"\"} \r\n                                className = \"lateral-focus hvr-grow-shadow group\"\r\n                                onClick={()=> selectGroup(id)}\r\n                                >\r\n                                    {gp.category_name}\r\n                            </button>\r\n                        </li>\r\n                    )))}\r\n        \t\t\t</ul>\r\n        \t\t</div>\r\n        \t</div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Groups\r\n","import React, {useState, useEffect} from \"react\"\r\nimport styled from 'styled-components'\r\nimport { useHistory, useParams, useLocation } from 'react-router';\r\nimport \"./Search.css\"\r\n\r\nconst Container = styled.div`\r\nposition:absolute;\r\nwidth:100%;\r\nheight:100%;\r\ntop:0;\r\nleft:0;\r\nz-index: 5;\r\ntransition: all .5s ease;\r\nopacity: 0;\r\n`\r\n\r\nconst Box = styled.form`\r\nposition: relative;\r\nwidth: 50% ;\r\nleft: 25% ;\r\ntop: 50% ;\r\ndisplay:flex;\r\n`\r\n\r\nconst Input = styled.input`\r\n&:focus{\r\n    color:white;\r\n    border-color: var(--second-color);\r\n    box-shadow: 0 0 0 0.2rem var(--second-color-shadow);\r\n    background-color: var(--first-color);\r\n    transition: all .5s ease;\r\n}`\r\n\r\nconst ClearButton = styled.button`\r\ncolor: #fff;\r\nbackground-color: var(--first-color);\r\nborder-color: var(--second-color);\r\ntransition: all .5s ease;\r\nmargin-right: 0.3rem;\r\n\r\n\r\n&:hover, &:focus{\r\n    background-color: #829196;\r\n    color:white;\r\n    border-color: #829196;\r\n    box-shadow: 0 0 0 0.2rem #82919608;\r\n    transition: all .5s ease;\r\n}\r\n`\r\n\r\nconst SearchButton = styled.button`\r\ncolor: #fff;\r\nbackground-color: var(--second-color);\r\ntransition: all .5s ease;\r\nmargin-left: 0.3rem;\r\n\r\n\r\n&:hover, &:focus{\r\n    background-color: #829196;\r\n    color:white;\r\n    border-color: #829196;\r\n    box-shadow: 0 0 0 0.2rem #82919608;\r\n    transition: all .5s ease;\r\n}\r\n`\r\n\r\nconst Search = () => {\r\n    const query = useQuery();\r\n    const history = useHistory();\r\n\r\n    const [searchValue, setSearchValue] = useState(query.get(\"search\") || \"\");\r\n    const [startingEffect, setStartingEffect] = useState();\r\n\r\n    const { playingMode, category } = useParams();\r\n\r\n    useEffect(() => {\r\n        setTimeout(()=> setStartingEffect(\"blur-search\"),1)\r\n    }, [])\r\n\r\n    const handleSubmit = (evt) => {\r\n        evt.preventDefault();\r\n        alert(`Submitting Name ${searchValue}`)\r\n    }\r\n  \r\n\r\n\r\n    const close = (e) => {\r\n        e.preventDefault();  \r\n        if(!searchValue){\r\n            clear();\r\n            return;\r\n        }\r\n        setStartingEffect();\r\n        setTimeout(()=> {\r\n            history.replace(category ? `/${playingMode}/category/${category}/?search=${searchValue}` : `/${playingMode}/?search=${searchValue}`);\r\n        },300)      \r\n    }\r\n\r\n    const clear = () => {\r\n        setStartingEffect();\r\n        setTimeout(()=> {\r\n            history.replace(category ? `/${playingMode}/category/${category}` : `/${playingMode}/`);\r\n        },300)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Container className={startingEffect}>\r\n                <Box onSubmit={handleSubmit}>\r\n                    <ClearButton type=\"button\" className=\"btn\" onClick={clear}>\r\n                        <i className=\"fa fa-times\"></i>\r\n                    </ClearButton>\r\n                    < Input className = \"form-control\"\r\n                    type = \"text\"\r\n                    spellCheck = {false}\r\n                    placeholder = \"Search stream...\"\r\n                    onChange = {(e) => setSearchValue(e.target.value)}\r\n                    value = {searchValue}\r\n                    />\r\n                    <SearchButton value=\"1\" type=\"submit\" className=\"btn\" onClick={close}>\r\n                        <i className=\"fa fa-search\"></i>\r\n                    </SearchButton>\r\n                </Box>\r\n            </Container>\r\n            {/*showKeyboard !== false && isMag && (<KeyboardOverlay onValueChange={onChangeKeyboard} onKeyboardClose={onKeyboardClose} itemValue={showKeyboard}/>)*/}\r\n        </>\r\n    )\r\n}\r\n\r\nconst useQuery = () => {\r\n    return new URLSearchParams(useLocation().search);\r\n  }\r\n\r\nexport default Search\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport {Link, useLocation } from \"react-router-dom\";\r\n\r\nconst DayLi = styled.li`\r\nmargin-right: .9375rem;\r\ndisplay: inline;\r\n\r\n& > a{\r\n    padding: 0;\r\n    color: #fff;\r\n    background-color: transparent;\r\n    border-radius: 1.375rem;\r\n    text-decoration: none;\r\n    white-space: nowrap;\r\n    font-size:.9rem\r\n\r\n}\r\n\r\n& > a > span{\r\n}`\r\n\r\nconst selectedDay = {\r\n    alignItems: \"center\",\r\n    lineHeight: \"1.2\",\r\n    padding: \".35rem 1.5625rem\",\r\n    maxHeight: \"2.8rem\",\r\n    borderRadius: \"1.375rem\",\r\n    backgroundColor: \"#2359a2\",\r\n    overflow: \"hidden\",\r\n    textTransform: \"uppercase\"\r\n}\r\n\r\n\r\n\r\nfunction Day({name, isSelected, date}) {\r\n    const location = useLocation();\r\n\r\n    return (\r\n        <DayLi>\r\n            <Link href=\"#\" to={generateUrlFromDate(location.pathname,date)} style={isSelected ? selectedDay : {}}>\r\n                <span>{name}</span>\r\n            </Link>\r\n        </DayLi>\r\n    )\r\n}\r\n\r\nconst generateUrlFromDate = (url, date) =>{\r\n    if(!date)\r\n        date = \"\";\r\n    url = url.replace(/\\/$/,\"\");\r\n    let splitted = url.split(\"/\");\r\n    let d = splitted[splitted.length-1];\r\n    if(isNaN(new Date(d).getTime())){\r\n        return url + \"/\" + date + \"/\";\r\n    }else return `${splitted.slice(0,-1).join(\"/\")}/${date ? date+\"/\" : \"\"}`;\r\n\r\n}\r\n\r\nexport default Day\r\n","import styled from \"styled-components\"\r\nimport {useSelector} from \"react-redux\"\r\nimport React, {useRef,useEffect} from \"react\"\r\nimport NavBar from \"./NavBar\"\r\nimport EpgChannel from \"./EpgChannel\"\r\nimport TimeBar from \"./TimeBar/TimeBar\"\r\nimport TimeLongLine from \"./TimeBar/TimeLongLine\"\r\nimport Popup from \"./Popup\"\r\nimport focusElement from \"../../other/focused-element\"\r\nimport { FixedSizeList as List } from \"react-window\";\r\nimport {convertRemToPixels,convertVhToPixels} from \"../../other/convert-rem\"\r\nimport {useHistory, useParams} from \"react-router-dom\";\r\n\r\n\r\nconst Container = styled.div`\r\nposition:absolute;\r\ntop:0px;\r\nleft:0px;\r\nwidth:100vw;\r\nheight:100%;\r\nmax-height:100vh;\r\nbackground-color:white;\r\nz-index:20;\r\noverflow:hidden;\r\n`\r\n\r\nconst ChannelsContainer = styled.div`\r\ndisplay: block;\r\nheight: calc(100vh - 3.5rem);\r\nmargin: 0 auto;\r\nflex-grow: 1;\r\noverflow-x:hidden;\r\n/*overflow: hidden;*/\r\n\r\n\r\n& > div{\r\n    display: block;\r\n    position: relative;\r\n    scrollbar-width: none;\r\n    height: 100%;\r\n    scroll-behavior: smooth;\r\n}\r\n\r\n& > div > div{\r\n    transform: translateY(0px);\r\n    position: absolute;\r\n    left: 0;\r\n    contain: content;\r\n    min-width: 408rem;\r\n    max-width: 408rem;\r\n}\r\n`\r\n\r\nconst EpgChannelsContainer = styled.div`\r\ntop:4rem;\r\nmax-height:calc(100vh - 8rem);\r\n`\r\n\r\nconst ClosePopup = styled.a`\r\ncolor:white;\r\nposition:absolute;\r\nright:1rem;\r\ntop:0.2rem;\r\nfont-weight: 500;\r\nline-height: 1.2;\r\nfont-size: 2.5rem;\r\ntransition: all .15s ease;\r\nz-index:1000;\r\n\r\n&:hover{\r\n    color: #020d18;\r\n    cursor: pointer;\r\n}\r\n`\r\n\r\nlet isScrolling;\r\nconst EpgFullListing = () => {\r\n    const channelsPlaylist = useSelector(state => state.playlist);\r\n    const playingChannel = useSelector(state => state.playingCh);\r\n    const h24 = useSelector(state => state.h24);\r\n\r\n    const history = useHistory();\r\n    const {category, date} = useParams();\r\n    const scrollRef = useRef(null)\r\n    const listRef = useRef();\r\n\r\n    const day = date ? parseInt((new Date(date) - Date.now()) / (1000 * 60 * 60 * 24), 10)+1 : 0;\r\n\r\n\r\n\r\n\r\n    const executeScroll = () => day === 0 && (scrollRef.current.scroll(new Date().getHours()*230,0));\r\n\r\n    let leftScroll = 0;\r\n    \r\n    let activeElement;\r\n    useEffect(() => {\r\n        playingChannel && (listRef.current.scrollToItem(channelsPlaylist.findIndex(x=>x.stream_id === playingChannel.stream_id), \"center\"));\r\n        executeScroll();\r\n        setTimeout(()=>{\r\n            let toSelect = activeElement || document.querySelector(\".isActive\") || document.querySelector(\".noActive\")\r\n            toSelect && (toSelect.focus())\r\n        },50)\r\n        centerLogo();\r\n    })\r\n\r\n    const centerLogo = (event) =>{\r\n        clearTimeout( isScrolling );\r\n        isScrolling = setTimeout(function() {\r\n            if(Math.abs(scrollRef.current.scrollLeft-leftScroll)>100){\r\n                leftScroll = scrollRef.current.scrollLeft;\r\n                Array.from(document.querySelectorAll(\".chLogo\")).forEach(x=> x.style.left = `calc(${leftScroll}px + 140px)`)\r\n            }\r\n        }, 66);\r\n    }\r\n\r\n    const navButtonScroll = (val) =>{\r\n        scrollRef.current.scroll({left:scrollRef.current.scrollLeft+val,behavior: 'smooth'})\r\n    }\r\n\r\n    const close = () =>{\r\n        setTimeout(()=>document.getElementById(\"selectedCh\") ? document.getElementById(\"selectedCh\").focus() : document.querySelector(\".channel\").focus(),100)\r\n        history.push(\"/live/category/\"+category+\"/\")\r\n    }\r\n\r\n    const moveFocus = (event) => {\r\n        if(event.keyCode === 27 || event.keyCode === 8){\r\n            close();\r\n            return;\r\n        }\r\n\r\n        activeElement = document.activeElement;\r\n        if(event.keyCode === 39 && activeElement.nextSibling) {\r\n            //window.gSTB && (activeElement.parentNode.parentNode.parentNode.parentNode.scrollLeft=activeElement.nextSibling.style.transform.match(/\\d{1,}\\.{0,}\\d{0,}/g)+\"rem\");\r\n            activeElement.nextSibling.focus();\r\n        }\r\n        else if(event.keyCode === 37 && activeElement.previousSibling) {\r\n            //window.gSTB && (activeElement.parentNode.parentNode.parentNode.parentNode.scrollLeft=activeElement.previousSibling.style.transform.match(/\\d{1,}\\.{0,}\\d{0,}/g)+\"rem\");\r\n            activeElement.previousSibling.focus();\r\n        }else if(event.keyCode === 13) {\r\n            focusElement.setFocus(activeElement);\r\n            activeElement.click();\r\n        }else if(event.keyCode === 40 || event.keyCode === 38) {\r\n            let start = parseInt(activeElement.dataset.start);\r\n            //let stop = parseInt(activeElement.dataset.stop);\r\n\r\n            let next = activeElement.parentElement.parentElement;\r\n            next = event.keyCode === 40 ? next.nextElementSibling : next.previousSibling;\r\n            do{\r\n                if(!next)\r\n                    break;\r\n                if(next && next.children.length > 1 && next.children[1].children && next.children[1].children.length > 0)\r\n                    break;\r\n                else next = next = event.keyCode === 40 ? next.nextElementSibling : next.previousSibling;\r\n            }while(next &&  !next.children[1].children)\r\n            if(next && next.children[1].children && next.children[1].children.length > 0){\r\n                \r\n                let element = Array.from(next.children[1].children).sort((a,b) => {\r\n                    let nextStartA = Math.abs(parseInt(a.dataset.start)-start);\r\n                    let nextStartB = Math.abs(parseInt(b.dataset.start)-start);\r\n\r\n                    //let nextStopA = Math.abs(parseInt(a.dataset.stop)-stop);\r\n                    //let nextStopB = Math.abs(parseInt(b.dataset.stop)-stop);\r\n                    \r\n                    return nextStartA-nextStartB //> nextStopA-nextStopB ? nextStartA-nextStartB : nextStopA-nextStopB\r\n                })\r\n\r\n                let toFocus = element[0] || next.children[1].children[0];\r\n                if(toFocus){\r\n                    toFocus.focus();\r\n                    setTimeout(() => {\r\n                        document.getElementById(toFocus.id) && (document.getElementById(toFocus.id).focus())\r\n                    }, 10);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    const Row = ({ index, style }) => (\r\n        <EpgChannel day={day} Shift={channelsPlaylist[index].shift} chId={channelsPlaylist[index].stream_id} key={index} Name={channelsPlaylist[index].name} Image={channelsPlaylist[index].stream_icon} Epg={channelsPlaylist[index].epg_channel_id} moveFocus={moveFocus} style={style} leftScroll={leftScroll} catchup={channelsPlaylist[index].tv_archive_duration}></EpgChannel>\r\n      );\r\n    /*\r\n    ORIGINALE:\r\n    {channelsPlaylist.map((x,id)=> (\r\n        <EpgChannel day={day} key={id} Name={x.Name} Image={x.Image} Epg={x.Epg} moveFocus={moveFocus}></EpgChannel>\r\n    ))}\r\n\r\n    <List\r\n      width={convertRemToPixels(370)}\r\n      height={convertRemToPixels(50)}\r\n      itemCount={channelsPlaylist.length}\r\n      itemSize={convertRemToPixels(10)}\r\n    >\r\n      {Row}\r\n    </List>\r\n    */\r\n\r\n    let height = 0;\r\n    height = convertVhToPixels(\"100vh\")-convertRemToPixels(9)\r\n\r\n    return (\r\n        <Container>\r\n            <NavBar day={day}></NavBar>\r\n            <ClosePopup onClick={close}><i className=\"far fa-times-circle\"></i></ClosePopup>\r\n            <ChannelsContainer style={{overflow:\"auto\"}}   ref={scrollRef} onScroll={centerLogo} >\r\n                <div>\r\n                    <TimeBar day={day} h24={h24===\"HH:MM\"} scrollBtn={navButtonScroll}/>\r\n                    <EpgChannelsContainer>\r\n                        <List\r\n                          height={height}\r\n                          itemCount={channelsPlaylist.length}\r\n                          itemSize={convertRemToPixels(10)}\r\n                          style={{overflowX:\"hidden\", overflowY:\"auto\", bottom:0, marginTop:\"0.6rem\"}}\r\n                          ref = {listRef}\r\n                          useIsScrolling={true}\r\n                        >\r\n                          {Row}\r\n                        </List>\r\n                        {day === 0 && (<TimeLongLine/>)}\r\n                    </EpgChannelsContainer>\r\n                </div>\r\n            </ChannelsContainer>\r\n            <Popup/>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default EpgFullListing\r\n\r\n","import React, { useEffect, useState, useRef } from 'react';\r\nimport {\r\n  FaUndoAlt,\r\n  FaPlay,\r\n  FaPause,\r\n  FaVolumeUp,\r\n  FaVolumeDown,\r\n  FaVolumeOff,\r\n  FaVolumeMute,\r\n  FaArrowLeft,\r\n  FaExpand,\r\n  FaStepForward,\r\n  FaCog,\r\n  FaClone,\r\n  FaCompress,\r\n  FaRedoAlt,\r\n} from 'react-icons/fa';\r\n\r\nimport {\r\n  CgInpicture\r\n}from 'react-icons/cg';\r\n\r\nimport { FiCheck, FiX } from 'react-icons/fi';\r\nimport {\r\n  Loading,\r\n  StandyByInfo,\r\n  VideoPreLoading,\r\n  Container,\r\n  Controlls,\r\n  VolumeControll,\r\n  ItemPlaybackRate,\r\n  IconPlayBackRate,\r\n  ItemNext,\r\n  ItemListReproduction,\r\n  ItemListQuality,\r\n} from './style';\r\nimport \"./style.css\"\r\n\r\nlet intervalProgress;\r\n\r\nexport default function ReactNetflixPlayer({\r\n  title = false,\r\n  subTitle = false,\r\n  titleMedia = false,\r\n  extraInfoMedia = false,\r\n\r\n  fullPlayer = true,\r\n  backButton = false,\r\n\r\n  src,\r\n\r\n  onCanPlay = false,\r\n  onTimeUpdate = false,\r\n  onEnded = false,\r\n  onErrorVideo = false,\r\n  onNextClick = false,\r\n  onClickItemListReproduction = false,\r\n  startPosition = 0,\r\n\r\n  playlistTitle = \"Playlist\",\r\n\r\n  dataNext = {},\r\n  reprodutionList = [],\r\n  qualities = [],\r\n  onChangeQuality = [],\r\n  playbackRateEnable = true,\r\n  overlayEnabled = true,\r\n  autoControllCloseEnabled = true,\r\n\r\n  // Styles\r\n  primaryColor = '#03dffc',\r\n  secundaryColor = '#ffffff',\r\n  fontFamily = \"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif\",\r\n  syncDuration = false,\r\n  // subtitleMedia,\r\n}) {\r\n  // Referncias\r\n  const videoComponent = useRef(null);\r\n  const timerRef = useRef(null);\r\n  const timerBuffer = useRef(null);\r\n  const playerElement = useRef(null);\r\n  const listReproduction = useRef(null);\r\n  const progressBar = useRef(null)\r\n  const progressText = useRef(null)\r\n  // Estados\r\n  const [videoReady, setVideoReady] = useState(false);\r\n  const [playing, setPlaying] = useState(true);\r\n  const [progress, setProgress] = useState(0);\r\n  const [duration, setDuration] = useState(0);\r\n  const [end, setEnd] = useState(false);\r\n  const [controlBackEnd, setControlBackEnd] = useState(false);\r\n  const [fullScreen, setFullScreen] = useState(false);\r\n  const [volume, setVolume] = useState(100);\r\n  const [muted, setMuted] = useState(false);\r\n  const [error, setError] = useState(false);\r\n  const [waitingBuffer, setWaitingBuffer] = useState(false);\r\n  const [showControls, setShowControls] = useState(false);\r\n  const [showInfo, setShowInfo] = useState(false);\r\n  const [playbackRate, setPlaybackRate] = useState(1);\r\n  const [started, setStarted] = useState(false);\r\n  const [pip, setPip] = useState(false);\r\n\r\n  const [showControlVolume, setShowControlVolume] = useState(false);\r\n  const [showQuality, setShowQuality] = useState(false);\r\n  const [showDataNext, setShowDataNext] = useState(false);\r\n  const [showPlaybackRate, setShowPlaybackRate] = useState(false);\r\n  const [showReproductionList, setShowReproductionList] = useState(false);\r\n\r\n  const playbackRateOptions = ['0.25', '0.5', '0.75', 'Normal', '1.25', '1.5', '2'];\r\n\r\n\r\n  const [, setActualBuffer] = useState({\r\n    index: 0,\r\n    start: 0,\r\n    end: 0,\r\n  });\r\n\r\n  const secondsToHms = d => {\r\n    d = Number(d);\r\n    const h = Math.floor(d / 3600);\r\n    let m = Math.floor((d % 3600) / 60);\r\n    let s = Math.floor((d % 3600) % 60);\r\n\r\n    if (s < 10) {\r\n      s = `0${s}`;\r\n    }\r\n\r\n    if (m < 10) {\r\n      m = `0${m}`;\r\n    }\r\n\r\n    if (h) {\r\n      return `${h}:${m}:${s}`;\r\n    }\r\n\r\n    return `${m}:${s}`;\r\n  };\r\n\r\n  const timeUpdate = e => {\r\n    setShowInfo(false);\r\n    setEnd(false);\r\n    if (playing) {\r\n      setPlaying(true);\r\n    }\r\n\r\n    if (waitingBuffer) {\r\n      setWaitingBuffer(false);\r\n    }\r\n\r\n    if (timerBuffer.current) {\r\n      clearTimeout(timerBuffer.current);\r\n    }\r\n\r\n    timerBuffer.current = setTimeout(() => setWaitingBuffer(true), 1000);\r\n\r\n    if (onTimeUpdate) {\r\n      onTimeUpdate(e);\r\n    }\r\n\r\n    let choseBuffer = 0;\r\n    const lenghtBuffer = e.target.buffered.length;\r\n    let start = 0;\r\n    let endBuffer = 0;\r\n    const atualTime = e.target.currentTime;\r\n\r\n    for (let i = 1; i <= lenghtBuffer; i++) {\r\n      const startCheck = e.target.buffered.start(i - 1);\r\n      const endCheck = e.target.buffered.end(i - 1);\r\n\r\n      if (endCheck > atualTime && atualTime > startCheck) {\r\n        choseBuffer = i;\r\n\r\n        if (endCheck > endBuffer) {\r\n          endBuffer = endCheck;\r\n        }\r\n\r\n        if (startCheck < start) {\r\n          start = startCheck;\r\n        }\r\n      }\r\n    }\r\n\r\n    setActualBuffer({\r\n      index: choseBuffer,\r\n      start,\r\n      endBuffer,\r\n    });\r\n\r\n    //setProgress(e.target.currentTime)\r\n  };\r\n\r\n  const goToPosition = position => {\r\n    videoComponent.current.currentTime = position;\r\n    setProgress(position)\r\n    syncDuration(position, position *100/duration)\r\n  };\r\n\r\n  const play = () => {\r\n    setPlaying(!playing);\r\n\r\n    if (videoComponent.current.paused) {\r\n      videoComponent.current.play();\r\n      return;\r\n    }\r\n\r\n    videoComponent.current.pause();\r\n  };\r\n\r\n  const onEndedFunction = () => {\r\n    if (+startPosition === +videoComponent.current.duration && !controlBackEnd) {\r\n      setControlBackEnd(true);\r\n      videoComponent.current.currentTime = videoComponent.current.duration - 30;\r\n      if (true) {\r\n        setPlaying(true);\r\n        videoComponent.current.play();\r\n      } else {\r\n        setPlaying(false);\r\n      }\r\n    } else {\r\n      setEnd(true);\r\n      setPlaying(false);\r\n\r\n      if (onEnded) {\r\n        onEnded();\r\n      }\r\n    }\r\n  };\r\n\r\n  const nextSeconds = seconds => {\r\n    const current = videoComponent.current.currentTime;\r\n    const total = videoComponent.current.duration;\r\n\r\n    if (current + seconds >= total - 2) {\r\n      videoComponent.current.currentTime = videoComponent.current.duration - 1;\r\n      setProgress(videoComponent.current.duration - 1)\r\n\r\n      return;\r\n    }\r\n\r\n    videoComponent.current.currentTime += seconds;\r\n    //setProgress(videoComponent.current.currentTime + seconds)\r\n  };\r\n\r\n  const previousSeconds = seconds => {\r\n    const current = videoComponent.current.currentTime;\r\n\r\n    if (current - seconds <= 0) {\r\n      videoComponent.current.currentTime = 0;\r\n      setProgress(0)\r\n      return;\r\n    }\r\n\r\n    videoComponent.current.currentTime -= seconds;\r\n    //setProgress(videoComponent.current.currentTime - seconds)\r\n  };\r\n\r\n  const startVideo = () => {\r\n    try {\r\n      setDuration(videoComponent.current.duration);\r\n      setVideoReady(true);\r\n\r\n      if (!started) {\r\n        setStarted(true);\r\n        setPlaying(false);\r\n\r\n        if (true) {\r\n          videoComponent.current.play();\r\n          setPlaying(!videoComponent.current.paused);\r\n        }\r\n      }\r\n\r\n      if (onCanPlay) {\r\n        onCanPlay();\r\n      }\r\n    } catch (err) {\r\n      setPlaying(false);\r\n    }\r\n  };\r\n\r\n  const erroVideo = () => {\r\n    if (onErrorVideo) {\r\n      onErrorVideo();\r\n    }\r\n    setError('Something went wrong playing this video');\r\n  };\r\n\r\n  const setMuttedAction = value => {\r\n    setMuted(value);\r\n    setShowControlVolume(false);\r\n    videoComponent.current.muted = value;\r\n  };\r\n\r\n  const setVolumeAction = value => {\r\n    setVolume(value);\r\n    videoComponent.current.volume = value / 100;\r\n  };\r\n\r\n  const exitFullScreen = () => {\r\n    if (\r\n      document.webkitIsFullScreen ||\r\n      document.mozFullScreen ||\r\n      document.msFullscreenElement ||\r\n      document.fullscreenElement\r\n    ) {\r\n      if (document.exitFullscreen) {\r\n        document.exitFullscreen();\r\n      } else if (document.msExitFullscreen) {\r\n        document.msExitFullscreen();\r\n      } else if (document.mozCancelFullScreen) {\r\n        document.mozCancelFullScreen();\r\n      } else {\r\n        document.webkitExitFullscreen();\r\n      }\r\n\r\n      setFullScreen(false);\r\n    }\r\n  };\r\n\r\n  const enterFullScreen = () => {\r\n    setShowInfo(true);\r\n    if (playerElement.current.requestFullscreen) {\r\n      playerElement.current.requestFullscreen();\r\n      setFullScreen(true);\r\n    } else if (playerElement.current.webkitRequestFullscreen) {\r\n      playerElement.current.webkitRequestFullscreen();\r\n      setFullScreen(true);\r\n    }\r\n  };\r\n\r\n  const chooseFullScreen = () => {\r\n    if (\r\n      document.webkitIsFullScreen ||\r\n      document.mozFullScreen ||\r\n      document.msFullscreenElement ||\r\n      document.fullscreenElement\r\n    ) {\r\n      document.exitFullscreen();\r\n      return;\r\n    }\r\n\r\n    setShowInfo(true);\r\n\r\n    if (playerElement.current.requestFullscreen) {\r\n      playerElement.current.requestFullscreen();\r\n    } else if (playerElement.current.webkitRequestFullscreen) {\r\n      playerElement.current.webkitRequestFullscreen();\r\n    } else if (playerElement.current.mozRequestFullScreen) {\r\n      playerElement.current.mozRequestFullScreen();\r\n    } else if (playerElement.current.msRequestFullscreen) {\r\n      playerElement.current.msRequestFullscreen();\r\n    }\r\n\r\n    setFullScreen(true);\r\n  };\r\n\r\n  const setStateFullScreen = () => {\r\n    if (\r\n      !document.webkitIsFullScreen &&\r\n      !document.mozFullScreen &&\r\n      !document.msFullscreenElement &&\r\n      !document.fullscreenElement\r\n    ) {\r\n      setFullScreen(false);\r\n      return;\r\n    }\r\n\r\n    setFullScreen(true);\r\n  };\r\n\r\n  const controllScreenTimeOut = () => {\r\n    if (!autoControllCloseEnabled) {\r\n      setShowInfo(true);\r\n      return;\r\n    }\r\n\r\n    setShowControls(false);\r\n    if (!playing) {\r\n      setShowInfo(true);\r\n    }\r\n  };\r\n\r\n  const hoverScreen = () => {\r\n    if(intervalProgress)\r\n      return;\r\n    setShowControls(true);\r\n    setShowInfo(false);\r\n\r\n    if (timerRef.current) {\r\n      clearTimeout(timerRef.current);\r\n      clearInterval(intervalProgress)\r\n      if(progressText.current)\r\n        progressText.current.innerText = secondsToHms(videoComponent.current.currentTime)\r\n      if(progressBar.current){\r\n        progressBar.current.value = videoComponent.current.currentTime;\r\n        syncDuration(progressBar.current.value, progressBar.current.value*100/duration)\r\n        progressBar.current.style.background =  \"linear-gradient(to right,  var(--second-color) 0%,var(--second-color) \"+ (progressBar.current.value*100/duration) +\"%,#191919 \"+ (progressBar.current.value*100/duration) +\"%,#191919 100%)\";\r\n      };\r\n    }\r\n\r\n   \r\n\r\n    intervalProgress = setInterval(()=>{\r\n      if(progressText.current)\r\n        progressText.current.innerText = secondsToHms(videoComponent.current.currentTime)\r\n      if(progressBar.current){\r\n        progressBar.current.value = videoComponent.current.currentTime;\r\n        progressBar.current.style.background =  \"linear-gradient(to right,  var(--second-color) 0%,var(--second-color) \"+ (progressBar.current.value*100/duration) +\"%,#191919 \"+ (progressBar.current.value*100/duration) +\"%,#191919 100%)\";\r\n      };\r\n    },800)\r\n\r\n\r\n    timerRef.current = setTimeout(()=>{\r\n      controllScreenTimeOut();\r\n      clearInterval(intervalProgress)\r\n      intervalProgress = null;\r\n    }, 5000);\r\n  };\r\n\r\n  const getKeyBoardInteration = e => {\r\n    if (e.keyCode === 32 && videoComponent.current) {\r\n      if (videoComponent.current.paused) {\r\n        videoComponent.current.play();\r\n        setPlaying(true);\r\n        hoverScreen();\r\n      } else {\r\n        videoComponent.current.pause();\r\n        setPlaying(false);\r\n        hoverScreen();\r\n      }\r\n    }else if (e.keyCode === 37 && videoComponent.current) {\r\n      previousSeconds(20);\r\n    }else if (e.keyCode === 39 && videoComponent.current) {\r\n      nextSeconds(20)\r\n    }\r\n  };\r\n\r\n  const scrollToSelected = () => {\r\n    const element = listReproduction.current;\r\n      const selected = element.getElementsByClassName('selected')[0];\r\n      if(selected){\r\n        const position = selected.offsetTop;\r\n        const height = selected.offsetHeight;\r\n        element.scrollTop = position - height * 2;\r\n      }\r\n  };\r\n\r\n  const onChangePlayBackRate = speed => {\r\n    speed = speed === 'Normal' ? 1 : speed;\r\n    videoComponent.current.playbackRate = speed;\r\n    setPlaybackRate(speed);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (showReproductionList) {\r\n      scrollToSelected();\r\n    }\r\n  }, [showReproductionList]);\r\n\r\n  useEffect(() => {\r\n    async function goPip(){\r\n      if (videoComponent && videoComponent.current) {\r\n        try {\r\n          if (videoComponent.current !== document.pictureInPictureElement)\r\n            await videoComponent.current.requestPictureInPicture();\r\n          else\r\n            await videoComponent.current.exitPictureInPicture();\r\n        } catch (error) {\r\n          console.log(\"Can't get PIP \", error)\r\n        }\r\n      }\r\n    } \r\n    goPip();\r\n  }, [pip])\r\n\r\n  useEffect(() => {\r\n    if (src) {\r\n      videoComponent.current.currentTime = startPosition;\r\n      progressBar.current && (progressBar.current.value = 0);\r\n      setDuration(0);\r\n      setVideoReady(false);\r\n      setError(false);\r\n      setShowReproductionList(false);\r\n      setShowDataNext(false);\r\n      setActualBuffer({\r\n        index: 0,\r\n        start: 0,\r\n        end: 0,\r\n      });\r\n      setPlaying(true);\r\n    }\r\n  }, [src]);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('keydown', getKeyBoardInteration, false);\r\n    playerElement.current.addEventListener('fullscreenchange', setStateFullScreen, false);\r\n  }, []);\r\n\r\n  // When changes happen in fullscreen document, teh state of fullscreen is changed\r\n  useEffect(() => {\r\n    setStateFullScreen();\r\n  }, [document.fullscreenElement, document.webkitIsFullScreen, document.mozFullScreen, document.msFullscreenElement]);\r\n\r\n  function renderLoading() {\r\n    return (\r\n      <Loading color={primaryColor}>\r\n        <div>\r\n          <div />\r\n          <div />\r\n          <div />\r\n        </div>\r\n      </Loading>\r\n    );\r\n  }\r\n\r\n  function renderInfoVideo() {\r\n    return (\r\n      <StandyByInfo\r\n        primaryColor={primaryColor}\r\n        secundaryColor={secundaryColor}\r\n        show={showInfo === true && videoReady === true && playing === false}\r\n      >\r\n        {(title || subTitle) && (\r\n          <section className=\"center\">\r\n            <h3 className=\"text\">You're watching</h3>\r\n            <h1 className=\"title\">{title}</h1>\r\n            <h2 className=\"sub-title\">{subTitle}</h2>\r\n          </section>\r\n        )}\r\n        <footer>Paused</footer>\r\n      </StandyByInfo>\r\n    );\r\n  }\r\n\r\n  function renderCloseVideo() {\r\n    return (\r\n      <VideoPreLoading\r\n        backgroundColorHoverButtonError=\"#f78b28\"\r\n        colorHoverButtonError=\"#ddd\"\r\n        colorButtonError=\"#ddd\"\r\n        backgroundColorButtonError=\"#333\"\r\n        colorTitle=\"#fff\"\r\n        colorSubTitle=\"#fff\"\r\n        colorIcon=\"#fff\"\r\n        show={videoReady === false || (videoReady === true && error)}\r\n        showError={!!error}\r\n      >\r\n        {(title || subTitle) && (\r\n          <header>\r\n            <div>\r\n              <h1>{title}</h1>\r\n              <h2>{subTitle}</h2>\r\n            </div>\r\n            <FiX onClick={backButton} />\r\n          </header>\r\n        )}\r\n\r\n        <section>\r\n          {error && (\r\n            <div>\r\n              <h1>{error}</h1>\r\n              {qualities.length > 1 && (\r\n                <div>\r\n                  <p>Try changing the image quality</p>\r\n                  <div className=\"links-error\">\r\n                    {qualities.map(item => (\r\n                      <div onClick={() => onChangeQuality(item.id)}>\r\n                        {item.prefix && <span>HD</span>}\r\n                        <span>{item.nome}</span>\r\n                        {item.playing && <FiX />}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </section>\r\n      </VideoPreLoading>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container\r\n      onMouseMove={hoverScreen}\r\n      ref={playerElement}\r\n      onDoubleClick={chooseFullScreen}\r\n      fullPlayer={fullPlayer}\r\n      hideVideo={!!error}\r\n      fontFamily={fontFamily}\r\n    >\r\n      {(videoReady === false || (waitingBuffer === true && playing === true)) && !error && !end && renderLoading()}\r\n\r\n      {!!overlayEnabled && renderInfoVideo()}\r\n\r\n      {renderCloseVideo()}\r\n\r\n      {/* eslint-disable-next-line jsx-a11y/media-has-caption */}\r\n      <video\r\n        ref={videoComponent}\r\n        src={src}\r\n        controls={false}\r\n        onCanPlay={() => startVideo()}\r\n        onTimeUpdate={timeUpdate}\r\n        onError={erroVideo}\r\n        onEnded={onEndedFunction}\r\n        onPause={() => setPlaying(false)}\r\n        onPlaying={() => setPlaying(true)}\r\n      >\r\n        {/* <track label=\"English\" kind=\"subtitles\" srcLang=\"en\" src={subtitleMedia} default /> */}\r\n      </video>\r\n\r\n      <Controlls\r\n        show={showControls === true && videoReady === true && error === false}\r\n        primaryColor={primaryColor}\r\n        progressVideo={(progress * 100) / duration}\r\n      >\r\n        {backButton && (\r\n          <div className=\"back\">\r\n            <div onClick={backButton} style={{ cursor: 'pointer' }}>\r\n              <FaArrowLeft />\r\n              <span>Go Back</span>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {showControlVolume !== true && showQuality !== true && !showDataNext && !showReproductionList && (\r\n          <div className=\"line-reproduction\">\r\n            <span className=\"mr-1\" ref={progressText}></span>\r\n            <input\r\n              type=\"range\"\r\n              ref = {progressBar}\r\n              className=\"progress-netflix\"\r\n              max={duration}\r\n              onChange={e => goToPosition(e.target.value)}\r\n              title=\"\"\r\n              style={\r\n                {\r\n                  // background: `linear-gradient(93deg, rgba(247,139,40,1) ${\r\n                  //   (progress * 100) / duration\r\n                  // }%, blue ${\r\n                  //   (progress * 100) / duration\r\n                  // }%, blue ${\r\n                  //   (atualBuffer.end * 100) / duration\r\n                  // }%, red ${\r\n                  //   (atualBuffer.end * 100) / duration\r\n                  // }%)`,\r\n                }\r\n              }\r\n            />\r\n            <span>{secondsToHms(duration)}</span>\r\n          </div>\r\n        )}\r\n\r\n        {videoReady === true && (\r\n          <div className=\"controlls\">\r\n            <div className=\"start\">\r\n              <div className=\"item-control\">\r\n                {!playing && <FaPlay onClick={play} />}\r\n                {playing && <FaPause onClick={play} />}\r\n              </div>\r\n\r\n              <div className=\"item-control\">\r\n                <FaUndoAlt onClick={() => previousSeconds(20)} />\r\n              </div>\r\n\r\n              <div className=\"item-control\">\r\n                <FaRedoAlt onClick={() => nextSeconds(20)} />\r\n              </div>\r\n\r\n              {muted === false && (\r\n                <VolumeControll\r\n                  onMouseLeave={() => setShowControlVolume(false)}\r\n                  className=\"item-control\"\r\n                  primaryColor={primaryColor}\r\n                  percentVolume={volume}\r\n                >\r\n                  {showControlVolume === true && (\r\n                    <div className=\"volumn-controll\">\r\n                      <div className=\"box-connector\" />\r\n                      <div className=\"box\">\r\n                        <input\r\n                          type=\"range\"\r\n                          min={0}\r\n                          max={100}\r\n                          value={volume}\r\n                          step={1}\r\n                          onChange={e => setVolumeAction(e.target.value)}\r\n                          title=\"\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {volume >= 60 && (\r\n                    <FaVolumeUp onMouseEnter={() => setShowControlVolume(true)} onClick={() => setMuttedAction(true)} />\r\n                  )}\r\n\r\n                  {volume < 60 && volume >= 10 && (\r\n                    <FaVolumeDown\r\n                      onMouseEnter={() => setShowControlVolume(true)}\r\n                      onClick={() => setMuttedAction(true)}\r\n                    />\r\n                  )}\r\n\r\n                  {volume < 10 && volume > 0 && (\r\n                    <FaVolumeOff\r\n                      onMouseEnter={() => setShowControlVolume(true)}\r\n                      onClick={() => setMuttedAction(true)}\r\n                    />\r\n                  )}\r\n\r\n                  {volume <= 0 && (\r\n                    <FaVolumeMute onMouseEnter={() => setShowControlVolume(true)} onClick={() => setVolumeAction(0)} />\r\n                  )}\r\n                </VolumeControll>\r\n              )}\r\n\r\n              {muted === true && (\r\n                <div className=\"item-control\">\r\n                  <FaVolumeMute onClick={() => setMuttedAction(false)} />\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"item-control info-video\">\r\n                <span className=\"info-first\">{titleMedia}</span>\r\n                <span className=\"info-secund\">{extraInfoMedia}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"end\">\r\n              {!!playbackRateEnable && (\r\n                <div className=\"item-control\" onMouseLeave={() => setShowPlaybackRate(false)}>\r\n                  {showPlaybackRate === true && (\r\n                    <ItemPlaybackRate>\r\n                      <div>\r\n                        <div className=\"title\">Speed</div>\r\n                        {playbackRateOptions.map(item => (\r\n                          <div className=\"item\" onClick={() => onChangePlayBackRate(item)}>\r\n                            {(+item === +playbackRate || (item === 'Normal' && +playbackRate === 1)) && FiCheck()}\r\n                            <div className=\"bold\">{item === 'Normal' ? item : `${item}x`}</div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                      <div className=\"box-connector\" />\r\n                    </ItemPlaybackRate>\r\n                  )}\r\n\r\n                  <IconPlayBackRate className=\"playbackRate\" onMouseEnter={() => setShowPlaybackRate(true)}>\r\n                    <span>\r\n                      {playbackRate === 'Normal' ? '1' : `${playbackRate}`}\r\n                      <small>x</small>\r\n                    </span>\r\n                  </IconPlayBackRate>\r\n                </div>\r\n              )}\r\n\r\n              {onNextClick && (\r\n                <div className=\"item-control\" onMouseLeave={() => setShowDataNext(false)}>\r\n                  {showDataNext === true && dataNext.title && (\r\n                    <ItemNext>\r\n                      <div>\r\n                        <div className=\"title\">Next Episode</div>\r\n                        <div className=\"item\" onClick={onNextClick}>\r\n                          <div className=\"bold\">{dataNext.title}</div>\r\n                          {dataNext.description && <div>{dataNext.description}</div>}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"box-connector\" />\r\n                    </ItemNext>\r\n                  )}\r\n\r\n                  <FaStepForward onClick={onNextClick} onMouseEnter={() => setShowDataNext(true)} />\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"item-control\" onMouseLeave={() => setShowReproductionList(false)}>\r\n                {showReproductionList && (\r\n                  <ItemListReproduction>\r\n                    <div>\r\n                      <div className=\"title\">{playlistTitle}</div>\r\n                      <div ref={listReproduction} className=\"list-list-reproduction scroll-clean-player\">\r\n                        {reprodutionList.map((item, index) => (\r\n                          <div\r\n                            className={`item-list-reproduction ${item.playing && 'selected'}`}\r\n                            onClick={() =>\r\n                              onClickItemListReproduction && onClickItemListReproduction(item.id, item.playing)\r\n                            }\r\n                          >\r\n                            <div className=\"bold\">\r\n                              <span style={{ marginRight: 15 }}>{index + 1}</span>\r\n                              {item.name}\r\n                            </div>\r\n\r\n                            {item.percent && <div className=\"percent\" />}\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"box-connector\" />\r\n                  </ItemListReproduction>\r\n                )}\r\n                {reprodutionList && reprodutionList.length > 1 && (\r\n                  <FaClone onMouseEnter={() => setShowReproductionList(true)} />\r\n                )}\r\n              </div>\r\n\r\n              {qualities && qualities.length > 1 && (\r\n                <div className=\"item-control\" onMouseLeave={() => setShowQuality(false)}>\r\n                  {showQuality === true && (\r\n                    <ItemListQuality>\r\n                      <div>\r\n                        {qualities &&\r\n                          qualities.map(item => (\r\n                            <div\r\n                              onClick={() => {\r\n                                setShowQuality(false);\r\n                                onChangeQuality(item.id);\r\n                              }}\r\n                            >\r\n                              {item.prefix && <span>HD</span>}\r\n\r\n                              <span>{item.nome}</span>\r\n                              {item.playing && <FiCheck />}\r\n                            </div>\r\n                          ))}\r\n                      </div>\r\n                      <div className=\"box-connector\" />\r\n                    </ItemListQuality>\r\n                  )}\r\n\r\n                  <FaCog onMouseEnter={() => setShowQuality(true)} />\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"item-control\">    \r\n                <CgInpicture onClick={()=> setPip(!pip)}/>\r\n              </div>\r\n\r\n              <div className=\"item-control\">\r\n                {fullScreen === false && <FaExpand onClick={enterFullScreen} />}\r\n                {fullScreen === true && <FaCompress onClick={exitFullScreen} />}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Controlls>\r\n    </Container>\r\n  );\r\n}","import React from \"react\"\r\nimport styled from \"styled-components\"\r\nimport Day from \"./Day\"\r\nimport {dateToName, dateToReadable} from \"../../other/convert-day-name\"\r\n\r\nconst Nav = styled.div`\r\nbackground: #064497;\r\nborder: none;\r\nbox-shadow: inset 0 5px 10px 0 rgb(0 0 0 / 10%);\r\n`\r\n\r\nconst DaysList = styled.ul`\r\nlist-style: none;\r\npadding-left: 0;\r\nmargin: 0;\r\ndisplay: flex;\r\nalign-items: center;\r\noverflow-x: auto;\r\ndisplay: block;\r\njustify-content: space-between;\r\nflex-flow: row wrap;\r\nalign-items: center;\r\npadding: 1rem 2rem;\r\nwidth: 100%;\r\n\r\n`\r\n\r\nconst NavBar = ({day}) => {\r\n    return (\r\n        <Nav>\r\n            <DaysList>\r\n                <Day name={\"Today\"} isSelected={day===0}></Day>\r\n                <Day name={\"Tomorrow\"} isSelected={day===1} date={dateToReadable(Date.now() + (1*86400000))}></Day>\r\n                <Day name={dateToName(Date.now() + (2*86400000))} isSelected={day===2} date={dateToReadable(Date.now() + (2*86400000))}></Day>\r\n                <Day name={dateToName(Date.now() + (3*86400000))} isSelected={day===3} date={dateToReadable(Date.now() + (3*86400000))}></Day>\r\n                <Day name={dateToName(Date.now() + (4*86400000))} isSelected={day===4} date={dateToReadable(Date.now() + (4*86400000))}></Day>\r\n            </DaysList>\r\n        </Nav>\r\n    )\r\n}\r\n\r\n\r\nexport default NavBar\r\n","export const setEpgPopup = (payload = null) => {\r\n    return{\r\n        type: \"SET_EPG_POPUP\",\r\n        payload: payload\r\n    }\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { useState, useEffect } from 'react'\r\nimport {useSelector, useDispatch} from \"react-redux\"\r\nimport {setEpgPopup} from \"../../actions/epgPopup\"\r\n\r\nconst dateFormat = require(\"dateformat\");\r\n\r\nconst Container = styled.li`\r\nposition: absolute;\r\nleft: 0;\r\nheight: 100%;\r\nbackground-color: #fff;\r\ntransition: all 0.3s ease 0s;\r\n\r\n&:hover, &:focus{\r\n    /*z-index: 2;\r\n    width: fit-content !important;\r\n    max-width: 600px;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    overflow: hidden;*/\r\n    outline-width: 0px;\r\n}\r\n\r\n&:focus{\r\n    border: 1px solid #0071ff;\r\n    box-shadow: 0 2px 4px 0 rgb(0 0 0 / 6%);\r\n    outline-width: 0px;\r\n    border-radius: .25rem;\r\n}\r\n\r\n& > div{\r\n    text-align: initial;\r\n    position: relative;\r\n    color: #303030;\r\n    background-color: #f0f0f0;\r\n    margin-right: 2px;\r\n    margin-left: 2px;\r\n    height: 100%;\r\n    border-radius: .25rem;\r\n    transition: all 0.3s ease 0s;\r\n\r\n\r\n    &:hover, &:focus{\r\n        cursor: pointer;\r\n        border: 1px solid #0071ff;\r\n        box-shadow: 0 2px 4px 0 rgb(0 0 0 / 6%);\r\n        outline-width: 0px;\r\n    }\r\n}\r\n\r\n& > div > div{\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: nowrap;\r\n    height: 100%;\r\n}\r\n`\r\nconst BodyData = styled.div`\r\npadding: 1rem 1.5rem;\r\nheight: 100%;\r\n\r\ntext-overflow: ellipsis;\r\nwhite-space: nowrap;\r\noverflow: hidden;\r\n`\r\n\r\nconst Title = styled.div`\r\nmargin: 0;\r\nfont-size: 1rem;\r\nfont-weight: 500;\r\nline-height: 1.125rem;\r\n\r\ntext-overflow: ellipsis;\r\nwhite-space: nowrap;\r\noverflow: hidden;\r\n`\r\n\r\nconst Description = styled.div`\r\npadding-top: .25rem;\r\nfont-size: .875rem;\r\nmax-width: 500px;\r\nflex-wrap: nowrap!important;\r\n\r\ntext-overflow: ellipsis;\r\nwhite-space: nowrap;\r\noverflow: hidden;\r\n`\r\n\r\nconst Time = styled.div`\r\npadding-top: .75rem;\r\nfont-size: .875rem;\r\n\r\ntext-overflow: ellipsis;\r\nwhite-space: nowrap;\r\noverflow: hidden;\r\n`\r\nconst ProgressBar = styled.div`\r\nposition: absolute;\r\ntop: 0;\r\nbottom: 0;\r\nleft: 0;\r\nright: 0;\r\n`\r\n\r\nconst Progress = styled.div`\r\nbackground: repeating-linear-gradient(45deg,rgba(0,0,0,.5),rgba(0,0,0,.5) 1px,#b4c6df 1px,#b4c6df 7px);\r\nopacity: .2;\r\nheight: 100%;\r\n`\r\n\r\nconst isActive = {\r\n    color: \"#fff\",\r\n    backgroundColor: \"#064497\"\r\n}\r\n\r\nconst Programme = ({start, stop, title, description, dayTime, chId, liveTime, catchup}) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const timer = useSelector(state => state.timer60);\r\n    const h24Format = useSelector(state => state.h24);\r\n    /*\r\n    length = each minute is 0.25px;\r\n    start = each minute is 2.73px\r\n    */\r\n\r\n    /*const startDay = new Date(dayTime);\r\n    startDay.setHours(0,0,0,0)\r\n    const endDay = new Date(dayTime);\r\n    endDay.setHours(23,59,59,9999)\r\n\r\n    start < startDay.getTime() && (start = startDay.getTime())\r\n    stop > endDay.getTime() && (stop = endDay.getTime())*/\r\n\r\n   const [activeLength, setActiveLenght] = useState(liveTime===true && stop > timer && start <= timer ? ((timer-start)/(stop-start))*100 : false);\r\n    const lengthStyle = ((stop-start)/3600000)*17;\r\n    const startStyle = -2+((start-dayTime)/3600000)*17;\r\n    const Spacing = {\r\n        minWidth : lengthStyle + \"rem\",\r\n        width : lengthStyle + \"rem\",\r\n        transform: `translateX(${startStyle}rem)`\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if(liveTime === false)\r\n            return;\r\n        if(!(stop > timer && start <= timer)){\r\n            if(activeLength)\r\n                setActiveLenght(false);\r\n        }else setActiveLenght(((timer-start)/(stop-start))*100)\r\n    }, [timer,start,stop,activeLength, liveTime]);\r\n\r\n\r\n    return (\r\n        <Container tabIndex={2} data-start={start} data-stop={stop} style={Spacing} onClick={() => dispatch(setEpgPopup(\r\n            {\r\n                title: title, \r\n                description: description, \r\n                start:start, stop:stop, \r\n                catchup: catchup,\r\n                chId}\r\n            ))} className={activeLength > 0 ? \"isActive\" : \"noActive\"} id={`ch${chId}-${start}`}>\r\n            <div style={activeLength > 0 ? isActive : {}}>\r\n                <div>\r\n                    <BodyData>\r\n                        <Title>{catchup > 0 ? (<i className=\"fas fa-history pr-2\"></i>) : \"\"}{title}</Title>\r\n                        <Description>{description}</Description>\r\n                        <Time>{dateFormat(new Date(start), h24Format)} - {dateFormat(new Date(stop), h24Format)}</Time>\r\n                    </BodyData>\r\n                    <ProgressBar>\r\n                        <Progress style={{width: activeLength ? activeLength + \"%\" : \"0%\"}}></Progress>\r\n                    </ProgressBar>\r\n                </div>\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Programme\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport {useSelector} from \"react-redux\"\r\n\r\nconst dateFormat = require(\"dateformat\");\r\n\r\nconst Container = styled.li`\r\nposition: absolute;\r\nleft: 0;\r\nheight: 100%;\r\nbackground-color: #fff;\r\ntransition: all 0.3s ease 0s;\r\n\r\n&:hover, &:focus{\r\n    z-index: 2;\r\n    width: fit-content !important;\r\n    max-width: 600px;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    outline-width: 0px;\r\n}\r\n\r\n&:focus{\r\n    border: 1px solid #0071ff;\r\n    box-shadow: 0 2px 4px 0 rgb(0 0 0 / 6%);\r\n    outline-width: 0px;\r\n    border-radius: .25rem;\r\n}\r\n\r\n& > div{\r\n    text-align: initial;\r\n    position: relative;\r\n    color: #303030;\r\n    background-color: #f0f0f0;\r\n    margin-right: 2px;\r\n    margin-left: 2px;\r\n    height: 100%;\r\n    border-radius: .25rem;\r\n    transition: all 0.3s ease 0s;\r\n\r\n\r\n    &:hover, &:focus{\r\n        cursor: pointer;\r\n        border: 1px solid #0071ff;\r\n        box-shadow: 0 2px 4px 0 rgb(0 0 0 / 6%);\r\n        outline-width: 0px;\r\n    }\r\n}\r\n\r\n& > div > div{\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: nowrap;\r\n    height: 100%;\r\n}\r\n`\r\nconst BodyData = styled.div`\r\npadding: 1rem 1.5rem;\r\nheight: 100%;\r\n\r\ntext-overflow: ellipsis;\r\nwhite-space: nowrap;\r\noverflow: hidden;\r\n`\r\n\r\nconst Title = styled.div`\r\nmargin: 0;\r\nfont-size: 1rem;\r\nfont-weight: 500;\r\nline-height: 1.125rem;\r\n\r\ntext-overflow: ellipsis;\r\nwhite-space: nowrap;\r\noverflow: hidden;\r\n`\r\n\r\nconst Description = styled.div`\r\npadding-top: .25rem;\r\nfont-size: .875rem;\r\nmax-width: 500px;\r\nflex-wrap: nowrap!important;\r\n\r\ntext-overflow: ellipsis;\r\nwhite-space: nowrap;\r\noverflow: hidden;\r\n`\r\n\r\nconst Time = styled.div`\r\npadding-top: .75rem;\r\nfont-size: .875rem;\r\n\r\ntext-overflow: ellipsis;\r\nwhite-space: nowrap;\r\noverflow: hidden;\r\n`\r\nconst ProgressBar = styled.div`\r\nposition: absolute;\r\ntop: 0;\r\nbottom: 0;\r\nleft: 0;\r\nright: 0;\r\n`\r\n\r\nconst Progress = styled.div`\r\nbackground: repeating-linear-gradient(45deg,rgba(0,0,0,.5),rgba(0,0,0,.5) 1px,#b4c6df 1px,#b4c6df 7px);\r\nopacity: .2;\r\nheight: 100%;\r\n`\r\n\r\n\r\nconst ProgrammeFake = ({start, stop, dayTime, chId}) => {\r\n    const h24Format = useSelector(state => state.h24);\r\n    /*\r\n    length = each minute is 0.25px;\r\n    start = each minute is 2.73px\r\n    */\r\n    const lengthStyle = ((stop-start)/3600000)*17;\r\n    const startStyle = -2+((start-dayTime)/3600000)*17;\r\n    const Spacing = {\r\n        minWidth : lengthStyle + \"rem\",\r\n        width : lengthStyle + \"rem\",\r\n        transform: `translateX(${startStyle}rem)`\r\n    }\r\n\r\n\r\n    return (\r\n        <Container tabIndex={2}  data-start={start} data-stop={stop} style={Spacing}  className={`noActive`} id={`ch${chId}-${start}`}>\r\n            <div>\r\n                <div>\r\n                    <BodyData>\r\n                        <Title>No programme available</Title>\r\n                        <Description></Description>\r\n                        <Time>{dateFormat(new Date(start), h24Format)} - {dateFormat(new Date(stop), h24Format)}</Time>\r\n                    </BodyData>\r\n                    <ProgressBar>\r\n                        <Progress style={{width: \"0%\"}}></Progress>\r\n                    </ProgressBar>\r\n                </div>\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default ProgrammeFake\r\n","import React, {useState, useEffect} from 'react'\r\nimport styled from 'styled-components'\r\nimport Programme from \"./Programme\"\r\nimport ProgrammeFake from \"./Programme-fake\"\r\nimport {getEpg, downloadEpgData} from \"../../other/epg-database\"\r\n\r\nconst Container = styled.ul`\r\nwidth: calc(408rem);\r\ndisplay: block;\r\nposition: relative;\r\nbackground-image: url(/img/placeholder-channel-events_border.svg);\r\nbackground-repeat: repeat-x;\r\nbackground-size: contain;\r\nheight: 6.625rem;\r\nlist-style-type:none;\r\nmin-width: 408rem;\r\nmax-width: 408rem;\r\n\r\n&:before{\r\n    content: \"\";\r\n    background-image: url(/img/placeholder-channel-events_border.svg);\r\n    background-repeat: repeat-x;\r\n    width: 500px;\r\n    height: 100%;\r\n    position: absolute;\r\n    left: -504px;\r\n}\r\n`\r\n\r\nconst ProgrammeListing = ({Epg, Shift, today, moveFocus,chId, day, liveTime, catchup}) => {\r\n    const [epgListing, setEpgListing] = useState([]);\r\n    const catchupDate =  catchup > 0 ? Date.now() - (catchup * 1000 * 60 * 60 * 24) : 0\r\n\r\n    useEffect(() => {\r\n        async function fetchData(d) {\r\n            if (!Epg)\r\n                return;\r\n            await downloadEpgData(chId, Epg, d+1, Shift);\r\n\r\n            const newEpg = getEpg(Epg, d+1, Shift);\r\n            if (newEpg) {\r\n                setEpgListing([...newEpg]);\r\n            } else setEpgListing([]);\r\n        }\r\n        fetchData(day);\r\n    }, [day])\r\n\r\n    \r\n\r\n    return (\r\n        <Container onKeyDown={moveFocus} autoFocus>\r\n            {epgListing.length === 0 ?\r\n                fakeEpgGenerator(today).map((epg) => (\r\n                    (<ProgrammeFake key={chId+\"-\"+epg.start} start={epg.start} stop={epg.end} dayTime={today} chId={chId}></ProgrammeFake>)\r\n                ))\r\n                :\r\n                epgListing.map((epg,id) => (\r\n                    <Programme key={chId+\"-\"+epg.start} start={epg.start} stop={epg.end} title={epg.title} description={epg.description} dayTime={today} chId={chId} liveTime={liveTime} catchup={catchupDate > 0 && epg.start >= catchupDate && epg.start <= Date.now()}/>\r\n                ))\r\n            }\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default ProgrammeListing\r\n\r\n\r\nconst fakeEpgGenerator = (today) =>{\r\n    let toReturn = [];\r\n    for(let i = 0; i < 24; i+=3){\r\n        toReturn.push({start: today+(i*3600000), end: today+((i+3)*3600000)})\r\n    }\r\n    return toReturn;\r\n}","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport ProgrammeListing from \"./ProgrammeListing\"\r\n\r\nconst Container = styled.div`\r\ndisplay: block;\r\nmargin-top: 1rem;\r\n`\r\n\r\nconst Channel = styled.div`\r\ndisplay: inline-block;\r\nz-index: 2;\r\npadding-bottom: .5rem;\r\nposition: -webkit-sticky;\r\nposition: sticky;\r\nleft: 160px;\r\nz-index: 1;\r\nline-height:.4rem;\r\ntransition: all 0.1s ease 0s;\r\n\r\n& > button{\r\n    box-sizing: border-box;\r\n    border: 1px solid #e5e5e5;\r\n    border-radius: .75rem;\r\n    background-color: #fff;\r\n    display: flex;\r\n    flex-flow: row nowrap;\r\n    align-items: center;\r\n    margin-bottom: 0;\r\n    text-decoration: none;\r\n    color: #303030;\r\n}\r\n\r\n& > button > p{\r\n    padding-right: 1rem;\r\n    margin-top: revert;\r\n    margin-bottom: revert;\r\n}\r\n`\r\n\r\nconst ChannelLogo = styled.div`\r\npadding-right: .5rem;\r\nmargin-right: .5rem;\r\npadding-left: .5rem;\r\ncolor: #fff;\r\nborder-right: .1rem solid #e5e5e5;\r\n\r\n& > img{\r\n    display: block;\r\n    height: 100%;\r\n    max-height: 1.625rem;\r\n    width: auto;\r\n    max-width: 100%;\r\n}\r\n`\r\n\r\n\r\n\r\nconst EpgChannel = ({Name,Image, Epg, Shift, day, moveFocus, style, leftScroll, chId, catchup}) => {\r\n    let today = new Date()\r\n    today.setDate(today.getDate()+day);\r\n    today.setHours(0)\r\n    today.setMinutes(0)\r\n    today.setSeconds(0)\r\n    today.setMilliseconds(0)\r\n    let tomorrow = new Date(today);\r\n    tomorrow.setDate(tomorrow.getDate()+1)\r\n\r\n    return (\r\n        <Container style={style}>\r\n            <Channel className=\"chLogo\" style={{left: (leftScroll+160)+\"px\"}}>\r\n                <button >\r\n                    <ChannelLogo>\r\n                        <img loading={\"lazy\"} src={Image} alt={Name}></img>\r\n                    </ChannelLogo>\r\n                    <p>{Name}</p>\r\n                </button>\r\n            </Channel>\r\n            <ProgrammeListing Epg={Epg} Shift={Shift} today={today.getTime()} day={day} tomorrow={tomorrow.getTime()} moveFocus={moveFocus} chId={chId} liveTime={day===0} catchup={catchup}></ProgrammeListing>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default EpgChannel\r\n","import styled from 'styled-components'\r\nimport {useSelector} from \"react-redux\"\r\nimport React from \"react\"\r\n\r\nconst dateFormat = require(\"dateformat\");\r\n\r\nconst Container = styled.div`\r\nz-index: 10000000000000;\r\ntop: 1.3875rem;\r\n    position: absolute;\r\n    left: 0;\r\n    height: 35px;\r\n\r\n& > div{\r\n    top: 1.1.3875rem;\r\n    position: absolute;\r\n    left: 0;\r\n    height: 35px;\r\n}\r\n`\r\nconst Button = styled.button`\r\nwidth: 81px;\r\npadding: .25rem 1.5rem;\r\ntext-align: center;\r\ncolor: #fff;\r\nbackground-color: #064497;\r\nborder-radius: 1.875rem;\r\nfont-size: .875rem;\r\nwhite-space: nowrap;\r\nborder: none;\r\nwidth: 5rem;\r\nheight: 2rem;\r\nmargin: 0;\r\npointer-events: auto;\r\n`\r\n\r\nconst Line = styled.div`\r\nbackground: #064497;\r\nheight: 2.5rem;\r\npointer-events: none;\r\nmargin: 0 auto;\r\nwidth: 0.1rem;\r\n\r\n`\r\n\r\nconst TimeBarIndicator = () => {\r\n    const timer = useSelector(state => state.timer60);\r\n    const h24Format = useSelector(state => state.h24);\r\n    const date = new Date(timer);\r\n    const length = -1+(date.getHours()*17) + (date.getMinutes()*0.25);\r\n\r\n    return (\r\n        <Container>\r\n            <div style={{transform: `translateX(calc(${length}rem - 3.55rem))`}}>\r\n                <Button><span>{dateFormat(date, h24Format)}</span></Button>\r\n                <Line/>\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default TimeBarIndicator\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport {convertRemToPixels} from \"../../../other/convert-rem\"\r\n\r\nconst Container = styled.div`\r\ndisplay: flex;\r\nflex-flow: row;\r\nflex-wrap: nowrap!important;\r\ntransform: translateY(0px);\r\n`\r\n\r\nconst ArrowContainer = styled.div`\r\nposition: sticky;\r\ntop: 0;\r\nz-index: 3;\r\ndisplay: inline-block;\r\n\r\n& > div{\r\n    justify-content: flex-end;\r\n    background: linear-gradient(to right,#fff 0,#fff 92%,rgba(255,255,255,0) 100%);\r\n    display: flex;\r\n    align-items: center;\r\n    height: 4.5rem;\r\n}\r\n\r\n`\r\nconst Arrow = styled.button`\r\nborder: none!important;\r\n    cursor: pointer;\r\n    min-width: 0!important;\r\n    background-color: #fff;\r\n    box-shadow: 0 4px 8px 0 rgb(0 0 0 / 10%);\r\n    border-radius: 1.375rem;\r\n    width: 2.5rem;\r\n    height: 2.5rem;\r\n    user-select: none;\r\n    -webkit-tap-highlight-color: transparent;\r\n    -webkit-appearance: none;\r\n\r\n    &:focus{\r\n        outline-width: 0px;\r\n    }\r\n`\r\n\r\nconst TimeLineDiv = styled.div`\r\n    width: 6760px;\r\n    display: inline-block;\r\n    background: #fff;\r\n    box-shadow: 0 4px 8px 0 rgb(0 0 0 / 10%);\r\n\r\n    & > div{\r\n        height: 4.5rem;\r\n        display: flex;\r\n        align-items: center;\r\n        position: relative;\r\n    }\r\n\r\n    & > div > button{\r\n        position: absolute;\r\n        left: 0;\r\n        width: 1rem;\r\n        white-space: nowrap;\r\n        background: 0 0;\r\n        border: none;\r\n        outline: 0;\r\n        padding: .4375rem 1.4375rem;\r\n        font-size: .875rem;\r\n        -webkit-tap-highlight-color: transparent;\r\n        user-select: none;\r\n        text-transform: none;\r\n    }\r\n\r\n`\r\n\r\nconst TimeLine = ({h24,scrollBtn}) => {\r\n    let hours = [];\r\n    if(h24 === true){\r\n        for(let i = 0; i < 23; i++){\r\n            let h= i+1<10 ? \"0\"+(i+1) : i+1;\r\n            hours.push({text:`${h}:00`,margin: 12 + (17*i)});\r\n        }\r\n    }else{\r\n        let counter = 0;\r\n        for(let i = 0; i < 12; i++){\r\n            let h = i;\r\n            if(h===0)\r\n                h=12;\r\n            else h = h<10 ? \"0\"+i : i;\r\n            hours.push({text:`${h}:00 AM`,margin: 12 + (17*counter)});\r\n            counter++;\r\n        }\r\n        for(let i = 0; i < 12; i++){\r\n            let h = i;\r\n            if(h===0)\r\n                h=12;\r\n            else h = h<10 ? \"0\"+i : i;\r\n            hours.push({text:`${h}:00 PM`,margin: 12 + (17*counter)});\r\n            counter++;\r\n        }\r\n    }\r\n    \r\n\r\n    return (\r\n        <Container>\r\n            <ArrowContainer style={{left:0, marginRight: \"-2.5rem\"}} onClick={() => scrollBtn(-convertRemToPixels(30))}>\r\n                <div style={{left:0, paddingLeft:\"10px\"}}>\r\n                    <Arrow><i className=\"fas fa-arrow-left\"></i></Arrow>\r\n                </div>\r\n            </ArrowContainer>\r\n            <TimeLineDiv>\r\n                <div>\r\n                    {hours.map((x,id)=>(\r\n                        <button key={\"time\"+id} style={{transform: `translateX(${x.margin}rem)`}}>\r\n                            <span>{x.text}</span>\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            </TimeLineDiv>\r\n            <ArrowContainer style={{right:0}}  onClick={() => scrollBtn(convertRemToPixels(30))}>\r\n                <div style={{right:0, paddingRight:\"10px\"}}>\r\n                    <Arrow><i className=\"fas fa-arrow-right\"></i></Arrow>\r\n                </div>\r\n            </ArrowContainer>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default TimeLine\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport TimeBarIndicator from \"./TimeBarIndicator\"\r\nimport TimeLine from \"./TimeLine\"\r\n\r\nconst Container = styled.div`\r\nposition: sticky;\r\ndisplay: block;\r\ntop: 0px;\r\nmargin: 0px;\r\nwidth: 408rem;\r\nbackground: #fff;\r\nscroll-behavior: smooth;\r\nbox-shadow: 0 3px 8px 0 rgb(0 0 0 / 12%);\r\n`\r\n\r\n\r\n\r\nconst TimeBar = ({day, h24, scrollBtn}) => {\r\n    return (\r\n        <Container>\r\n            <TimeLine h24={h24} scrollBtn={scrollBtn}/>\r\n            {day===0 && (<TimeBarIndicator/>)}\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default TimeBar\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport {useSelector} from \"react-redux\"\r\nimport { useState, useEffect, useMemo } from 'react'\r\n\r\nconst Line = styled.div`\r\nwidth: 0.1rem;\r\n    position: absolute;\r\n    top: 0;\r\n    height: 100%;\r\n    background: #064497;\r\n`\r\n\r\nconst TimeLongLine = () => {\r\n    const timer = useSelector(state => state.timer60);\r\n    const date = useMemo(() => new Date(timer),[timer]);\r\n\r\n    const [length, setLength] = useState((date.getHours()*17) + (date.getMinutes()*0.25));\r\n    useEffect(() => {\r\n        setLength((date.getHours()*17) + (date.getMinutes()*0.25));\r\n    },[timer,date])\r\n    return (\r\n        <div>\r\n            <Line style={{left: `calc(${length}rem - 2.1rem)`}}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TimeLongLine\r\n","import React, { useEffect, useState } from \"react\"\r\nimport styled from \"styled-components\"\r\nimport {useSelector, useDispatch} from \"react-redux\"\r\nimport {setEpgPopup} from \"../../actions/epgPopup\"\r\nimport focusElement from \"../../other/focused-element\"\r\nimport {setPlayingChannel} from \"../../actions/playingChannel\"\r\nimport {useHistory, useLocation} from \"react-router-dom\"\r\n\r\nconst dateFormat = require(\"dateformat\");\r\n\r\nconst Container = styled.div`\r\nposition:absolute;\r\ntop:0px;\r\nleft:0px;\r\nz-index: 999999;\r\nwidth: 100%;\r\nheight: 100%;\r\ndisplay: flex;\r\nalign-items: center;\r\njustify-content: center;\r\nbackground: rgba(0,0,0,.5);\r\nmax-height: 100vh;\r\ntransition: opacity 0.2s ease;\r\nopacity:0;\r\n`\r\n\r\nconst Box = styled.div`\r\nflex: 0 0 100%;\r\nwidth: 100%;\r\n\r\n& > div{\r\n    margin: 20px auto 0;\r\n    width: 400px;\r\n    box-shadow: none!important;\r\n    border-radius: .55rem;\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n`\r\n\r\nconst Body = styled.div`\r\nposition: relative;\r\npadding: 1.25rem 1.5rem;\r\ntext-align: left;\r\nbackground-color: #fff;\r\n\r\n& > div{\r\n    justify-content: space-between;\r\n    align-items: flex-start;\r\n    padding: .4375rem 0;\r\n    border-bottom: 1px solid #e4e4e4;\r\n}\r\n`\r\n\r\nconst Title = styled.div`\r\ndisplay: block;\r\nmargin-top: 0;\r\nmargin-bottom: .3125rem;\r\nfont-weight: 500;\r\ntext-overflow: ellipsis;\r\nwhite-space: nowrap;\r\noverflow: hidden;\r\n-webkit-line-clamp: 1;\r\n\r\n`\r\n\r\nconst DateDiv = styled.div`\r\ndisplay: flex;\r\nflex-direction: column;\r\njustify-content: space-between;\r\npadding-bottom: .5rem;\r\n\r\n& > div{\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-flow: nowrap;\r\n}\r\n`\r\n\r\nconst Description = styled.div`\r\ntext-overflow: ellipsis;\r\nline-height: 20px;\r\ndisplay: -webkit-box;\r\n-webkit-line-clamp: 20;\r\noverflow: auto;\r\n-webkit-box-orient: vertical;\r\n`\r\n\r\nconst Button = styled.button`\r\ndisplay: inline-block;\r\n    padding: .75rem 1.25rem;\r\n    font-size: .875rem;\r\n    font-weight: 500;\r\n    line-height: 1.1;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    color: #fff;\r\n    background-color: #064497;\r\n    border: .0625rem solid #064497;\r\n    border-radius: 1.375rem;\r\n    min-width: 9.375rem;\r\n    text-transform: uppercase;\r\n    pointer-events: auto;\r\n    display: table;\r\n    margin: 0 auto;\r\n&:focus, &:hover{\r\n    cursor: pointer;\r\n    color: #fff;\r\n    background-color: #042e66;\r\n    border-color: #042e66;\r\n    outline-width: 0px;\r\n}\r\n`\r\n\r\nconst Popup = () => {\r\n    const h24Format = useSelector(state => state.h24);\r\n    const Info = useSelector(state => state.epgPopup);\r\n    const playlist = useSelector(state => state.playlist)\r\n    const [ch, setCh] = useState(playlist)\r\n\r\n    const [style, setStyle] = useState({opacity:0})\r\n    \r\n    useEffect(()=>{\r\n        ch && (setStyle({opacity:0}))\r\n    },[ch])\r\n\r\n    useEffect(()=>{\r\n        if(Info && playlist){\r\n            setCh(playlist.find(x=>parseInt(x.stream_id) === parseInt(Info.chId)))\r\n            setInterval(()=>setStyle({opacity:1},50));\r\n        }\r\n    },[Info, playlist])\r\n\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    return (\r\n        Info && (\r\n            <Container style={style}>\r\n                <Box>\r\n                    <div>\r\n                        <Body>\r\n                            <div>\r\n                                <Title>{Info.title || \"\"}</Title>\r\n                                <DateDiv>\r\n                                <div>{dateFormat(new Date(Info.start), h24Format)} - {dateFormat(new Date(Info.stop), h24Format)}</div>\r\n                                </DateDiv>\r\n                            </div>\r\n                            {Info.description &&\r\n                            (<Description>{Info.description || \"\"}</Description>)\r\n                            }\r\n                            <div style={{display:\"flex\"}}>\r\n                                <Button onClick = {\r\n                                    () => {\r\n                                        setStyle({opacity:0})\r\n                                        setTimeout(()=>{\r\n                                            dispatch(setEpgPopup());\r\n                                            focusElement.getFocus() && (focusElement.getFocus().focus());\r\n                                        },50)\r\n                                    }\r\n                                } autoFocus > Close </Button>\r\n                                {(Info.catchup || (Info.stop > Date.now() && Info.start <= Date.now())) && \r\n                                    (<Button onClick = {\r\n                                        () => {\r\n                                            dispatch(setPlayingChannel(\r\n                                                Info.stop > Date.now() && Info.start <= Date.now() \r\n                                                ? \r\n                                                ch \r\n                                                : \r\n                                                {...ch, \r\n                                                    timeshift: new Date(Info.start), \r\n                                                    duration: parseInt((Info.stop - Info.start)/(60*1000)), \r\n                                                    title: Info.title, \r\n                                                    desc: Info.description\r\n                                                }))\r\n                                            dispatch(setEpgPopup());\r\n                                            history.push(location.pathname.replace(/tvguide.*/,\"\"))\r\n                                        }\r\n                                    } autoFocus > Play </Button>)\r\n                                }                                    \r\n                            </div>\r\n                            \r\n                        </Body>\r\n                    </div>\r\n                </Box>\r\n            </Container>\r\n        )\r\n    )\r\n}\r\n\r\nexport default Popup\r\n","import React, {useEffect, useState} from 'react'\r\nimport  {Link}  from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport {getVodInfo, getSeriesInfo} from \"../../other/load-playlist\"\r\nimport {optimizeName} from \"../../other/vod-series-name-optimizer\"\r\n\r\nconst Container = styled.div`\r\nheight: calc(75vh - 3rem);\r\nposition: relative;\r\nz-index: 1000;\r\n`\r\n\r\nconst BackgroundImage = styled.div`\r\nposition:absolute;\r\nheight:  calc(75vh - 4rem);\r\ntop:0;\r\nleft:0;\r\nz-index: -1;\r\nwidth: 100vw;\r\nfilter: blur(.3rem);\r\n`\r\n\r\nconst VideoContainer = styled.div`\r\nposition: absolute;\r\nwidth: 100vw;\r\nheight:  calc(75vh - 4rem);\r\ntop: 0;\r\nleft: 0;\r\noverflow: hidden;\r\nz-index:-99999;\r\nbackground-color: var(--first-color);\r\n\r\n& > div{\r\n    position: absolute;\r\n    height: calc(130% + 6rem);\r\n    z-index: -99999;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    width: 150%;\r\n    left: -25%;\r\n    top: -6rem;\r\n    background-color: var(--first-color);\r\n}\r\n`\r\n\r\nconst Overlay = styled.div`\r\npadding: 1rem 2rem;\r\n-webkit-text-fill-color: white; /* Will override color (regardless of order) */\r\n-webkit-text-stroke-width: 1px;\r\n-webkit-text-stroke-color: black;\r\nposition:absolute;\r\nwidth:100vw;\r\nheight: calc(70vh - 3rem);\r\nz-index: 2;\r\n`\r\n\r\nconst Row = styled.div`\r\nbottom: 0;\r\nposition: absolute;\r\nwidth: 100%;\r\n`\r\n\r\nconst Image = styled.img`\r\nmax-width: 100%;\r\nmax-height: 100%;\r\nheight: auto;\r\n`\r\n\r\nconst Desc = styled.label`\r\n-webkit-text-stroke-width: 0px;\r\ndisplay: -webkit-box;\r\n-webkit-line-clamp: 3;\r\n-webkit-box-orient: vertical;\r\noverflow: hidden;\r\ntext-overflow: ellipsis;\r\n`\r\n\r\nconst ButtonMain = styled(Link)`\r\ncolor: black !important;\r\n-webkit-text-fill-color: black;\r\n-webkit-text-stroke-width: 0px;\r\npadding: .6rem 1.5rem;\r\ntransition: all .3s ease;\r\n`\r\n\r\nconst ButtonSecond = styled(Link)`\r\ncolor: white !important;\r\n-webkit-text-fill-color: white;\r\n-webkit-text-stroke-width: 0px;\r\npadding: .6rem 1.5rem;\r\ntransition: all .3s ease;\r\n`\r\n\r\nconst Shadow  = styled.div`\r\nposition: absolute;\r\nwidth: 100vw;\r\nheight: 23vh;\r\nbottom: 0;\r\nleft: 0;\r\nz-index: 0;\r\nbackground-image: linear-gradient(180deg,transparent,rgba(37,37,37,.61),var(--first-color));\r\n\r\n`\r\n\r\nconst BackgroundPlayer = ({name, stream_icon, stream_id, category_id, isSeries, style, title, existingTmdb}) => {\r\n    const [Name, setName] = useState(optimizeName(name))\r\n    const [ImageSrc, setImageSrc] = useState(stream_icon)\r\n    const [Description, setDescription] = useState(\"\")\r\n    const [youtubeId, setYoutubeId] = useState(null)\r\n    const [backdropPath, setBackdropPath] = useState(null)\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            (isSeries ? getSeriesInfo(stream_id,name, true, existingTmdb) : getVodInfo(stream_id,name, existingTmdb)).then(result =>{\r\n                if(result && result.info){\r\n                    result = result.info;\r\n                    result.name && (setName(result.name))\r\n                    result.image && (setImageSrc(result.image))\r\n                    result.cover && (setImageSrc(result.cover))\r\n                    result.description && (setDescription(result.description))\r\n                    result.youtube_trailer && setYoutubeId(result.youtube_trailer)\r\n                    result.backdrop_path && result.backdrop_path.length > 0 && (setBackdropPath(result.backdrop_path[0]))\r\n                }\r\n            })\r\n        }\r\n        fetchData(); \r\n    }, [stream_id])\r\n\r\n    return (\r\n        <Container className=\"parent\" style={style}>\r\n            {\r\n            (youtubeId || !backdropPath) ?\r\n                (<VideoContainer>\r\n                    <div>\r\n                        {youtubeId && (<iframe frameBorder=\"0\" height=\"100%\" width=\"100%\" title=\"youtube-bg\"\r\n                          src={`https://youtube.com/embed/${youtubeId}?autoplay=1&controls=0&showinfo=0&autohide=1&mute=1&loop=1&disablekb=1&modestbranding=1&playlist=${youtubeId}&origin=http://localhost:3006`}>\r\n                        </iframe>)\r\n                    }\r\n                    </div>\r\n                </VideoContainer>)\r\n            :\r\n                (<BackgroundImage style={{background: `url(\"${backdropPath}\") no-repeat center center fixed`}}/>)\r\n            }\r\n            <Overlay>\r\n                <h1><b>{title ? title : (isSeries ? \"Series\" : \"Movies\")}</b></h1>\r\n                <Row className=\"row\">\r\n                    <div className=\"col-2\">\r\n                        <Image src={ImageSrc}/>\r\n                    </div>\r\n                    <div className=\"col-4\">\r\n                        <h3><b>{Name}</b></h3>\r\n                        <Desc>{Description}</Desc>\r\n                        <br/>\r\n                        <div className=\"row\">\r\n                            {isSeries !== true && (\r\n                                <div className=\"col-auto\">\r\n                                    <ButtonMain type=\"button\" id=\"btn-1\" className=\"btn btn-light vod\" to={`/movie/category/${category_id}/${stream_id}/play/`}>\r\n                                        <i className=\"fas fa-play mr-2\"></i>\r\n                                        Play\r\n                                    </ButtonMain>\r\n                                </div>)\r\n                            }\r\n                            <div className=\"col-auto\">\r\n                                <ButtonSecond type=\"button\" id=\"btn-2\" className=\"btn btn-secondary vod\" to={`/${isSeries ? \"series\" : \"movie\"}/category/${category_id}/${stream_id}/info/`}>\r\n                                    <i className=\"fas fa-info-circle mr-2\"></i>\r\n                                    More info\r\n                                </ButtonSecond>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                </Row>\r\n            </Overlay>\r\n            <Shadow/>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default BackgroundPlayer\r\n","import React, {useEffect, useState} from 'react'\r\nimport styled from 'styled-components'\r\nimport {getVodInfo, getSeriesInfo} from \"../../other/load-playlist\"\r\nimport {optimizeName} from \"../../other/vod-series-name-optimizer\"\r\nimport  {Link}  from 'react-router-dom'\r\n\r\n\r\nconst ImgHovered = styled.div`\r\nheight: 10rem;\r\nmax-height: 60vh;\r\nbackground-size: cover;\r\nbackground-repeat: no-repeat;\r\nbackground-position: 50%;\r\nborder-radius: .5rem .5rem 0 0;\r\nposition: relative;\r\n\r\nline-height: calc(15vw * 1.5);\r\n\r\n&:hover{\r\n    box-shadow: 0px;\r\n}\r\n`\r\n\r\n\r\nconst Container = styled.div`\r\nposition: absolute;\r\ntop: -1rem;\r\nleft: 0;\r\n\r\nwidth: 22rem;\r\ntransform-origin: center center;\r\ntransform: none;\r\nz-index: 3;\r\nopacity: 1;\r\nbox-shadow: rgb(0 0 0 / 75%) 0px 3px 10px;\r\ncolor: #fff;\r\nbackground-color: transparent;\r\nfont-size: 16px;\r\n\r\noverflow: hidden;\r\ntransform: scale(0);\r\n\r\ntransition: transform .3s ease;\r\n\r\n`\r\n\r\nconst Header = styled.div`\r\nposition: relative;\r\nbackground-color: #000;\r\nbox-sizing: inherit;\r\noverflow: hidden;\r\n`\r\n\r\nconst Body = styled.div`\r\nopacity: 1;\r\ntransform: none;\r\nbackground-color: #181818;\r\nposition: relative;\r\npadding-top: .5rem;\r\npadding-bottom: .5rem;\r\noverflow: hidden;\r\n`\r\n\r\nconst Buttons = styled.div`\r\ncolor:white;\r\nfont-size: 2.1rem;\r\ntext-align: justify;\r\npadding-left: 1rem;\r\noverflow: hidden;\r\n`\r\n\r\nconst LinkBtn = styled(Link)`\r\ncolor:white; \r\n& > i{\r\n    transition: all .2s ease;\r\n}\r\n&:hover > i, &:focus > i{\r\n    color: rgb(255,255,255,50%);\r\n}\r\n`\r\n\r\nconst ABtn = styled.a`\r\ncolor:white; \r\n& > i{\r\n    transition: all .2s ease;\r\n}\r\n&:hover > i, &:focus > i{\r\n    color: rgb(255,255,255,50%);\r\n}\r\n`\r\n\r\n\r\nconst PopupHover = ({name,stream_icon, stream_id, stream_url, category_id, style, isSeries, existingTmdb}) => {\r\n\r\n    const [Name, setName] = useState(optimizeName(name))\r\n    const [ImageSrc, setImageSrc] = useState(stream_icon)\r\n    const [Rating, setRating] = useState(false)\r\n    const [youtubeId, setYoutubeId] = useState(null)\r\n    const [backdropPath, setBackdropPath] = useState(null)\r\n    const [Genres, setGenres] = useState(false)\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            (isSeries ? getSeriesInfo(stream_id,name, true, existingTmdb) : getVodInfo(stream_id,name, existingTmdb)).then(result =>{\r\n                if(result && result.info){\r\n                    result = result.info;\r\n                    result.name && (setName(result.name))\r\n                    result.image && (setImageSrc(result.image))\r\n                    result.cover && (setImageSrc(result.cover))\r\n                    result.youtube_trailer && (setYoutubeId(result.youtube_trailer))\r\n                    result.backdrop_path && result.backdrop_path.length > 0 && (setBackdropPath(result.backdrop_path[0]))\r\n                    result.genre && (setGenres(result.genre))\r\n                    if(result.rating){\r\n                        const push = {full:[],empty:[],half:false}\r\n                        const quotient = Math.floor(result.rating/2);\r\n                        const remainder = result.rating % 2 > 0 ? 1 : 0;\r\n                        for(let i = 0;i < quotient; i++)\r\n                            push.full.push(1);\r\n                        for(let i = 0; i < 5-remainder-quotient +  (quotient === 1 ? 0 : 1); i++)\r\n                            push.empty.push(1);\r\n                        push.half = quotient === 1;\r\n                        setRating({...push})\r\n                    }\r\n                }\r\n            })\r\n        }\r\n        fetchData(); \r\n    }, [])\r\n\r\n    return (\r\n        <Container style={style}>\r\n                {(youtubeId) ?\r\n                ( <Header>\r\n                    {youtubeId && (<iframe frameBorder=\"0\" height=\"100%\" width=\"100%\" title=\"youtube-frame\"\r\n                      src={`https://youtube.com/embed/${youtubeId}?autoplay=1&controls=0&showinfo=0&autohide=1&mute=1&loop=1&disablekb=1&modestbranding=1&playlist=${youtubeId}&origin=http://localhost:3006`}/>)\r\n                    }\r\n                    </Header>)\r\n                :\r\n                    (<ImgHovered style={backdropPath || ImageSrc ? {backgroundImage: `url(${backdropPath || ImageSrc})`} : {display:\"none\"}}/>)\r\n                }\r\n               \r\n                <Body>\r\n                    <Buttons className=\"row\">\r\n                        <div className=\"col-2\">\r\n                            <LinkBtn type=\"button\" to={`/${isSeries ? \"series\" : \"movie\"}/category/${category_id}/${stream_id}/${isSeries ? \"info\" : \"play\"}/`}>\r\n                                <i className=\"fas fa-play-circle\"></i>\r\n                            </LinkBtn>\r\n                        </div>\r\n                        {youtubeId && (\r\n                        <div className=\"col-2\">\r\n                            <ABtn href={`https://www.youtube.com/watch?v=${youtubeId}`} target=\"_blank\">\r\n                                <i className=\"fab fa-youtube\"></i>\r\n                            </ABtn>\r\n                        </div>\r\n                        )}\r\n                        {isSeries === false &&\r\n                        ([<div className=\"col-2\">\r\n                                <ABtn href={stream_url} target=\"_blank\">\r\n                            <i className=\"fas fa-download\"></i>\r\n                            </ABtn>\r\n                        </div>,\r\n                        \r\n                        <div className=\"col text-right pr-5\">\r\n                            <LinkBtn type=\"button\" to={{\r\n                                pathname: `/${isSeries ? \"series\" : \"movie\"}/category/${category_id}/${stream_id}/info/`,\r\n                                search: window.location.search,\r\n                        }}>\r\n                                <i className=\"fas fa-chevron-down\"></i>\r\n                            </LinkBtn>\r\n                        </div>\r\n                        ])}\r\n                    </Buttons>\r\n                    <h4>{Name}</h4>\r\n                    {Rating && (\r\n                    <div style={{color: \"#46d369\"}}>\r\n                        {Rating.full.map((x,i)=> (<i key={\"sf-\"+i} className=\"fas fa-star\"></i>))}\r\n                        {Rating.half && (<i className=\"fas fa-star-half\"></i>)}\r\n                        {Rating.empty.map((x,i)=> (<i key={\"s-\"+i} className=\"far fa-star\"></i>))}\r\n                    </div>)}\r\n                    {Genres && <label>{Genres}</label>}\r\n                </Body>\r\n            </Container>\r\n    )\r\n}\r\n\r\nexport default PopupHover\r\n","import React, {useState, useEffect} from 'react'\r\nimport styled from 'styled-components'\r\nimport {optimizeName} from \"../../other/vod-series-name-optimizer\"\r\nimport PopupHover from \"./PopupHover\"\r\nimport {Link} from \"react-router-dom\";\r\nimport DB from \"../../other/local-db\"\r\nimport {generateUrl} from \"../../other/generate-url\"\r\n\r\nconst Li = styled(Link)`\r\nheight: calc(15vw * 1.5);\r\nmax-height: 60vh;\r\ntext-align: center;\r\nflex: 0 0 15.266667%;\r\nmax-width: 15.266667%;\r\npadding-left: .4rem;\r\npadding-right: .3rem;\r\ncursor: pointer;\r\noutline-width: 0;\r\ntext-decoration: none !important;\r\n\r\n&:focus > div {\r\n    box-shadow: rgb(255 0 0 / 75%) 0px 3px 10px;\r\n    outline-width: 0;\r\n}\r\n`\r\n\r\nconst ImgContainer = styled.div`\r\nheight: calc(100% - 1.5rem);\r\n\r\nwidth: 100%;\r\nbackground-size: cover;\r\nbackground-repeat: no-repeat;\r\nbackground-position: 50%;\r\nborder-radius: .5rem;\r\nposition: relative;\r\n\r\nline-height: calc(15vw * 1.5);\r\ntransition: box-shadow .3s ease;\r\ntext-decoration: none;\r\n\r\n&:hover, &:focus {\r\n    box-shadow: rgb(255 0 0 / 75%) 0px 3px 10px;\r\n    outline-width: 0;\r\n\r\n}\r\n`\r\n\r\nconst Title = styled.label`\r\nfont-size: 1.2rem;\r\n    padding: .1rem;\r\n    line-height: 1.6rem;\r\n  overflow: hidden;\r\n  color:white;\r\n`\r\n\r\nconst Bar = styled.div`\r\nposition: absolute;\r\ndisplay: flex;\r\nheight: 4%;\r\nbottom: -5%;\r\nwidth: calc(100% - .7rem);\r\nbackground-color: black;\r\nborder-radius: 10rem;\r\n\r\n& > div{\r\n    height:100%;\r\n    border-radius: 10rem;\r\n    background-color : var(--second-color);\r\n}\r\n`\r\n\r\nconst Name = styled.div`\r\nheight: 1.5rem;\r\ncolor: white;\r\nwidth: calc(100%);\r\ntext-overflow: ellipsis;\r\noverflow: hidden;\r\nwhite-space: nowrap;\r\nbox-shadow: none !important;\r\ntext-align: center;\r\ntext-decoration: none;\r\npadding-top: 0.1rem;\r\n`\r\n\r\nlet timeout = null;\r\n\r\nconst noCoverStyle = {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    backgroundColor: \"#0c0f13\",//randomColor[0],\r\n    border: \"0.2rem solid white\",\r\n    justifyContent: \"center\"\r\n}\r\n\r\nconst RowItem = ({name, stream_icon, last, stream_id, category_id, id, style, isSeries, container_extension, existingTmdb}) => {\r\n    const [noCover,setNoCover] = useState(!stream_icon);\r\n    const [streamStat, setStreamStat] = useState()\r\n    const [popup, setPopup] = useState(false);\r\n    const [popupStyle, setPopupStyle] = useState({transform: \"scale(0)\"})\r\n\r\n    const styleLast={\r\n        position: \"absolute\",\r\n        height: \"calc(15vw * 1.5)\",\r\n        right: \"calc(-7% - 0.4rem)\",\r\n        width: \"100%\",\r\n        filter: \"brightness(0.5)\",\r\n        pointerEvents: \"none\",\r\n        cursor: \"default\",\r\n        textDecoration: \"none\"\r\n    }\r\n\r\n    const showPopup = (mode) =>{\r\n        clearTimeout(timeout);\r\n        if(mode === true){\r\n            timeout = setTimeout(()=>{\r\n                setPopup(true);\r\n                setTimeout(()=>{\r\n                    setPopupStyle({transform: \"scale(1)\"})\r\n                },100)\r\n            },700);\r\n        }else {\r\n            setPopupStyle({transform: \"scale(0)\"})\r\n            setTimeout(()=>{\r\n                setPopup(false);\r\n            },100)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setStreamStat(DB.findOne(isSeries ? \"series\" : \"movie\",stream_id, category_id === \"fav\"))\r\n    }, [isSeries, stream_id, category_id])\r\n\r\n\r\n    return (\r\n        <Li className={`col-2 ${!last && (\"vod\")}`} \r\n        data-id={id} \r\n        style={last ? {...style, ...styleLast} : style} \r\n        onMouseEnter={() => showPopup(true)} onMouseLeave={() => showPopup(false)} \r\n        to={{\r\n            pathname:`/${isSeries ? \"series\" : \"movie\"}/category/${category_id}/${stream_id}/info/`,\r\n            search: window.location.search,\r\n        }}\r\n        >\r\n            <ImgContainer style={!noCover ? {backgroundImage: `url(${stream_icon})`} : noCoverStyle}>\r\n                {!noCover ? \r\n                <img src={stream_icon} width={0} height={0} onError={()=>setNoCover(true)} alt={name}/>\r\n                :\r\n                <Title>{optimizeName(name)}</Title>\r\n                }\r\n            </ImgContainer>\r\n            {!noCover && (<Name>{optimizeName(name)}</Name>)}\r\n            {streamStat && streamStat.tot > 3 && streamStat.tot < 95 && (\r\n                <Bar>\r\n                    <div style={{width:streamStat.tot+\"%\"}}/>\r\n                </Bar>\r\n            )}\r\n            {popup && !last && (<PopupHover name={name} stream_icon={stream_icon} stream_id={stream_id} stream_url={generateUrl(\"movie\", stream_id, container_extension)} category_id={category_id} style={popupStyle} isSeries={isSeries} existingTmdb={existingTmdb}/>)}\r\n        </Li>\r\n    )\r\n}\r\n\r\nexport default RowItem","import React from \"react\"\r\nimport styled from 'styled-components'\r\nimport {Link} from \"react-router-dom\"\r\n\r\nconst Li = styled(Link)`\r\nheight: calc(22.5vw);\r\nmax-height: 60vh;\r\n\r\nwidth: 15.266667%;\r\nflex: 0 0 15.266667%;\r\n\r\nposition: absolute;\r\nright: calc(-7% - 0.4rem); \r\n\r\npadding-left: calc(5% - 0.4rem); \r\n\r\nopacity: 0;\r\ntransition: opacity 0.2s ease;\r\ncolor:white;\r\n\r\ncursor: pointer;\r\n\r\n&:hover, &:focus, & > i:focus{\r\n    opacity: 1;\r\n    color:white;\r\n    outline-width: 0;\r\n\r\n}\r\n\r\n\r\n\r\n`\r\n\r\nconst I = styled.i`\r\nfont-size: 3vw;\r\npadding-top: calc(6.5vw * 1.5);\r\n`\r\n\r\n\r\nconst NextArrow = ({category_id, isSeries}) => {\r\n    return (\r\n        <Li className=\"vod\" data-id=\"7\" to={`/${isSeries ? \"series\":\"movie\"}/category/${category_id}/`}>\r\n            <I className=\"fas fa-chevron-right\"></I>\r\n        </Li>\r\n    )\r\n}\r\n\r\nexport default NextArrow\r\n","import React from \"react\"\r\nimport styled from 'styled-components';\r\nimport RowItem from \"./RowItem\"\r\nimport NextArrow from \"./NextArrow\"\r\nimport {Link} from \"react-router-dom\"\r\n\r\nconst Li = styled.li`\r\ncolor: white;\r\nheight: calc(15vw * 1.7 + 1.75rem);\r\npadding-bottom: 1rem;\r\n\r\n& > div{\r\n    position:relative;\r\n    height: 100%;\r\n    width: 100%;\r\n}\r\n`\r\n\r\nconst H3 = styled(Link)`\r\nfont-size: 1.75rem;\r\nmargin-bottom: .5rem;\r\nfont-weight: 500;\r\nline-height: 1.2;\r\nmargin-top: 0;\r\ncolor:white;\r\ntext-decoration: underline;\r\ntext-decoration-color : transparent;\r\ntransition: text-decoration-color 0.5s ease;\r\n\r\n\r\n&:focus, &:hover{\r\n    color:white;\r\n}\r\n`\r\n\r\n\r\nconst maxItem = 7;\r\n\r\nconst GroupRow = ({category_id, name, style, playlist, isSeries, existingTmdb}) => {\r\n    return (\r\n        playlist.length > 0 && (\r\n        <Li style={style} className=\"parent\">\r\n            <H3 to={`/${isSeries ? \"series\" : \"movie\"}/category/${category_id}/`}>{name}</H3>\r\n            <div className=\"row\" style={{marginTop:\".5rem\"}}>\r\n                {playlist.slice(0, maxItem).map((x,id)=>\r\n                    (<RowItem id={id} key={\"vod\"+ (x.stream_id || x.series_id)} name={x.name} stream_icon={x.stream_icon || x.cover} stream_id={x.stream_id || x.series_id} stream_url={x.direct_source} category_id={category_id} container_extension={x.container_extension} last={id+1===maxItem} isSeries={isSeries} existingTmdb={x.tmdb}/>)\r\n                    )}\r\n                {playlist.length > maxItem && (<NextArrow category_id={category_id} isSeries={isSeries}/>)}\r\n            </div>\r\n        </Li>\r\n        )\r\n    )\r\n}\r\n\r\nexport default GroupRow\r\n","import React from 'react'\r\nimport styled from \"styled-components\"\r\n\r\nconst Container = styled.div`\r\nmin-height: 2rem;\r\nheight: 6.5rem;\r\npadding: 0.6rem;\r\nborder-radius: .2rem;\r\nborder: 0.1rem solid transparent;\r\n\r\nborder-top-color: black;\r\nborder-down-color: black;\r\n\r\ncursor:pointer;\r\n\r\ntransition: background-color 0.3s ease, border-color 0.3s ease;\r\n\r\n&:hover{\r\n    background-color: #333;\r\n    border-color: white;\r\n}\r\n\r\n& .playbtn{\r\n    opacity: 0;\r\n}\r\n\r\n&:hover .playbtn{\r\n    opacity: 1;\r\n}\r\n\r\n& *{\r\n    cursor:pointer;\r\n}\r\n`\r\n\r\nconst Number = styled.div`\r\ntext-align:right;\r\n`\r\n\r\nconst Image = styled.img`\r\n    max-width: 100%;\r\n    display: block;\r\n`\r\n\r\nconst PlayButton = styled.div`\r\nposition: absolute;\r\ndisplay: flex;\r\nplace-content: center;\r\nalign-items: center;\r\nheight: 100%;\r\nwidth: calc(100% - 1.5rem);\r\nbackground-color: #00000033;\r\ntransition: opacity 0.3s ease;\r\n\r\n`\r\n\r\nconst TitleContainer = styled.div`\r\ndisplay: inline;\r\nalign-items: center;\r\n\r\n& > * {\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    display: -webkit-box;\r\n    -webkit-box-orient: vertical;\r\n}\r\n\r\n& > h5{\r\n    -webkit-line-clamp: 1;\r\n}\r\n\r\n& > label{\r\n    -webkit-line-clamp: 2;\r\n    font-weight: 300;\r\n}\r\n`\r\n\r\nconst Bar = styled.div`\r\nposition: absolute;\r\ndisplay: flex;\r\nheight: 4%;\r\nbottom: 0;\r\nwidth: calc(100% - 1.9rem);\r\nbackground-color: var(--first-color);\r\n\r\n& > div{\r\n    height:100%;\r\n    background-color : var(--second-color);\r\n}\r\n`\r\n \r\nconst DownloadIcon = styled.a`\r\ntransition: font-size 0.2s ease;\r\nfont-size: 1rem;\r\ncursor: pointer; \r\ncolor: white; \r\n&:hover{\r\n    font-size: 1.4rem;\r\n    color:white;\r\n}\r\n`\r\n\r\nconst Episode = ({episode, image, duration, title, description, selected, playEpisode, percentage, url}) => {\r\n    return (\r\n        <Container className=\"row\" style={selected ? {backgroundColor: \"#333\"} : {}} onClick={()=>playEpisode(episode)}>\r\n            <div className=\"col-1 align-self-center\">\r\n                <Number>{episode}</Number>\r\n            </div>\r\n            <div className=\"col-2 center-container\">\r\n                <PlayButton className=\"playbtn\"><i className=\"fa fa-play\"></i></PlayButton>\r\n                {selected && percentage > 3 && percentage < 95 && (\r\n                <Bar>\r\n                    <div style={{width: percentage+\"%\"}}/>\r\n                </Bar>\r\n                )}\r\n                <Image src={image}/>\r\n\r\n            </div>\r\n            <TitleContainer className=\"col-7 align-self-center\">\r\n                <h5>\r\n                    {title}\r\n                </h5>\r\n                {description && (\r\n                <label>\r\n                    {description}\r\n                </label>\r\n                )}\r\n            </TitleContainer>\r\n            <div className=\"col-1 align-self-center\">\r\n                {secondsToHms(duration)}\r\n            </div>\r\n            <div className=\"col-1 center-container\">\r\n                <DownloadIcon href={url} target=\"_blank\">\r\n                    <i className=\"fas fa-download\"></i>\r\n                </DownloadIcon>\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Episode\r\n\r\nconst secondsToHms = d => {\r\n    if(!d)\r\n        return \"\";\r\n    d = parseInt(d);\r\n    const h = Math.floor(d / 3600);\r\n    const m = Math.floor((d % 3600) / 60);\r\n    const s = Math.floor((d % 3600) % 60);\r\n\r\n    if (h) {\r\n      return `${h}:${m<10 ? \"0\"+m : m}:${s<10 ? \"0\"+s : s}`;\r\n    }\r\n\r\n    return `${m}:${s<10 ? \"0\"+s : s}`;\r\n  };\r\n","import React, {useState,useEffect} from 'react'\r\nimport styled from \"styled-components\"\r\nimport Episode from './Episode'\r\nimport {useDispatch} from \"react-redux\"\r\nimport {setPlaylistEpisodes} from \"../../actions/set-Playlist-Episodes\"\r\nimport {useHistory, useLocation, useParams} from \"react-router-dom\";\r\nimport DB from \"../../other/local-db\"\r\nimport {generateUrl} from \"../../other/generate-url\"\r\n\r\nconst Select = styled.select`\r\ndisplay: flex;\r\nalign-items: center;\r\nmin-width: 4em;\r\nposition: relative;\r\nfont-size: 1.3rem;\r\nbackground-color: rgb(36, 36, 36);\r\ncolor: white;\r\ncursor: pointer;\r\nborder: 0.1em solid rgb(77, 77, 77);\r\nborder-radius: 0.2em;\r\noutline: 0;\r\nfont-weight: 600;\r\npadding: 0.3rem 0.5rem;\r\n\r\ntransition: all 0.2s ease;\r\n\r\n&:focus, &:hover{\r\n    border-color: white;\r\n    box-shadow: 0 0 0 0.2rem rgb(255 255 255 / 25%);\r\n}\r\n\r\n& > option{\r\n\r\n}\r\n`\r\n\r\nconst Container = styled.div`\r\n\r\nmargin-top:1rem;\r\n`\r\n\r\nconst Seasons = ({seasonData, cover}) => {\r\n    const [seasons,setSeasons] = useState([])\r\n    const [streamStat, setStreamStat] = useState({})\r\n    const [selectedSeason, setSelectedSeason] = useState();\r\n\r\n    const {stream_id} = useParams();\r\n\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n    const dispatch = useDispatch();\r\n    \r\n    useEffect(()=>{\r\n        if(!seasonData)\r\n            return;\r\n        const s = Object.keys(seasonData).map(x => {\r\n            return {\r\n                id: parseInt(x),\r\n                name: \"Season \" + x,\r\n                episodes: seasonData[x].map(y => {\r\n                    return {\r\n                        ...y,\r\n                        episode_num: parseInt(y.episode_num),\r\n                        url:  y.url || y.direct_source || generateUrl(\"series\", y.id, y.container_extension),\r\n                        url2: generateUrl(\"series\", y.id, y.container_extension)\r\n                    }\r\n                })\r\n            }\r\n        });\r\n        if(s.length > 0){\r\n            setSeasons(s);\r\n\r\n            let stat = DB.findOne(\"series\",stream_id);\r\n            (!stat && (stat={id: stream_id, season: s[0].id, episode: s[0].episodes[0].episode_num, start:0}))\r\n            \r\n            stat.season = parseInt(stat.season);\r\n            stat.episode = parseInt(stat.episode);\r\n\r\n            if(stat.tot>95 || stat.tot< 3){\r\n                stat.tot = 0;\r\n                let season = s.find(x=>x.id === stat.season);\r\n                 \r\n                if(season.episodes[season.episodes.length-1].episode_num > stat.episode){\r\n                    stat.episode++;\r\n                }else{\r\n                    season = s.find(x=>x.id === stat.season+1);\r\n                    if(season && season.episodes && season.episodes.length >0){\r\n                        stat.season = season.id;\r\n                        stat.episode = season.episodes[0].episode_num\r\n                    }else stat={id: stream_id, season: s[0].id, episode: s[0].episodes[0].episode_num, start:0}\r\n                } \r\n            }\r\n                \r\n            setSelectedSeason(stat.season);\r\n            setStreamStat(stat)\r\n        }\r\n    }, [seasonData, stream_id])\r\n\r\n    const playEpisode = (episode) =>{\r\n        const list = seasons.find(x=>x.id === selectedSeason).episodes.map(x=> {return{...x, id:x.info.id}});\r\n        dispatch(setPlaylistEpisodes(list))\r\n        history.push(location.pathname.replace(\"info\",`play/season/${selectedSeason}/episode/${episode}`))\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <div className=\"row\">\r\n            <div className=\"col-8\">\r\n                <h3>Episodes</h3>\r\n            </div>\r\n            <div className=\"col-4\">\r\n                <Select className=\"form-select btn-block\" onChange={e=> setSelectedSeason(parseInt(e.target.value))} value={selectedSeason || (seasons[0] && (seasons[0].id))} >\r\n                    {seasons.map(x=> <option value={x.id} selected={selectedSeason === x.id} key={\"season-\"+x.id}>{x.name} ({x.episodes.length} episodes)</option>)}\r\n                </Select>\r\n            </div>\r\n        </div>\r\n        <Container>\r\n            {streamStat && seasons.find(x=> x.id === selectedSeason) && (\r\n                seasons.find(x=> x.id === selectedSeason).episodes.map(ep=>\r\n                    <Episode  key={\"ep-\"+ep.episode_num}\r\n                    episode={ep.episode_num} \r\n                    image={ep.info.movie_image || cover}\r\n                    cover={cover}\r\n                    duration={ep.info.duration_secs}\r\n                    title={ep.title}\r\n                    description={ep.overview}\r\n                    selected={ep.episode_num===streamStat.episode}\r\n                    percentage={ep.episode_num===streamStat.episode ? streamStat.tot : false}\r\n                    playEpisode={playEpisode}\r\n                    url={ep.url2}\r\n                    />    \r\n                )\r\n            )}\r\n        </Container>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Seasons\r\n","export const setPlaylistEpisodes = (playlist) => {\r\n    return{\r\n        type: \"SET_PLAYLIST_EPISODES\",\r\n        payload: playlist\r\n    }\r\n}\r\n","import styled from \"styled-components\"\r\nimport React, {useEffect, useState} from 'react'\r\nimport {getVodInfo, getSeriesInfo} from \"../../other/load-playlist\"\r\nimport {optimizeName} from \"../../other/vod-series-name-optimizer\"\r\nimport {useParams, Link, useHistory } from \"react-router-dom\";\r\nimport {useSelector} from \"react-redux\"\r\nimport Seasons from \"../Series/Seasons\"\r\nimport DB from \"../../other/local-db\"\r\nimport {generateUrl} from \"../../other/generate-url\"\r\n\r\n\r\nconst Container = styled.div`\r\nposition: absolute;\r\nwidth: 100vw;\r\nheight: 95vh;  \r\ntop:0;\r\nleft:0;\r\nuser-select: none;\r\n`\r\n\r\nconst Box = styled.div`\r\nposition absolute;\r\nwidth: 80vw;\r\n/*top: 0;*/\r\nleft: 10vw;z\\\r\nmargin-top: 2vh;\r\nbackground-color: #181818;\r\nborder-radius: .8rem;\r\nbox-shadow: rgb(0 0 0 / 75%) 0px 3px 10px;\r\noverflow:auto;\r\n\r\ntransform: translateY(-50%);\r\ntop: 50%;\r\n\r\nmax-height: 90vh;\r\n    overflow-y: auto;\r\n`\r\n\r\nconst Header = styled.div`\r\nheight: 40vh;\r\nmax-height: 60vh;\r\nbackground-color: #000;\r\nbox-sizing: inherit;\r\noverflow: hidden;\r\nbackground-color: var(--first-color);\r\npointer-events: none;\r\n\r\n`\r\n\r\nconst ImgHovered = styled.div`\r\nheight: 40vh;\r\nmax-height: 60vh;\r\nbackground-size: cover;\r\nbackground-repeat: no-repeat;\r\nbackground-position: 50%;\r\nborder-radius: .5rem .5rem 0 0;\r\nposition: relative;\r\n\r\nline-height: calc(15vw * 1.5);\r\n`\r\n\r\nconst Body = styled.div`\r\nopacity: 1;\r\ntransform: none;\r\nbackground-color: #181818;\r\nposition: relative;\r\npadding: 1.2rem 2.5rem;\r\noverflow: hidden;\r\ncolor:white;\r\n`\r\n\r\nconst Image = styled.img`\r\nheight: auto;\r\nposition: absolute;\r\ntop: 12vh;\r\nleft: 2rem;\r\nheight: 25vh;\r\nbox-shadow: 0 0 2rem 0 rgb(136 152 170 / 15%);\r\n`\r\n\r\nconst RatingDiv = styled.div`\r\ncolor: #46d369;\r\npadding-right: .5rem;\r\n`\r\n\r\nconst DescriptionDiv = styled.div`\r\noverflow: hidden;\r\ntext-overflow: ellipsis;\r\ndisplay: -webkit-box;\r\n-webkit-line-clamp: 8; /* number of lines to show */\r\n-webkit-box-orient: vertical;\r\ncursor: pointer;\r\n` \r\n\r\nconst TitleInfo = styled.span`\r\ncolor: #777;\r\nmargin-right: .2rem;\r\ndisplay: inline-flex;\r\n`\r\n\r\nconst TitleData = styled.span`\r\noverflow: hidden;\r\ntext-overflow: ellipsis;\r\ndisplay: -webkit-box;\r\n-webkit-line-clamp: 2; /* number of lines to show */\r\n-webkit-box-orient: vertical;\r\n`\r\n\r\nconst ButtonMain = styled(Link)`\r\ncolor: black !important;\r\n-webkit-text-fill-color: black;\r\n-webkit-text-stroke-width: 0px;\r\npadding: .6rem 1.5rem;\r\ntransition: all .3s ease;\r\n`\r\n\r\nconst ButtonFavorite = styled.button`\r\ncolor: black !important;\r\n-webkit-text-fill-color: black;\r\n-webkit-text-stroke-width: 0px;\r\npadding: .6rem 1.5rem;\r\ntransition: all .3s ease;\r\n`\r\n\r\nconst ButtonSecond = styled.a`\r\ncolor: white !important;\r\n-webkit-text-fill-color: white;\r\n-webkit-text-stroke-width: 0px;\r\npadding: .6rem 1.5rem;\r\ntransition: all .3s ease;\r\n`\r\nconst CloseBtn = styled.i`\r\nposition: absolute;\r\ntop: 1vh;\r\nright: 2rem;\r\ncolor: white;\r\ncursor: pointer;\r\nz-index:100;\r\nfont-size: x-large;\r\ntext-align: right;\r\nz-index:1000000;\r\n\r\nbackground-color: rgb(0 0 0 / 75%);\r\nborder-radius: 50%;\r\npadding: 0.05rem;\r\n`\r\n\r\nconst MoreInfo = ({style}) => {\r\n    const {category,stream_id, playingMode} = useParams();\r\n    const history = useHistory();\r\n\r\n    const stream = useSelector(state => state.playlist).find(x=> playingMode === \"series\" ? parseInt(x.series_id) === parseInt(stream_id) : parseInt(x.stream_id) === parseInt(stream_id));\r\n\r\n    const [expandDescription, setExpandDescription] = useState(false)\r\n    const [Name, setName] = useState(stream && (optimizeName(stream.name)))\r\n    const [Description, setDescription] = useState(\"\")\r\n    const [ImageSrc, setImageSrc] = useState(stream && (stream.stream_icon))\r\n    const [Rating, setRating] = useState(false)\r\n    const [youtubeId, setYoutubeId] = useState(null)\r\n    const [backdropPath, setBackdropPath] = useState(null)\r\n    const [Genres, setGenres] = useState(\"\")\r\n    const [Actor, setActor] = useState(\"\")\r\n    const [Year, setYear] = useState(\"\")\r\n    const [seasons, setSeasons] = useState({})\r\n    const [favorite, setFavorite] = useState(null)\r\n    const [url, setUrl] = useState();\r\n\r\n    useEffect(() => {\r\n        setFavorite(!!DB.findOne(playingMode,stream_id,true))\r\n\r\n        async function fetchData() {\r\n            if(!stream){\r\n                history.replace(`/${playingMode}/`);\r\n                return;\r\n            }\r\n            (playingMode === \"series\" ? getSeriesInfo(stream.series_id, stream.name, false, stream.tmdb) : getVodInfo(stream.stream_id,stream.name, stream.tmdb)).then(result =>{\r\n                if(result && result.info){\r\n                    let info = result.info;\r\n                    info.name && (setName(info.name))\r\n                    info.description && (setDescription(info.description))\r\n                    info.image && (setImageSrc(info.image))\r\n                    info.cover && (setImageSrc(info.cover))\r\n                    info.youtube_trailer && setYoutubeId(info.youtube_trailer)\r\n                    info.backdrop_path && info.backdrop_path.length > 0 && (setBackdropPath(info.backdrop_path[0]))\r\n                    info.genre && (setGenres(info.genre))\r\n                    info.actors && (setActor(info.actors))\r\n                    info.releasedate && (setYear(info.releasedate))\r\n\r\n                    if(info.rating){\r\n                        const push = {full:[],empty:[],half:false}\r\n                        const quotient = Math.floor(info.rating/2);\r\n                        const remainder = info.rating % 2 > 0 ? 1 : 0;\r\n                        for(let i = 0;i < quotient; i++)\r\n                            push.full.push(1);\r\n                        for(let i = 0; i < 5-remainder-quotient +  (quotient === 1 ? 0 : 1); i++)\r\n                            push.empty.push(1);\r\n                        push.half = quotient === 1;\r\n                        setRating({...push})\r\n                    }\r\n                    playingMode === \"series\" && (setSeasons(result.episodes));\r\n                }\r\n            })\r\n        }\r\n        fetchData(); \r\n    }, [])\r\n\r\n    useEffect(()=>{\r\n        if(!stream)\r\n            return;\r\n        playingMode === \"movie\" && (setUrl(generateUrl(\"movie\",stream.stream_id,stream.container_extension)))\r\n    },[stream])\r\n\r\n    const setFavoriteGlob = (event) =>{\r\n        event.stopPropagation();\r\n        if(!!favorite)\r\n            DB.del(playingMode,stream_id,true)\r\n        else DB.set(playingMode,stream_id,{id: stream_id}, true)\r\n        setFavorite(!favorite);\r\n    }\r\n    \r\n\r\n    return (\r\n        <Container style={style}>\r\n            <Box>\r\n                {!window.gSTB && (<CloseBtn className=\"fas fa-times-circle\" onClick={()=> history.goBack()}></CloseBtn>)}\r\n                {(youtubeId) ?\r\n                ( <Header>\r\n                    {youtubeId && (<iframe frameBorder=\"0\" height=\"100%\" width=\"100%\" title=\"youtube-pop\"\r\n                      src={`https://youtube.com/embed/${youtubeId}?autoplay=1&controls=0&showinfo=0&autohide=1&mute=1&loop=1&disablekb=1&modestbranding=1&playlist=${youtubeId}&origin=http://localhost:3006`}/>)\r\n                    }\r\n                    </Header>)\r\n                :\r\n                    (<ImgHovered style={backdropPath || ImageSrc ? {backgroundImage: `url(${backdropPath || ImageSrc})`} : {display:\"none\"}}/>)\r\n                }\r\n                <Image src={ImageSrc}/>\r\n                <Body>\r\n                    <h1>{Name}</h1>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-8\">\r\n                            <div style={{display:\"flex\"}}>\r\n                                {Rating && (\r\n                                <RatingDiv>\r\n                                    {Rating.full.map((x,i)=> (<i key={\"sf-\"+i} className=\"fas fa-star\"></i>))}\r\n                                    {Rating.half && (<i className=\"fas fa-star-half\"></i>)}\r\n                                    {Rating.empty.map((x,i)=> (<i key={\"s-\"+i} className=\"far fa-star\"></i>))}\r\n                                </RatingDiv>)}\r\n                                <label><b>{Year}</b></label>\r\n                            </div>\r\n                            <DescriptionDiv style={expandDescription ? {\"-webkit-line-clamp\": \"unset\"} : {}} onClick={()=>setExpandDescription(!expandDescription)}>\r\n                                {Description}\r\n                            </DescriptionDiv>\r\n                            \r\n                        </div>\r\n                        <div className=\"col-4\">\r\n                            {Actor &&\r\n                            ([<TitleInfo>Cast: </TitleInfo>,\r\n                            <TitleData>{Actor}</TitleData>,\r\n                            <br/>,\r\n                            ])}\r\n\r\n                            {Genres &&\r\n                            ([<TitleInfo>Genres: </TitleInfo>,\r\n                            <TitleData>{Genres}</TitleData>,\r\n                            <br/>,\r\n                            ])}\r\n\r\n                            {playingMode !== \"series\" && (\r\n                                <ButtonMain type=\"button\" \r\n                                className=\"btn btn-light btn-block mb-2 mt-1 btn-info-1\" \r\n                                data-id={1} \r\n                                to={{\r\n                                    pathname:`/movie/category/${category}/${stream_id}/play/`,\r\n                                    search: window.location.search,\r\n                                    }}>\r\n                                    <i className=\"fas fa-play mr-1\"></i>\r\n                                    Play\r\n                                </ButtonMain>\r\n                            )}\r\n                            <ButtonFavorite type=\"button\" className=\"btn btn-warning btn-block mb-2 mt-1 btn-info-1\" onClick={setFavoriteGlob} >\r\n                                <i className={`${favorite !== false ? \"fas fa-star\" : \"far fa-star\"} mr-1`}></i>\r\n                                {favorite !== false ? \"Remove from \" : \"Add to \"} favorites\r\n                            </ButtonFavorite>\r\n                            <div className=\"btn-group btn-block\" role=\"group\">\r\n                                {youtubeId && (\r\n                                <ButtonSecond type=\"button\" className=\"btn btn-block btn-info-2\" data-id={2} style={{backgroundColor:\"#c4302b\"}}  href={`https://www.youtube.com/watch?v=${youtubeId}`} target=\"_blank\"><i className=\"fab fa-youtube mr-1\"></i>\r\n                                    Trailer\r\n                                </ButtonSecond>)}\r\n\r\n                                {url ? (\r\n                                    <ButtonSecond type=\"button\" className={`btn btn-secondary btn-info-${!youtubeId ? 2 : 3}`} data-id={!youtubeId ? 2 : 3} href={url} target=\"_blank\">\r\n                                        <i className={`fas fa-download ${!youtubeId && (\"mr-1\")}`}></i>\r\n                                        {!youtubeId && (\"Download\")}\r\n                                    </ButtonSecond>\r\n                                )\r\n                                :\r\n                                youtubeId && (\r\n                                    <ButtonSecond type=\"button\" className=\"btn btn-block\" data-id={2} style={{backgroundColor:\"#c4302b\"}}  href={`https://www.youtube.com/watch?v=${youtubeId}`} target=\"_blank\">\r\n                                        <i className=\"fab fa-youtube mr-1\"></i>\r\n                                        Trailer\r\n                                </ButtonSecond>)\r\n                            }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    {playingMode === \"series\" && (\r\n                       <Seasons seasonData={seasons} cover={backdropPath || ImageSrc}/>\r\n                    )}\r\n                </Body>\r\n            </Box>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default MoreInfo\r\n","import React, {useState, useEffect} from 'react'\r\nimport ReactNetflixPlayer from \"../../other/Player-github/player-github\"\r\nimport styled from 'styled-components'\r\nimport {useParams,useHistory} from \"react-router-dom\";\r\nimport {optimizeName} from \"../../other/vod-series-name-optimizer\"\r\nimport {useSelector} from \"react-redux\"\r\nimport DB from \"../../other/local-db\"\r\n\r\nconst Container = styled.div`\r\nposition:absolute;\r\nwidth: 100%;\r\nheight: 100%;\r\ntop: 0;\r\nleft: 0;\r\n`\r\n\r\nconst PlayerSeries = () => {\r\n    const {category,season,episode, stream_id} = useParams();\r\n    const history = useHistory();\r\n\r\n    const tvseries = useSelector(state => state.playlist).find(x=> parseInt(x.series_id) === parseInt(stream_id)).name;\r\n    const streamsTemp = useSelector(state => state.playlistEpisodes)/*.map(x => {\r\n        return {\r\n            ...x,\r\n            playing: parseInt(x.episode_num) === parseInt(episode)\r\n        }\r\n    });*/\r\n\r\n    const [stream, setStream] = useState();\r\n    const [streams, setStreams] = useState([]);\r\n    const [streamStat, setStreamStat] = useState()\r\n\r\n    useEffect(()=>{\r\n        if(!streamsTemp || streamsTemp.length === 0){\r\n            history.replace(`/series/`);\r\n            return;\r\n        }\r\n        setStreams(streamsTemp.map(x => {\r\n            return {\r\n                ...x,\r\n                playing: parseInt(x.episode_num || x.episode) === parseInt(episode),\r\n                id: x.episode_num || x.episode,\r\n                name: x.title\r\n            }\r\n        }))\r\n    },[streamsTemp,episode])\r\n    \r\n    useEffect(()=>{\r\n        if(streams && streams.length>0){\r\n            const s = streams.find(x=>x.playing===true)\r\n            /*if(!s.direct_source)\r\n                s.direct_source = generateUrl(\"series\", s.stream, s.container_extension)*/\r\n\r\n            let stat = DB.findOne(\"series\",stream_id);\r\n            (!stat || (stat && (parseInt(stat.season) !== parseInt(season) || parseInt(stat.episode) !== parseInt(episode)))) && (stat={id: stream_id, season: season, episode: s.id, start:0, tot:0}) \r\n            setStreamStat(stat)\r\n            DB.set(\"series\",stream_id, stat)\r\n            \r\n            setStream(s);\r\n        }\r\n    },[streams])\r\n\r\n    const setStat = (stat) =>{\r\n        setStreamStat(stat);\r\n        DB.set(\"series\",stream_id, stat)\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <ReactNetflixPlayer\r\n            src={stream && (stream.direct_source || stream.url || stream.url2)}\r\n            title={stream && (optimizeName(tvseries))}\r\n            titleMedia={stream && (optimizeName(tvseries))}\r\n            extraInfoMedia = {stream && (optimizeName(stream.title))}\r\n            backButton={()=> history.goBack()}\r\n            FullPlayer\r\n            autoPlay\r\n            startPosition={streamStat ? parseInt(streamStat.start) : 0}\r\n            overlayEnabled\r\n            autoControllCloseEnabled\r\n            Style\r\n            primaryColor=\"var(--second-color)\"\r\n            secundaryColor=\"var(--first-color)\"\r\n            reprodutionList={streams}\r\n            playlistTitle = {\"Season \" + season}\r\n            syncDuration = {(duration, percentage) => setStat({...streamStat, start:duration, tot : parseInt(percentage), episode: episode, season: season})}\r\n\r\n            dataNext={()=>{\r\n                let next = streams.find(x=>x.episode_num > stream.episode_num);\r\n                return { title: next ? `Next: ${next.title}` : \"\"}\r\n            }}\r\n\r\n            onClickItemListReproduction={(id, playing) => {\r\n                let next = streams.find(x=>x.episode_num === id);\r\n                history.replace(`/series/category/${category}/${stream_id}/play/season/${season}/episode/${next.episode_num}/`)\r\n            }}\r\n\r\n            onEnded={() => {\r\n                if(stream){\r\n                    let next = streams.find(x=>x.episode_num > stream.episode_num);\r\n                    if(!next)\r\n                        return history.back();\r\n                    else history.replace(`/series/category/${category}/${stream_id}/play/season/${season}/episode/${next.episode_num}/`)\r\n                }\r\n            }}\r\n\r\n            />\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default PlayerSeries\r\n","import React, {useEffect, useState} from 'react'\r\nimport ReactNetflixPlayer from \"../../other/Player-github/player-github\"\r\nimport styled from 'styled-components'\r\nimport {useParams,useHistory} from \"react-router-dom\";\r\nimport {optimizeName} from \"../../other/vod-series-name-optimizer\"\r\nimport {useSelector} from \"react-redux\"\r\nimport DB from \"../../other/local-db\"\r\nimport {generateUrl} from \"../../other/generate-url\"\r\n\r\nconst Container = styled.div`\r\nposition:absolute;\r\nwidth: 100%;\r\nheight: 100%;\r\ntop: 0;\r\nleft: 0;\r\n`\r\n\r\nconst PlayerVod = () => {\r\n    const {category,stream_id} = useParams();\r\n    const history = useHistory();\r\n\r\n    const stream = useSelector(state => state.playlist).find(x=>x.stream_id === parseInt(stream_id));\r\n    const [streamStat,setStreamStat] = useState(DB.findOne(\"movie\",stream_id));\r\n\r\n    const [url, setUrl] = useState();\r\n\r\n    useEffect(()=>{\r\n        if(!stream){\r\n            history.replace(`/movie/`);\r\n            return;\r\n        }\r\n        if(stream.direct_source)\r\n            setUrl(stream.direct_source)\r\n        else{\r\n            setUrl(generateUrl(\"movie\",stream.stream_id,stream.container_extension))\r\n        }\r\n    },[stream])\r\n\r\n    useEffect(()=>{\r\n        let stat = DB.findOne(\"movie\",stream_id);\r\n        !stat && (stat={id: stream_id, start:0, tot:0}) \r\n        setStreamStat(stat)\r\n        DB.set(\"movie\",stream_id, stat)\r\n    },[category, stream_id])\r\n\r\n    const setStat = (stat) =>{\r\n        setStreamStat(stat);\r\n        DB.set(\"movie\",stream_id, stat)\r\n    }\r\n\r\n\r\n    return (\r\n        <Container>\r\n            <ReactNetflixPlayer\r\n            src={url}\r\n            title={optimizeName(stream.name)}\r\n            titleMedia={optimizeName(stream.name)}\r\n            backButton={()=> history.goBack()}\r\n            FullPlayer\r\n            autoPlay\r\n            startPosition={streamStat ? parseInt(streamStat.start) : 0}\r\n            syncDuration = {(duration, percentage) => setStat({...streamStat, start:duration, tot : parseInt(percentage)})}\r\n\r\n            OnEnded={()=> {DB.del(\"movie\",stream_id);history.goBack()}}\r\n            overlayEnabled\r\n            autoControllCloseEnabled\r\n            Style\r\n            primaryColor=\"var(--second-color)\"\r\n            secundaryColor=\"var(--first-color)\"\r\n            />\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default PlayerVod\r\n","import React, { useEffect, useState } from 'react'\r\nimport styled from \"styled-components\"\r\nimport {useSelector, useDispatch} from \"react-redux\"\r\n\r\nimport {setPlaylist} from \"../../actions/set-Playlist\"\r\nimport {setGroupList} from \"../../actions/set-Group\"\r\n\r\nimport {resetMemory} from \"../../other/last-opened-mode\"\r\n\r\nimport {loadGroup,loadPlaylist} from \"../../other/load-playlist\"\r\nimport {useParams, useHistory, Route,Switch, useLocation} from \"react-router-dom\";\r\n\r\nimport BackgroundPlayer from \"./BackgroundPlayer\"\r\nimport GroupRow from \"./GroupRow\"\r\nimport MoreInfo from \"./MoreInfo\"\r\nimport PlayerSeries from \"../Series/PlayerSeries\"\r\n\r\nimport RowItem from \"./RowItem\"\r\nimport PlayerVod from \"./PlayerVod\"\r\n\r\nimport { VariableSizeList as List, VariableSizeGrid as Grid } from \"react-window\";\r\nimport {convertRemToPixels, convertVhToPixels} from \"../../other/convert-rem\"\r\nimport Popup from \"../Popup/Popup\"\r\n\r\nimport DB from \"../../other/local-db\"\r\n\r\nimport {\r\n    Loading,\r\n  } from '../../other/Player-github/style';\r\n\r\nconst Container = styled.div`\r\nheight: 100vh;\r\noverflow: auto;\r\nmax-width: 100%;\r\noverflow-x: hidden;\r\ntransition: filter 0.5s ease;\r\nbackground-color: var(--first-color);\r\n`\r\n\r\nconst Spin = styled.div`\r\nheight: 100vh;\r\noverflow: auto;\r\noverflow-y: auto;\r\nmax-width: 100%;\r\nwidth: 100vw;\r\noverflow-x: hidden;\r\nbackground-color: transparent;\r\nposition: absolute;\r\nz-index: 100000000000000000;\r\n\r\ndisplay:flex;\r\njustify-content:center;\r\nalign-items:center;\r\n\r\n`\r\n\r\nconst GroupRowContainer = styled.ul`\r\npadding-top:2rem;\r\npadding-bottom: 2rem;\r\nbackground-color: var(--first-color);\r\nlist-style-type: none;\r\npadding-left: 1.7rem;\r\nmax-width: 100vw;\r\noverflow: hidden;\r\nz-index:1;\r\n`\r\n\r\nconst MainVod = () => {\r\n    const { category, playingMode } = useParams();\r\n\r\n    const [streamList, setStreamList] = useState([])  //downloaded provider\r\n    const [playlist, setPlaylistState] = useState(streamList); //used on player\r\n    \r\n    const [allItems, setAllItems] = useState(true)\r\n    const [loadedCategory, setLoadedCategory] = useState(-1)\r\n    const [showPopup, setShowPopup] = useState(false);\r\n\r\n    const categories = useSelector(state => state.groupsList);\r\n\r\n    const [randomMovie, setRandomMovie] = useState()\r\n\r\n    const [blurBackground, setBlurBackground] = useState()\r\n    const [isLoading, setIsLoading] = useState(true)\r\n\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const location = useLocation()\r\n\r\n    const query = useQuery();\r\n    const searchText = query.get(\"search\");\r\n\r\n    const [refresh, setRefresh] = useState(1);\r\n\r\n    useEffect(() => {\r\n        if(location.pathname.match(/category/) && !category)\r\n            showBlur(1)\r\n        else location.pathname.match(/info|fullscreen|menu/) ? showBlur(1) : showBlur(0);\r\n      }, [location.pathname, category]);\r\n\r\n    useEffect(()=>{\r\n        if(location.pathname.match(/category/) && !category)\r\n            showBlur(1)\r\n        else location.pathname.match(/info|fullscreen|menu/) ? showBlur(1) : showBlur(0);\r\n        setAllItems(((isNaN(category) && category === undefined) || location.pathname.match(/info|fullscreen|menu/)))\r\n        if(!location.pathname.match(/info|fullscreen|menu/)) \r\n            setRandomMovie({...searchRandomMovie((isNaN(category) && category === undefined) ? playlist : playlist.filter(x=> x.category_id === category))})\r\n    },[category])\r\n\r\n    useEffect(() => {\r\n        if(!searchText){\r\n            setPlaylistState(streamList)\r\n            setShowPopup(0)\r\n            return;\r\n        }\r\n        const searched = searchText ? streamList.filter(x => x.name.toLowerCase().includes(searchText.toLowerCase())) : streamList\r\n        if (searched.length === 0) {\r\n            setPlaylistState(streamList)\r\n            setShowPopup(1)\r\n        }else setPlaylistState(searched)\r\n    }, [searchText]);\r\n\r\n    useEffect(() => {\r\n        const f = async()=> {\r\n            let cat = categories\r\n            const reset = resetMemory(playingMode);\r\n            if(reset === false && (location.pathname.match(/info|fullscreen|menu/) || (location.pathname.match(/category/) && category === undefined) || category === loadedCategory)) {\r\n                return;\r\n            }\r\n\r\n            setLoadedCategory(category);\r\n            setAllItems(((isNaN(category) && category === undefined) || location.pathname.match(/info|fullscreen|menu/)))\r\n\r\n            showBlur(1);\r\n            setIsLoading(true);\r\n\r\n            setRefresh(0)\r\n            if (reset === true || cat.length === 0) {\r\n                await loadGroup(playingMode).then(gps => {\r\n                    if (!gps || gps.length === 0) {\r\n                        history.replace(\"/\")\r\n                        return;\r\n                    }\r\n                    gps.unshift({category_id:\"fav\", favorite:1, category_name: \"Only favorites\"},{category_id:\"toend\", history: 1, category_name:\"Continue to watch\"})\r\n                    dispatch(setGroupList(gps || []));\r\n                    cat = gps\r\n                })               \r\n            }\r\n            await loadPlaylist(playingMode, category || \"ALL\").then(chs => {\r\n                if(category && isNaN(category)){\r\n                    chs = chs.filter(s=> {\r\n                        const f = DB.findOne(playingMode, playingMode === \"series\" ? s.series_id : s.stream_id, category === \"fav\")\r\n                        return f && (category === \"fav\" ||  (f.tot > 3 &&  f.tot < 95) );\r\n                    })\r\n                }\r\n                dispatch(setPlaylist(chs || []));\r\n                showBlur(0);\r\n                setStreamList(chs||[]);\r\n                setPlaylistState(chs || []);\r\n                setRandomMovie({...searchRandomMovie((isNaN(category) && category === undefined) ? chs : chs.filter(x=> x.category_id === category))})\r\n                setRefresh(1)\r\n            })\r\n        }\r\n        f().catch(err=>console.log(err))\r\n    }, [dispatch, category, playingMode, location.pathname])\r\n\r\n    const showBlur = (mode) =>{\r\n        setBlurBackground(mode !== 0 ? {filter:\"blur(.5rem)\",  pointerEvents: \"none\"} : {});\r\n        if(mode===0)\r\n            setIsLoading(false)\r\n    }\r\n\r\n    const Row = ({ index, style }) => (\r\n        index===0 ?\r\n            randomMovie && randomMovie.name ? \r\n                <BackgroundPlayer \r\n                key={`bg-${randomMovie.stream_id || randomMovie.series_id}`} \r\n                name={randomMovie.name} category_id={randomMovie.category_id} \r\n                stream_id={randomMovie.stream_id || randomMovie.series_id} \r\n                isSeries={playingMode===\"series\"} \r\n                stream_icon={randomMovie.stream_icon || randomMovie.cover}\r\n                style={style}\r\n                existingTmdb={randomMovie.tmdb}\r\n                title= {category && (isNaN(category) ? \"Continue to watch\" : categories.find(x=> parseInt(x.category_id) === parseInt(category)).category_name)}\r\n                />\r\n                :\r\n                <div></div>\r\n        :\r\n            <GroupRow \r\n            key={categories[index-1].category_id} \r\n            category_id={categories[index-1].category_id} \r\n            name={categories[index-1].category_name} \r\n            isSeries={playingMode===\"series\"} \r\n            playlist={ getGroupRowPlaylist(index)} \r\n            style={{...style, paddingLeft: \"1.8rem\", textDecoration: \"none\"}}/>\r\n    );\r\n\r\n    const Cell = ({ columnIndex, rowIndex, style }) => {\r\n        if(rowIndex === 0){\r\n            if(columnIndex !== 0)\r\n                return null\r\n            else{\r\n                return randomMovie && randomMovie.name ? \r\n                [<BackgroundPlayer \r\n                    key={`bg-${randomMovie.stream_id || randomMovie.series_id}`} \r\n                    name={randomMovie.name} category_id={randomMovie.category_id} \r\n                    stream_id={randomMovie.stream_id || randomMovie.series_id} \r\n                    isSeries={playingMode===\"series\"} \r\n                    stream_icon={randomMovie.stream_icon || randomMovie.cover}\r\n                    style={style}\r\n                    existingTmdb={randomMovie.tmdb}\r\n                    title= {category && (isNaN(category) ? getOtherCategoryName(category) : categories.find(x=> parseInt(x.category_id) === parseInt(category)).category_name)}\r\n                />,\r\n                <div></div>]\r\n                :\r\n                <h3 style={{color:\"white\", marginLeft: \"1%\"}}>{category && categories.length > 0 && (isNaN(category) ? getOtherCategoryName(category) : categories.find(x=> parseInt(x.category_id) === parseInt(category)).category_name)}</h3>\r\n            }\r\n        }else{\r\n            const index = ((rowIndex-1)*6)+columnIndex;\r\n            if(!playlist[index])\r\n                return null;\r\n            return(\r\n                <RowItem id={index} key={\"vod\"+(playlist[index].stream_id || playlist[index].series_id)} \r\n                name={playlist[index].name} \r\n                stream_icon={playlist[index].stream_icon || playlist[index].cover} \r\n                stream_id={playlist[index].stream_id || playlist[index].series_id} \r\n                stream_url={playlist[index].direct_source} \r\n                isSeries={playingMode===\"series\"} \r\n                container_extension={playlist[index].container_extension}\r\n                category_id={playlist[index].category_id}  \r\n                existingTmdb={playlist[index].tmdb}\r\n                last={false} style={{...style,paddingBottom:\".7rem\", marginLeft:\"1%\", textDecoration: \"none\"}}/>\r\n          )\r\n\r\n        }\r\n    };\r\n\r\n    const getGroupRowPlaylist = (index) => {\r\n        if (categories[index - 1].history === 1 || categories[index - 1].favorite === 1) {\r\n            return playlist.filter(s => {\r\n                const f = DB.findOne(playingMode, playingMode === \"series\" ? s.series_id : s.stream_id, categories[index - 1].favorite === 1)\r\n                return f && (categories[index - 1].favorite === 1 || (f.tot > 3 &&  f.tot < 95));\r\n            })\r\n        } else {\r\n            return playlist.filter(s => parseInt(s.category_id) === parseInt(categories[index - 1].category_id))\r\n        }\r\n    }\r\n\r\n    const getOtherCategoryName = (cat) => cat === \"fav\" ? \"Only favorites\" : \"Continue to watch\"\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Route path=\"/:playingMode/\">\r\n                { isLoading === true && (<Spin>\r\n                    <Loading color={\"var(--second-color);\"}>\r\n                        <div>\r\n                          <div />\r\n                          <div />\r\n                          <div />\r\n                        </div>\r\n                    </Loading>\r\n                </Spin>)}\r\n                <Container style={{...blurBackground, overflowY:\"hidden\"}}>\r\n                    <GroupRowContainer style={{paddingLeft: \"0rem\", paddingTop:0}}>\r\n                    {refresh !== 0 &&\r\n                    (allItems && playlist.length>0 ?\r\n                        <List\r\n                        refresh={refresh}\r\n                          height={convertVhToPixels(\"100vh\") - convertRemToPixels(3.5)}\r\n                          itemCount={categories.length + 1}\r\n                          itemSize={(index) => {\r\n                              if(index === 0)\r\n                                return convertVhToPixels(\"70vh\");\r\n                            else if(getGroupRowPlaylist(index).length > 0){\r\n                                return convertVhToPixels(\"15vw\")*1.8\r\n                            }else {\r\n                                return 0\r\n                            }\r\n                        }}\r\n                          useIsScrolling={true}\r\n                          style={{overflowX:\"hidden\"}}\r\n                        >{Row}</List>\r\n                    :\r\n                        <Grid\r\n                          columnCount={6}\r\n                          columnWidth={(index)=> index===0 ? convertVhToPixels(\"16.6vw\") : (convertVhToPixels(\"16.6vw\"))}\r\n                          height={convertVhToPixels(\"100vh\") - convertRemToPixels(3.5)}\r\n                          rowCount={parseInt(Math.ceil((playlist.length / 6)))+1}\r\n                          rowHeight={(index)=> {\r\n                              if(index===0){\r\n                                  if((randomMovie && randomMovie.name))\r\n                                    return convertVhToPixels(\"70vh\")\r\n                                else return convertVhToPixels(\"5vh\")\r\n                              }else return convertVhToPixels(\"15vw\")*1.5\r\n                        }}\r\n                          width={convertVhToPixels(\"100vw\")}\r\n                          useIsScrolling={true}\r\n                          style={{overflowX:\"hidden\"}}    \r\n                        >\r\n                          {Cell}\r\n                        </Grid>\r\n                    )}\r\n                    </GroupRowContainer>             \r\n                </Container>\r\n                {showPopup && <Popup title={`No stream found with '${searchText}'`} description={\"Search will be resetted.\"} icon={\"fas fa-search\"}  onclick={()=>{\r\n                  setShowPopup(0);\r\n                  history.replace(location.pathname.split(\"?\")[0])\r\n                }}/>}\r\n                <Switch>\r\n                    <Route path=\"/movie/category/:category/:stream_id/play/\">\r\n                        <PlayerVod/>\r\n                    </Route>\r\n                    <Route path=\"/series/category/:category/:stream_id/play/season/:season/episode/:episode/\">\r\n                        <PlayerSeries/>\r\n                    </Route>\r\n                    <Route path=\"/:playingMode/category/:category/:stream_id/info/\">\r\n                        <MoreInfo key={\"info-\"+category}/>\r\n                    </Route>\r\n                </Switch>\r\n            </Route>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MainVod\r\n\r\n\r\nfunction searchRandomMovie(playlist){\r\n    playlist = playlist.filter(x=> !x.name.match(/xxx|porn|sex|bbc|bitch|cunt|cock|cum|piss|anal|tits|blowjob|masturbate|dick|suck|gangbang/i));\r\n    const tempPlaylist = playlist.filter(x=> x.rating >= 7)\r\n    if(tempPlaylist.length > 0){\r\n        return {...tempPlaylist[Math.floor(Math.random() * tempPlaylist.length)]}\r\n    }else return {...playlist[Math.floor(Math.random() * playlist.length)]}\r\n}\r\n\r\nconst useQuery = () => {\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\n  ","import React, {useState} from \"react\"\r\nimport {HashRouter as Router, Route,Switch} from \"react-router-dom\"\r\nimport {PrivateRoute,ProvideAuth} from \"./other/auth\"\r\nimport \"./App.css\"\r\n\r\nimport NavBar from \"./components/NavBar\"\r\nimport MainMenu from \"./components/MainMenu/MainMenu\"\r\nimport AccountInfo from \"./components/AccountInfo\"\r\nimport Login from \"./components/Login\"\r\n\r\nimport LateralBar from \"./components/LateralBar/LateralBar\"\r\n\r\nimport MainLive from \"./components/Live/MainLive\"\r\nimport Groups from \"./components/Group/Groups\"\r\nimport Search from \"./components/Search/Search\"\r\nimport EpgFullListing from \"./components/Epg-Fullscreen/EpgFullListing\"\r\n\r\nimport MainVod from \"./components/Vod/MainVod\"\r\n\r\nimport {useDispatch} from \"react-redux\"\r\nimport {setTimer60} from \"./actions/timer60\"\r\nimport {setTimer5} from \"./actions/timer5\"\r\n\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch()\r\n  setInterval(() => dispatch(setTimer60()), 50000);\r\n  setInterval(() => dispatch(setTimer5()), 5000);\r\n\r\n  if(window.location.protocol !== 'https:' && window.https===true)\r\n    window.location = window.location.href.replace(\"http\",\"https\");\r\n  else if(window.location.protocol === 'https:'  && window.https===false)\r\n    window.location = window.location.href.replace(\"https\",\"http\");\r\n\r\n  let url = window.location.hash.replace(\"#\",\"\");\r\n\r\n  return (\r\n    <ProvideAuth>\r\n      <Router>\r\n        <Switch>\r\n          <Route>\r\n            <Route path=\"/:playingMode/\">\r\n              <NavBar />\r\n              <LateralBar/>\r\n            </Route>\r\n            <PrivateRoute exact path = \"/\">\r\n              <MainMenu/>\r\n            </PrivateRoute>\r\n\r\n            <Switch>\r\n              <PrivateRoute exact path=\"/:playingMode/category/\"><Groups/></PrivateRoute>\r\n              <PrivateRoute exact path=\"/:playingMode/category/:category/\"></PrivateRoute>\r\n            </Switch>\r\n\r\n            <Switch>\r\n              <PrivateRoute exact path=\"/:playingMode/category/:category/search/\"><Search/></PrivateRoute>\r\n              <PrivateRoute exact path=\"/:playingMode/search/\"><Search/></PrivateRoute>\r\n            </Switch>\r\n            <Switch>\r\n              <PrivateRoute exact path=\"/live/category/:category/tvguide/\"><EpgFullListing/></PrivateRoute>\r\n              <PrivateRoute exact path=\"/live/category/:category/tvguide/:date\"><EpgFullListing/></PrivateRoute>\r\n            </Switch>\r\n\r\n            <Switch>\r\n              <Route path=\"/login/\"><Login url={url}/></Route>\r\n              <PrivateRoute exact path = \"/info/\"><AccountInfo/></PrivateRoute>\r\n              <PrivateRoute path = \"/live/category/:category\"><MainLive/></PrivateRoute>\r\n              <PrivateRoute path = \"/live/\"><MainLive/></PrivateRoute>\r\n              <PrivateRoute path = \"/:playingMode/category/:category\"><MainVod/></PrivateRoute>\r\n              <PrivateRoute path = \"/:playingMode/\"><MainVod/></PrivateRoute>\r\n            </Switch>\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </ProvideAuth>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n\r\n","export const setTimer60 = () => {\r\n    return{\r\n        type: \"SET_TIMER_60\",\r\n        payload: Date.now()\r\n    }\r\n}\r\n","export const setTimer5 = () => {\r\n    return{\r\n        type: \"SET_TIMER_5\",\r\n        payload: Date.now()\r\n    }\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","\r\nconst playingChannelReducer = (state = null, action) => {\r\n    switch(action.type){\r\n        case \"SET_CHANNEL\":\r\n            return {...action.payload};\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default playingChannelReducer;","const playlistEpisodeReducer = (state = [], action) => {\r\n    switch(action.type){\r\n        case \"SET_PLAYLIST_EPISODES\":\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default playlistEpisodeReducer;","const groupsReducer = (state = [], action) => {\r\n    switch(action.type){\r\n        case \"SET_GROUP\":\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default groupsReducer;","const playlistReducer = (state = [], action) => {\r\n    switch(action.type){\r\n        case \"SET_PLAYLIST\":\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default playlistReducer;","const timer60Reducer = (state = Date.now(), action) => {\r\n    switch(action.type){\r\n        case \"SET_TIMER_60\":\r\n            if(action.payload - state > 5000)\r\n                return action.payload;\r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default timer60Reducer;","const timer5Reducer = (state = Date.now(), action) => {\r\n    switch(action.type){\r\n        case \"SET_TIMER_5\":\r\n            if(action.payload - state > 1000)\r\n                return action.payload;\r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default timer5Reducer;","const epgPopupReducer = (state = null, action) => {\r\n    switch(action.type){\r\n        case \"SET_EPG_POPUP\":\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default epgPopupReducer;","import Cookies from 'js-cookie'\r\n\r\nconst h24Reducer = (state = Cookies.get(\"h24\")||\"HH:MM\", action) => {\r\n    switch(action.type){\r\n        case \"SET_H24\":\r\n            Cookies.set(\"h24\",action.payload,{ expires: 365 })\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default h24Reducer;","import playingChannelReducer from \"./playingChannel\";\r\nimport playlistEpisodeReducer from \"./playlist-episodes\";\r\n\r\nimport groupsReducer from \"./groups\";\r\nimport playlistReducer from \"./playlist\";\r\nimport timer60Reducer from \"./timer60s\";\r\nimport timer5Reducer from \"./timer5s\";\r\nimport epgPopupReducer from \"./epgPopup\";\r\nimport h24Reducer from \"./h24\";\r\nimport {combineReducers} from \"redux\";\r\n\r\nconst allReducer = combineReducers({\r\n    playingCh : playingChannelReducer,  // solo counterReducer => counterReducer :  counterReducer\r\n    timer60 : timer60Reducer,\r\n    timer5 : timer5Reducer,\r\n    h24 : h24Reducer,\r\n    epgPopup : epgPopupReducer,\r\n    groupsList : groupsReducer,\r\n    playlist : playlistReducer,\r\n    playlistEpisodes : playlistEpisodeReducer,\r\n})\r\n\r\nexport default allReducer;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport {createStore} from \"redux\";\r\nimport allReducer from \"./reducer/index\"\r\nimport {Provider} from \"react-redux\"\r\n\r\nconst myStore = createStore(\r\n  allReducer,\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={myStore}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","exports.convertRemToPixels = (rem) => {    \r\n    return rem * parseFloat(getComputedStyle(document.documentElement).fontSize);\r\n}\r\n\r\nexports.convertVhToPixels = (value) => {\r\n    var parts = value.match(/([0-9\\.]+)(vh|vw)/)\r\n    var q = Number(parts[1])\r\n    var side = window[['innerHeight', 'innerWidth'][['vh', 'vw'].indexOf(parts[2])]]\r\n    return side * (q/100)\r\n  }","const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n\r\nexports.dateToName = (date) =>{\r\n    let d = new Date(date);\r\n    return days[d.getDay()];\r\n} \r\n\r\nexports.dateToReadable = (date) =>{\r\n    let d = new Date(date);\r\n    return `${d.getFullYear()}-${d.getMonth()+1}-${d.getDate()}`\r\n} ","let oldMode = \"\";\r\nlet previousGroup = -1;\r\n\r\nexports.resetMemory = (mode) =>{\r\n    if(mode !== oldMode){\r\n        oldMode = mode;\r\n        previousGroup = -1;\r\n        return true;\r\n    }return false;\r\n}\r\n\r\nexports.setGroup = (group) =>{\r\n    previousGroup = group;\r\n}\r\n\r\nexports.getGroup = () => {\r\n    return previousGroup;\r\n}","let focused;\r\nexports.getFocus = () =>{\r\n    return focused;\r\n}\r\n\r\nexports.setFocus = (el) =>{\r\n    focused = el;\r\n}"],"sourceRoot":""}